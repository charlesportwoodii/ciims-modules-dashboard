(function(){var t,e,n,r,s,i,o,a,l,c,h,u,p,d,g,f,v,m,y,w,C,S,b,T,P,x,$,H,E,R,k,O,A,D,M,N,q,_,F,W,Y,I,L=[].slice,z={}.hasOwnProperty,X=function(t,e){function n(){this.constructor=t}for(var r in e)z.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},j=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};y={catchupTime:500,initialRate:.03,minTime:500,ghostTime:500,maxProgressPerFrame:10,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!1}},$=function(){var t;return null!=(t="undefined"!=typeof performance&&null!==performance?"function"==typeof performance.now?performance.now():void 0:void 0)?t:+new Date},E=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,m=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==E&&(E=function(t){return setTimeout(t,50)},m=function(t){return clearTimeout(t)}),k=function(t){var e,n;return e=$(),n=function(){var r;return r=$()-e,r>=33?(e=$(),t(r,function(){return E(n)})):setTimeout(n,33-r)},n()},R=function(){var t,e,n;return n=arguments[0],e=arguments[1],t=arguments.length>=3?L.call(arguments,2):[],"function"==typeof n[e]?n[e].apply(n,t):n[e]},w=function(){var t,e,n,r,s,i,o;for(e=arguments[0],r=arguments.length>=2?L.call(arguments,1):[],i=0,o=r.length;o>i;i++)if(n=r[i])for(t in n)z.call(n,t)&&(s=n[t],null!=e[t]&&"object"==typeof e[t]&&null!=s&&"object"==typeof s?w(e[t],s):e[t]=s);return e},g=function(t){var e,n,r,s,i;for(n=e=0,s=0,i=t.length;i>s;s++)r=t[s],n+=Math.abs(r),e++;return n/e},S=function(t,e){var n,r,s;if(null==t&&(t="options"),null==e&&(e=!0),s=document.querySelector("[data-pace-"+t+"]")){if(n=s.getAttribute("data-pace-"+t),!e)return n;try{return JSON.parse(n)}catch(i){return r=i,"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",r):void 0}}},null==window.Pace&&(window.Pace={}),H=Pace.options=w(y,window.paceOptions,S()),a=function(t){function e(){return Y=e.__super__.constructor.apply(this,arguments)}return X(e,t),e}(Error),e=function(){function t(){this.progress=0}return t.prototype.getElement=function(){var t;if(null==this.el){if(t=document.querySelector(H.target),!t)throw new a;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace("pace-done",""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=t.firstChild?t.insertBefore(this.el,t.firstChild):t.appendChild(this.el)}return this.el},t.prototype.finish=function(){var t;return t=this.getElement(),t.className=t.className.replace("pace-active",""),t.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},t.prototype.update=function(t){return this.progress=t,this.render()},t.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(t){a=t}return this.el=void 0},t.prototype.render=function(){var t,e;return null==document.querySelector(H.target)?!1:(t=this.getElement(),t.children[0].style.width=""+this.progress+"%",(!this.lastRenderedProgress||0|(this.lastRenderedProgress|0!==this.progress))&&(t.children[0].setAttribute("data-progress-text",""+(0|this.progress)+"%"),this.progress>=100?e="99":(e=10>this.progress?"0":"",e+=0|this.progress),t.children[0].setAttribute("data-progress",""+e)),this.lastRenderedProgress=this.progress)},t.prototype.done=function(){return this.progress>=100},t}(),o=function(){function t(){this.bindings={}}return t.prototype.trigger=function(t,e){var n,r,s,i,o;if(null!=this.bindings[t]){for(i=this.bindings[t],o=[],r=0,s=i.length;s>r;r++)n=i[r],o.push(n.call(this,e));return o}},t.prototype.on=function(t,e){var n;return null==(n=this.bindings)[t]&&(n[t]=[]),this.bindings[t].push(e)},t}(),_=window.XMLHttpRequest,q=window.XDomainRequest,N=window.WebSocket,C=function(t,e){var n,r,s,i;i=[];for(r in e.prototype)try{s=e.prototype[r],null==t[r]&&"function"!=typeof s?i.push(t[r]=s):i.push(void 0)}catch(o){n=o}return i},P=[],Pace.ignore=function(){var t,e,n;return e=arguments[0],t=arguments.length>=2?L.call(arguments,1):[],P.unshift("ignore"),n=e.apply(null,t),P.shift(),n},Pace.track=function(){var t,e,n;return e=arguments[0],t=arguments.length>=2?L.call(arguments,1):[],P.unshift("track"),n=e.apply(null,t),P.shift(),n},A=function(t){var e;if(null==t&&(t="GET"),"track"===P[0])return"force";if(!P.length&&H.ajax){if("socket"===t&&H.ajax.trackWebSockets)return!0;if(e=t.toUpperCase(),j.call(H.ajax.trackMethods,e)>=0)return!0}return!1},l=function(t){function e(){var t,n=this;e.__super__.constructor.apply(this,arguments),t=function(t){var e;return e=t.open,t.open=function(r,s){return A(r)&&n.trigger("request",{type:r,url:s,request:t}),e.apply(t,arguments)}},window.XMLHttpRequest=function(e){var n;return n=new _(e),t(n),n},C(window.XMLHttpRequest,_),null!=q&&(window.XDomainRequest=function(){var e;return e=new q,t(e),e},C(window.XDomainRequest,q)),null!=N&&H.ajax.trackWebSockets&&(window.WebSocket=function(t,e){var r;return r=new N(t,e),A("socket")&&n.trigger("request",{type:"socket",url:t,protocols:e,request:r}),r},C(window.WebSocket,N))}return X(e,t),e}(o),F=null,b=function(){return null==F&&(F=new l),F},b().on("request",function(e){var n,r,s,i;return i=e.type,s=e.request,Pace.running||H.restartOnRequestAfter===!1&&"force"!==A(i)?void 0:(r=arguments,n=H.restartOnRequestAfter||0,"boolean"==typeof n&&(n=0),setTimeout(function(){var e,n,o,a,l,c,h;if(n="socket"===i?2>s.readyState:(l=s.readyState)>0&&4>l){for(Pace.restart(),c=Pace.sources,h=[],o=0,a=c.length;a>o;o++){if(e=c[o],e instanceof t){e.watch.apply(e,r);break}h.push(void 0)}return h}},n))}),t=function(){function t(){var t=this;this.elements=[],b().on("request",function(){return t.watch.apply(t,arguments)})}return t.prototype.watch=function(t){var e,n,r;return r=t.type,e=t.request,n="socket"===r?new u(e):new p(e),this.elements.push(n)},t}(),p=function(){function t(t){var e,n,r,s,i,o,a=this;if(this.progress=0,null!=window.ProgressEvent)for(n=null,t.addEventListener("progress",function(t){return a.progress=t.lengthComputable?100*t.loaded/t.total:a.progress+(100-a.progress)/2}),o=["load","abort","timeout","error"],r=0,s=o.length;s>r;r++)e=o[r],t.addEventListener(e,function(){return a.progress=100});else i=t.onreadystatechange,t.onreadystatechange=function(){var e;return 0===(e=t.readyState)||4===e?a.progress=100:3===t.readyState&&(a.progress=50),"function"==typeof i?i.apply(null,arguments):void 0}}return t}(),u=function(){function t(t){var e,n,r,s,i=this;for(this.progress=0,s=["error","open"],n=0,r=s.length;r>n;n++)e=s[n],t.addEventListener(e,function(){return i.progress=100})}return t}(),r=function(){function t(t){var e,n,r,i;for(null==t&&(t={}),this.elements=[],null==t.selectors&&(t.selectors=[]),i=t.selectors,n=0,r=i.length;r>n;n++)e=i[n],this.elements.push(new s(e))}return t}(),s=function(){function t(t){this.selector=t,this.progress=0,this.check()}return t.prototype.check=function(){var t=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return t.check()},H.elements.checkInterval)},t.prototype.done=function(){return this.progress=100},t}(),n=function(){function t(){var t,e,n=this;this.progress=null!=(e=this.states[document.readyState])?e:100,t=document.onreadystatechange,document.onreadystatechange=function(){return null!=n.states[document.readyState]&&(n.progress=n.states[document.readyState]),"function"==typeof t?t.apply(null,arguments):void 0}}return t.prototype.states={loading:0,interactive:50,complete:100},t}(),i=function(){function t(){var t,e,n,r,s,i=this;this.progress=0,t=0,s=[],r=0,n=$(),e=setInterval(function(){var o;return o=$()-n-50,n=$(),s.push(o),s.length>H.eventLag.sampleCount&&s.shift(),t=g(s),++r>=H.eventLag.minSamples&&H.eventLag.lagThreshold>t?(i.progress=100,clearInterval(e)):i.progress=100*(3/(t+3))},50)}return t}(),h=function(){function t(t){this.source=t,this.last=this.sinceLastUpdate=0,this.rate=H.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=R(this.source,"progress"))}return t.prototype.tick=function(t,e){var n;return null==e&&(e=R(this.source,"progress")),e>=100&&(this.done=!0),e===this.last?this.sinceLastUpdate+=t:(this.sinceLastUpdate&&(this.rate=(e-this.last)/this.sinceLastUpdate),this.catchup=(e-this.progress)/H.catchupTime,this.sinceLastUpdate=0,this.last=e),e>this.progress&&(this.progress+=this.catchup*t),n=1-Math.pow(this.progress/100,H.easeFactor),this.progress+=n*this.rate*t,this.progress=Math.min(this.lastProgress+H.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},t}(),D=null,O=null,f=null,M=null,d=null,v=null,Pace.running=!1,T=function(){return H.restartOnPushState?Pace.restart():void 0},null!=window.history.pushState&&(W=window.history.pushState,window.history.pushState=function(){return T(),W.apply(window.history,arguments)}),null!=window.history.replaceState&&(I=window.history.replaceState,window.history.replaceState=function(){return T(),I.apply(window.history,arguments)}),c={ajax:t,elements:r,document:n,eventLag:i},(x=function(){var t,n,r,s,i,o,a,l,u;for(Pace.sources=D=[],a=["ajax","elements","document","eventLag"],r=0,i=a.length;i>r;r++)n=a[r],H[n]!==!1&&D.push(new c[n](H[n]));for(u=null!=(l=H.extraSources)?l:[],s=0,o=u.length;o>s;s++)t=u[s],D.push(new t(H));return Pace.bar=f=new e,O=[],M=new h})(),Pace.stop=function(){return Pace.running=!1,f.destroy(),v=!0,null!=d&&("function"==typeof m&&m(d),d=null),x()},Pace.restart=function(){return Pace.stop(),Pace.start()},Pace.go=function(){return Pace.running=!0,f.render(),v=!1,d=k(function(t,e){var n,r,s,i,o,a,l,c,u,p,d,g,m,y,w,C,S,b;for(c=100-f.progress,r=m=0,s=!0,a=y=0,C=D.length;C>y;a=++y)for(d=D[a],p=null!=O[a]?O[a]:O[a]=[],o=null!=(b=d.elements)?b:[d],l=w=0,S=o.length;S>w;l=++w)i=o[l],u=null!=p[l]?p[l]:p[l]=new h(i),s&=u.done,u.done||(r++,m+=u.tick(t));return n=m/r,f.update(M.tick(t,n)),g=$(),f.done()||s||v?(f.update(100),setTimeout(function(){return f.finish(),Pace.running=!1},Math.max(H.ghostTime,Math.min(H.minTime,$()-g)))):e()})},Pace.start=function(t){w(H,t),Pace.running=!0;try{f.render()}catch(e){a=e}return document.querySelector(".pace")?Pace.go():setTimeout(Pace.start,50)},"function"==typeof define&&define.amd?define(function(){return Pace}):"object"==typeof exports?module.exports=Pace:H.startOnPageLoad&&Pace.start()}).call(this),function(){(function(t,e){var n,r,s;return s="shapeshift",r={selector:"*",enableDrag:!0,enableCrossDrop:!0,enableResize:!0,enableTrash:!1,align:"center",colWidth:null,columns:null,minColumns:1,autoHeight:!0,maxHeight:null,minHeight:100,gutterX:10,gutterY:10,paddingX:10,paddingY:10,animated:!0,animateOnInit:!1,animationSpeed:225,animationThreshold:100,dragClone:!1,deleteClone:!0,dragRate:100,dragWhitelist:"*",crossDropWhitelist:"*",cutoffStart:null,cutoffEnd:null,handle:!1,cloneClass:"ss-cloned-child",activeClass:"ss-active-child",draggedClass:"ss-dragged-child",placeholderClass:"ss-placeholder-child",originalContainerClass:"ss-original-container",currentContainerClass:"ss-current-container",previousContainerClass:"ss-previous-container"},n=function(){function n(e,n){this.element=e,this.options=t.extend({},r,n),this.globals={},this.$container=t(e),this.errorCheck()&&this.init()}return n.prototype.errorCheck=function(){var t,e,n,r;return r=this.options,n=!1,e="Shapeshift ERROR:",null===r.colWidth&&(t=this.$container.children(r.selector),0===t.length&&(n=!0,console.error(""+e+" option colWidth must be specified if Shapeshift is initialized with no active children."))),!n},n.prototype.init=function(){return this.createEvents(),this.setGlobals(),this.setIdentifier(),this.setActiveChildren(),this.enableFeatures(),this.gridInit(),this.render(),this.afterInit()},n.prototype.createEvents=function(){var t,e,n=this;return e=this.options,t=this.$container,t.off("ss-arrange").on("ss-arrange",function(t,e){return null==e&&(e=!1),n.render(!1,e)}),t.off("ss-rearrange").on("ss-rearrange",function(){return n.render(!0)}),t.off("ss-setTargetPosition").on("ss-setTargetPosition",function(){return n.setTargetPosition()}),t.off("ss-destroy").on("ss-destroy",function(){return n.destroy()})},n.prototype.setGlobals=function(){return this.globals.animated=this.options.animateOnInit},n.prototype.afterInit=function(){return this.globals.animated=this.options.animated},n.prototype.setIdentifier=function(){return this.identifier="shapeshifted_container_"+Math.random().toString(36).substring(7),this.$container.addClass(this.identifier)},n.prototype.enableFeatures=function(){return this.options.enableResize&&this.enableResize(),this.options.enableDrag||this.options.enableCrossDrop?this.enableDragNDrop():void 0},n.prototype.setActiveChildren=function(){var e,n,r,s,i,o,a,l,c,h,u,p;for(a=this.options,e=this.$container.children(a.selector),n=a.activeClass,l=e.length,i=c=0;l>=0?l>c:c>l;i=l>=0?++c:--c)t(e[i]).addClass(n);for(this.setParsedChildren(),s=a.columns,p=[],i=h=0,u=this.parsedChildren.length;u>=0?u>h:h>u;i=u>=0?++h:--h)r=this.parsedChildren[i].colspan,o=a.minColumns,r>s&&r>o?(a.minColumns=r,p.push(console.error("Shapeshift ERROR: There are child elements that have a larger colspan than the minimum columns set through options.\noptions.minColumns has been set to "+r))):p.push(void 0);return p},n.prototype.setParsedChildren=function(){var e,n,r,s,i,o,a;for(n=this.$container.find("."+this.options.activeClass).filter(":visible"),o=n.length,i=[],s=a=0;o>=0?o>a:a>o;s=o>=0?++a:--a)e=t(n[s]),r={i:s,el:e,colspan:parseInt(e.attr("data-ss-colspan"))||1,height:e.outerHeight()},i.push(r);return this.parsedChildren=i},n.prototype.gridInit=function(){var t,e,n,r,s;return r=this.options.gutterX,this.options.colWidth>=1?this.globals.col_width=this.options.colWidth+r:(n=this.parsedChildren[0],e=n.el.outerWidth(),t=n.colspan,s=(e-(t-1)*r)/t,this.globals.col_width=s+r)},n.prototype.render=function(t,e){return null==t&&(t=!1),this.setGridColumns(),this.arrange(t,e)},n.prototype.setGridColumns=function(){var t,e,n,r,s,i,o,a,l,c;switch(r=this.globals,l=this.options,e=r.col_width,i=l.gutterX,c=l.paddingX,o=this.$container.innerWidth()-2*c,a=l.minColumns,n=l.columns||Math.floor((o+i)/e),a&&a>n&&(n=a),r.columns=n,t=this.parsedChildren.length,n>t&&(n=t),r.child_offset=c,l.align){case"center":return s=n*e-i,r.child_offset+=(o-s)/2;case"right":return s=n*e-i,r.child_offset+=o-s}},n.prototype.arrange=function(t,e){var n,r,s,i,o,a,l,c,h,u,p,d,g,f,v,m,y,w;for(t&&this.setParsedChildren(),h=this.globals,f=this.options,r=this.$container,a=this.getPositions(),v=this.parsedChildren,y=v.length,s=h.animated&&f.animationThreshold>=y,i=f.animationSpeed,c=f.draggedClass,u=w=0;y>=0?y>w:w>y;u=y>=0?++w:--w)n=v[u].el,o=a[u],p=n.hasClass(c),p&&(m=f.placeholderClass,n=n.siblings("."+m)),s&&!p?n.stop(!0,!1).animate(o,i,function(){}):n.css(o);return e&&(s?setTimeout(function(){return r.trigger("ss-drop-complete")},i):r.trigger("ss-drop-complete")),r.trigger("ss-arranged"),f.autoHeight?(l=h.container_height,d=f.maxHeight,g=f.minHeight,g&&g>l?l=g:d&&l>d&&(l=d),r.height(l)):void 0},n.prototype.getPositions=function(t){var e,n,r,s,i,o,a,l,c,h,u,p,d,g,f,v,m,y,w=this;for(null==t&&(t=!0),i=this.globals,c=this.options,a=c.gutterY,h=c.paddingY,s=c.draggedClass,u=this.parsedChildren,v=u.length,e=[],l=m=0,y=i.columns;y>=0?y>m:m>y;l=y>=0?++m:--m)e.push(h);return g=function(t){var n,r,s,o,l,c,h;if(n=t.col,r=t.colspan,o=t.col*i.col_width+i.child_offset,l=e[n],p[t.i]={left:o,top:l},e[n]+=t.height+a,r>=1){for(h=[],s=c=1;r>=1?r>c:c>r;s=r>=1?++c:--c)h.push(e[n+s]=e[n]);return h}},n=function(t){var n,r,s,i,o,a,l,c,h,u,p,d;for(h=e.length-t.colspan+1,c=e.slice(0).splice(0,h),n=void 0,l=p=0;h>=0?h>p:p>h;l=h>=0?++p:--p){for(r=w.lowestCol(c,l),s=t.colspan,i=e[r],o=!0,u=d=1;s>=1?s>d:d>s;u=s>=1?++d:--d)if(a=e[r+u],a>i){o=!1;break}if(o){n=r;break}}return n},f=[],d=function(){var t,e,r,s,i,o,a,l,c,h;for(i=[],s=o=0,l=f.length;l>=0?l>o:o>l;s=l>=0?++o:--o)r=f[s],r.col=n(r),r.col>=0&&(g(r),i.push(s));for(h=[],e=a=c=i.length-1;a>=0;e=a+=-1)t=i[e],h.push(f.splice(t,1));return h},p=[],(r=function(){var r,i,o;for(o=[],l=i=0;v>=0?v>i:i>v;l=v>=0?++i:--i)r=u[l],t||!r.el.hasClass(s)?(r.col=r.colspan>1?n(r):w.lowestCol(e),void 0===r.col?f.push(r):g(r),o.push(d())):o.push(void 0);return o})(),c.autoHeight&&(o=e[this.highestCol(e)]-a,i.container_height=o+h),p},n.prototype.enableDragNDrop=function(){var n,r,s,i,o,a,l,c,h,u,p,d,g,f,v,m,y,w,C=this;return g=this.options,r=this.$container,o=g.activeClass,p=g.draggedClass,v=g.placeholderClass,f=g.originalContainerClass,l=g.currentContainerClass,m=g.previousContainerClass,c=g.deleteClone,u=g.dragRate,h=g.dragClone,a=g.cloneClass,i=s=n=w=y=null,d=!1,g.enableDrag&&r.children("."+o).filter(g.dragWhitelist).draggable({addClasses:!1,containment:"document",handle:g.handle,zIndex:9999,start:function(e){var r;return i=t(e.target),h&&(n=i.clone(!0).insertBefore(i).addClass(a)),i.addClass(p),r=i.prop("tagName"),s=t("<"+r+" class='"+v+"' style='height: "+i.height()+"px; width: "+i.width()+"'></"+r+">"),i.parent().addClass(f).addClass(l),w=i.outerHeight()/2,y=i.outerWidth()/2},drag:function(n,r){return d||h&&c&&t("."+l)[0]===t("."+f)[0]||(s.remove().appendTo("."+l),t("."+l).trigger("ss-setTargetPosition"),d=!0,e.setTimeout(function(){return d=!1},u)),r.position.left=n.pageX-i.parent().offset().left-y,r.position.top=n.pageY-i.parent().offset().top-w},stop:function(){var e,r,o;return r=t("."+f),e=t("."+l),o=t("."+m),i.removeClass(p),t("."+v).remove(),h&&(c&&t("."+l)[0]===t("."+f)[0]?(n.remove(),t("."+l).trigger("ss-rearrange")):n.removeClass(a)),r[0]===e[0]?e.trigger("ss-rearranged",i):(r.trigger("ss-removed",i),e.trigger("ss-added",i)),r.trigger("ss-arrange").removeClass(f),e.trigger("ss-arrange",!0).removeClass(l),o.trigger("ss-arrange").removeClass(m),i=s=null}}),g.enableCrossDrop?r.droppable({accept:g.crossDropWhitelist,tolerance:"intersect",over:function(e){return t("."+m).removeClass(m),t("."+l).removeClass(l).addClass(m),t(e.target).addClass(l)},drop:function(e,n){var r,s,o;return C.options.enableTrash?(s=t("."+f),r=t("."+l),o=t("."+m),i=t(n.helper),r.trigger("ss-trashed",i),i.remove(),s.trigger("ss-rearrange").removeClass(f),r.trigger("ss-rearrange").removeClass(l),o.trigger("ss-arrange").removeClass(m)):void 0}}):void 0},n.prototype.setTargetPosition=function(){var e,n,r,s,i,o,a,l,c,h,u,p,d,g,f,v,m,y,w,C,S,b;if(h=this.options,h.enableTrash)return p=this.options.placeholderClass,t("."+p).remove();if(c=h.draggedClass,e=t("."+c),n=e.parent(),u=this.parsedChildren,i=this.getPositions(!1),w=i.length,f=e.offset().left-n.offset().left+this.globals.col_width/2,v=e.offset().top-n.offset().top+e.height()/2,m=9999999,y=0,w>1){for(a=h.cutoffStart+1||0,o=h.cutoffEnd||w,d=b=a;o>=a?o>b:b>o;d=o>=a?++b:--b)s=i[d],s&&(S=f-s.left,C=v-s.top,S>0&&C>0&&(l=Math.sqrt(C*C+S*S),m>l&&(m=l,y=d,d===w-1&&S>u[d].height/2&&y++)));y===u.length?(r=u[y-1].el,e.insertAfter(r)):(r=u[y].el,e.insertBefore(r))}else 1===w?(s=i[0],f>s.left?this.$container.append(e):this.$container.prepend(e)):this.$container.append(e);return this.arrange(!0),n[0]!==e.parent()[0]?(g=h.previousContainerClass,t("."+g).trigger("ss-rearrange")):void 0},n.prototype.enableResize=function(){var n,r,s,i=this;return n=this.options.animationSpeed,s=!1,r="resize."+this.identifier,t(e).on(r,function(){return s?void 0:(s=!0,setTimeout(function(){return i.render()},n/3),setTimeout(function(){return i.render()},n/3),setTimeout(function(){return s=!1,i.render()},n/3))})},n.prototype.lowestCol=function(t,e){var n;return null==e&&(e=0),n=t.map(function(t,e){return[t,e]}),n.sort(function(t,e){var n;return n=t[0]-e[0],0===n&&(n=t[1]-e[1]),n}),n[e][1]},n.prototype.highestCol=function(n){return t.inArray(Math.max.apply(e,n),n)},n.prototype.destroy=function(){var t,e,n;return e=this.$container,e.off("ss-arrange"),e.off("ss-rearrange"),e.off("ss-setTargetPosition"),e.off("ss-destroy"),n=this.options.activeClass,t=e.find("."+n),this.options.enableDrag&&t.draggable("destroy"),this.options.enableCrossDrop&&e.droppable("destroy"),t.removeClass(n),e.removeClass(this.identifier)},n}(),t.fn[s]=function(r){return this.each(function(){var i,o,a;return o=null!=(a=t(this).attr("class").match(/shapeshifted_container_\w+/))?a[0]:void 0,o&&(i="resize."+o,t(e).off(i),t(this).removeClass(o)),t.data(this,"plugin_"+s,new n(this,r))})}})(jQuery,window,document)}.call(this),function(t,e,n){"use strict";var r,s,i,o,a,l,c,h,u,p,d,g,f,v,m,y,w,C,S,b,T,P,x,$,H,E,R,k,O;T={paneClass:"nano-pane",sliderClass:"nano-slider",contentClass:"nano-content",iOSNativeScrolling:!1,preventPageScrolling:!1,disableResize:!1,alwaysVisible:!1,flashDelay:1500,sliderMinHeight:20,sliderMaxHeight:null,documentContext:null,windowContext:null},y="scrollbar",m="scroll",h="mousedown",u="mousemove",d="mousewheel",p="mouseup",v="resize",a="drag",C="up",f="panedown",i="DOMMouseScroll",o="down",S="wheel",l="keydown",c="keyup",w="touchmove",r="Microsoft Internet Explorer"===e.navigator.appName&&/msie 7./i.test(e.navigator.appVersion)&&e.ActiveXObject,s=null,H=e.requestAnimationFrame,b=e.cancelAnimationFrame,R=n.createElement("div").style,O=function(){var t,e,n,r,s,i;for(r=["t","webkitT","MozT","msT","OT"],t=s=0,i=r.length;i>s;t=++s)if(n=r[t],e=r[t]+"ransform",e in R)return r[t].substr(0,r[t].length-1);return!1}(),k=function(t){return O===!1?!1:""===O?t:O+t.charAt(0).toUpperCase()+t.substr(1)},E=k("transform"),x=E!==!1,P=function(){var t,e,r;return t=n.createElement("div"),e=t.style,e.position="absolute",e.width="100px",e.height="100px",e.overflow=m,e.top="-9999px",n.body.appendChild(t),r=t.offsetWidth-t.clientWidth,n.body.removeChild(t),r},$=function(){var t,n,r;return n=e.navigator.userAgent,(t=/(?=.+Mac OS X)(?=.+Firefox)/.test(n))?(r=/Firefox\/\d{2}\./.exec(n),r&&(r=r[0].replace(/\D+/g,"")),t&&+r>23):!1},g=function(){function l(r,i){this.el=r,this.options=i,s||(s=P()),this.$el=t(this.el),this.doc=t(this.options.documentContext||n),this.win=t(this.options.windowContext||e),this.$content=this.$el.children("."+i.contentClass),this.$content.attr("tabindex",this.options.tabIndex||0),this.content=this.$content[0],this.options.iOSNativeScrolling&&null!=this.el.style.WebkitOverflowScrolling?this.nativeScrolling():this.generate(),this.createEvents(),this.addEvents(),this.reset()}return l.prototype.preventScrolling=function(t,e){if(this.isActive)if(t.type===i)(e===o&&t.originalEvent.detail>0||e===C&&0>t.originalEvent.detail)&&t.preventDefault();else if(t.type===d){if(!t.originalEvent||!t.originalEvent.wheelDelta)return;(e===o&&0>t.originalEvent.wheelDelta||e===C&&t.originalEvent.wheelDelta>0)&&t.preventDefault()}},l.prototype.nativeScrolling=function(){this.$content.css({WebkitOverflowScrolling:"touch"}),this.iOSNativeScrolling=!0,this.isActive=!0},l.prototype.updateScrollValues=function(){var t;t=this.content,this.maxScrollTop=t.scrollHeight-t.clientHeight,this.prevScrollTop=this.contentScrollTop||0,this.contentScrollTop=t.scrollTop,this.iOSNativeScrolling||(this.maxSliderTop=this.paneHeight-this.sliderHeight,this.sliderTop=0===this.maxScrollTop?0:this.contentScrollTop*this.maxSliderTop/this.maxScrollTop)},l.prototype.setOnScrollStyles=function(){var t;x?(t={},t[E]="translate(0, "+this.sliderTop+"px)"):t={top:this.sliderTop},H?this.scrollRAF||(this.scrollRAF=H(function(e){return function(){e.scrollRAF=null,e.slider.css(t)}}(this))):this.slider.css(t)},l.prototype.createEvents=function(){this.events={down:function(t){return function(e){return t.isBeingDragged=!0,t.offsetY=e.pageY-t.slider.offset().top,t.pane.addClass("active"),t.doc.bind(u,t.events[a]).bind(p,t.events[C]),!1}}(this),drag:function(t){return function(e){return t.sliderY=e.pageY-t.$el.offset().top-t.offsetY,t.scroll(),t.contentScrollTop>=t.maxScrollTop&&t.prevScrollTop!==t.maxScrollTop?t.$el.trigger("scrollend"):0===t.contentScrollTop&&0!==t.prevScrollTop&&t.$el.trigger("scrolltop"),!1}}(this),up:function(t){return function(){return t.isBeingDragged=!1,t.pane.removeClass("active"),t.doc.unbind(u,t.events[a]).unbind(p,t.events[C]),!1}}(this),resize:function(t){return function(){t.reset()}}(this),panedown:function(t){return function(e){return t.sliderY=(e.offsetY||e.originalEvent.layerY)-.5*t.sliderHeight,t.scroll(),t.events.down(e),!1}}(this),scroll:function(t){return function(e){t.updateScrollValues(),t.isBeingDragged||(t.iOSNativeScrolling||(t.sliderY=t.sliderTop,t.setOnScrollStyles()),null!=e&&(t.contentScrollTop>=t.maxScrollTop?(t.options.preventPageScrolling&&t.preventScrolling(e,o),t.prevScrollTop!==t.maxScrollTop&&t.$el.trigger("scrollend")):0===t.contentScrollTop&&(t.options.preventPageScrolling&&t.preventScrolling(e,C),0!==t.prevScrollTop&&t.$el.trigger("scrolltop"))))}}(this),wheel:function(t){return function(e){var n;if(null!=e)return n=e.delta||e.wheelDelta||e.originalEvent&&e.originalEvent.wheelDelta||-e.detail||e.originalEvent&&-e.originalEvent.detail,n&&(t.sliderY+=-n/3),t.scroll(),!1}}(this)}},l.prototype.addEvents=function(){var t;this.removeEvents(),t=this.events,this.options.disableResize||this.win.bind(v,t[v]),this.iOSNativeScrolling||(this.slider.bind(h,t[o]),this.pane.bind(h,t[f]).bind(""+d+" "+i,t[S])),this.$content.bind(""+m+" "+d+" "+i+" "+w,t[m])},l.prototype.removeEvents=function(){var t;t=this.events,this.win.unbind(v,t[v]),this.iOSNativeScrolling||(this.slider.unbind(),this.pane.unbind()),this.$content.unbind(""+m+" "+d+" "+i+" "+w,t[m])},l.prototype.generate=function(){var t,n,r,i,o,a;return i=this.options,o=i.paneClass,a=i.sliderClass,t=i.contentClass,this.$el.find("."+o).length||this.$el.find("."+a).length||this.$el.append('<div class="'+o+'"><div class="'+a+'" /></div>'),this.pane=this.$el.children("."+o),this.slider=this.pane.find("."+a),0===s&&$()?(r=e.getComputedStyle(this.content,null).getPropertyValue("padding-right").replace(/\D+/g,""),n={right:-14,paddingRight:+r+14}):s&&(n={right:-s},this.$el.addClass("has-scrollbar")),null!=n&&this.$content.css(n),this},l.prototype.restore=function(){this.stopped=!1,this.iOSNativeScrolling||this.pane.show(),this.addEvents()},l.prototype.reset=function(){var t,e,n,i,o,a,l,c,h,u,p,d;return this.iOSNativeScrolling?(this.contentHeight=this.content.scrollHeight,void 0):(this.$el.find("."+this.options.paneClass).length||this.generate().stop(),this.stopped&&this.restore(),t=this.content,i=t.style,o=i.overflowY,r&&this.$content.css({height:this.$content.height()}),e=t.scrollHeight+s,u=parseInt(this.$el.css("max-height"),10),u>0&&(this.$el.height(""),this.$el.height(t.scrollHeight>u?u:t.scrollHeight)),l=this.pane.outerHeight(!1),h=parseInt(this.pane.css("top"),10),a=parseInt(this.pane.css("bottom"),10),c=l+h+a,d=Math.round(c/e*c),this.options.sliderMinHeight>d?d=this.options.sliderMinHeight:null!=this.options.sliderMaxHeight&&d>this.options.sliderMaxHeight&&(d=this.options.sliderMaxHeight),o===m&&i.overflowX!==m&&(d+=s),this.maxSliderTop=c-d,this.contentHeight=e,this.paneHeight=l,this.paneOuterHeight=c,this.sliderHeight=d,this.slider.height(d),this.events.scroll(),this.pane.show(),this.isActive=!0,t.scrollHeight===t.clientHeight||this.pane.outerHeight(!0)>=t.scrollHeight&&o!==m?(this.pane.hide(),this.isActive=!1):this.el.clientHeight===t.scrollHeight&&o===m?this.slider.hide():this.slider.show(),this.pane.css({opacity:this.options.alwaysVisible?1:"",visibility:this.options.alwaysVisible?"visible":""}),n=this.$content.css("position"),("static"===n||"relative"===n)&&(p=parseInt(this.$content.css("right"),10),p&&this.$content.css({right:"",marginRight:p})),this)},l.prototype.scroll=function(){return this.isActive?(this.sliderY=Math.max(0,this.sliderY),this.sliderY=Math.min(this.maxSliderTop,this.sliderY),this.$content.scrollTop(-1*((this.paneHeight-this.contentHeight+s)*this.sliderY/this.maxSliderTop)),this.iOSNativeScrolling||(this.updateScrollValues(),this.setOnScrollStyles()),this):void 0},l.prototype.scrollBottom=function(t){return this.isActive?(this.$content.scrollTop(this.contentHeight-this.$content.height()-t).trigger(d),this.stop().restore(),this):void 0},l.prototype.scrollTop=function(t){return this.isActive?(this.$content.scrollTop(+t).trigger(d),this.stop().restore(),this):void 0},l.prototype.scrollTo=function(t){return this.isActive?(this.scrollTop(this.$el.find(t).get(0).offsetTop),this):void 0},l.prototype.stop=function(){return b&&this.scrollRAF&&(b(this.scrollRAF),this.scrollRAF=null),this.stopped=!0,this.removeEvents(),this.iOSNativeScrolling||this.pane.hide(),this},l.prototype.destroy=function(){return this.stopped||this.stop(),!this.iOSNativeScrolling&&this.pane.length&&this.pane.remove(),r&&this.$content.height(""),this.$content.removeAttr("tabindex"),this.$el.hasClass("has-scrollbar")&&(this.$el.removeClass("has-scrollbar"),this.$content.css({right:""})),this},l.prototype.flash=function(){return!this.iOSNativeScrolling&&this.isActive?(this.reset(),this.pane.addClass("flashed"),setTimeout(function(t){return function(){t.pane.removeClass("flashed")}}(this),this.options.flashDelay),this):void 0},l}(),t.fn.nanoScroller=function(e){return this.each(function(){var n,r;if((r=this.nanoscroller)||(n=t.extend({},T,e),this.nanoscroller=r=new g(this,n)),e&&"object"==typeof e){if(t.extend(r.options,e),null!=e.scrollBottom)return r.scrollBottom(e.scrollBottom);if(null!=e.scrollTop)return r.scrollTop(e.scrollTop);if(e.scrollTo)return r.scrollTo(e.scrollTo);if("bottom"===e.scroll)return r.scrollBottom(0);if("top"===e.scroll)return r.scrollTop(0);if(e.scroll&&e.scroll instanceof t)return r.scrollTo(e.scroll);if(e.stop)return r.stop();if(e.destroy)return r.destroy();if(e.flash)return r.flash()}return r.reset()})},t.fn.nanoScroller.Constructor=g}(jQuery,window,document);