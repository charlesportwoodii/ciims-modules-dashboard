(function(){var t,e,n,r,i,o,s,a,l,u,c,h,f,p,d,g,m,v,b,y,_,x,w,E,A,C,S,L,T,k,I,N,O,D,R,M,$,q,P,j,B,H,F=[].slice,U={}.hasOwnProperty,z=function(t,e){function n(){this.constructor=t}for(var r in e)U.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},K=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};b={catchupTime:500,initialRate:.03,minTime:500,ghostTime:500,maxProgressPerFrame:10,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!1}},S=function(){var t;return null!=(t="undefined"!=typeof performance&&null!==performance?"function"==typeof performance.now?performance.now():void 0:void 0)?t:+new Date},T=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,v=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==T&&(T=function(t){return setTimeout(t,50)},v=function(t){return clearTimeout(t)}),I=function(t){var e,n;return e=S(),n=function(){var r;return r=S()-e,r>=33?(e=S(),t(r,function(){return T(n)})):setTimeout(n,33-r)},n()},k=function(){var t,e,n;return n=arguments[0],e=arguments[1],t=arguments.length>=3?F.call(arguments,2):[],"function"==typeof n[e]?n[e].apply(n,t):n[e]},y=function(){var t,e,n,r,i,o,s;for(e=arguments[0],r=arguments.length>=2?F.call(arguments,1):[],o=0,s=r.length;s>o;o++)if(n=r[o])for(t in n)U.call(n,t)&&(i=n[t],null!=e[t]&&"object"==typeof e[t]&&null!=i&&"object"==typeof i?y(e[t],i):e[t]=i);return e},d=function(t){var e,n,r,i,o;for(n=e=0,i=0,o=t.length;o>i;i++)r=t[i],n+=Math.abs(r),e++;return n/e},x=function(t,e){var n,r,i;if(null==t&&(t="options"),null==e&&(e=!0),i=document.querySelector("[data-pace-"+t+"]")){if(n=i.getAttribute("data-pace-"+t),!e)return n;try{return JSON.parse(n)}catch(o){return r=o,"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",r):void 0}}},null==window.Pace&&(window.Pace={}),L=Pace.options=y(b,window.paceOptions,x()),a=function(t){function e(){return B=e.__super__.constructor.apply(this,arguments)}return z(e,t),e}(Error),e=function(){function t(){this.progress=0}return t.prototype.getElement=function(){var t;if(null==this.el){if(t=document.querySelector(L.target),!t)throw new a;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace("pace-done",""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=t.firstChild?t.insertBefore(this.el,t.firstChild):t.appendChild(this.el)}return this.el},t.prototype.finish=function(){var t;return t=this.getElement(),t.className=t.className.replace("pace-active",""),t.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},t.prototype.update=function(t){return this.progress=t,this.render()},t.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(t){a=t}return this.el=void 0},t.prototype.render=function(){var t,e;return null==document.querySelector(L.target)?!1:(t=this.getElement(),t.children[0].style.width=""+this.progress+"%",(!this.lastRenderedProgress||0|(this.lastRenderedProgress|0!==this.progress))&&(t.children[0].setAttribute("data-progress-text",""+(0|this.progress)+"%"),this.progress>=100?e="99":(e=10>this.progress?"0":"",e+=0|this.progress),t.children[0].setAttribute("data-progress",""+e)),this.lastRenderedProgress=this.progress)},t.prototype.done=function(){return this.progress>=100},t}(),s=function(){function t(){this.bindings={}}return t.prototype.trigger=function(t,e){var n,r,i,o,s;if(null!=this.bindings[t]){for(o=this.bindings[t],s=[],r=0,i=o.length;i>r;r++)n=o[r],s.push(n.call(this,e));return s}},t.prototype.on=function(t,e){var n;return null==(n=this.bindings)[t]&&(n[t]=[]),this.bindings[t].push(e)},t}(),q=window.XMLHttpRequest,$=window.XDomainRequest,M=window.WebSocket,_=function(t,e){var n,r,i,o;o=[];for(r in e.prototype)try{i=e.prototype[r],null==t[r]&&"function"!=typeof i?o.push(t[r]=i):o.push(void 0)}catch(s){n=s}return o},A=[],Pace.ignore=function(){var t,e,n;return e=arguments[0],t=arguments.length>=2?F.call(arguments,1):[],A.unshift("ignore"),n=e.apply(null,t),A.shift(),n},Pace.track=function(){var t,e,n;return e=arguments[0],t=arguments.length>=2?F.call(arguments,1):[],A.unshift("track"),n=e.apply(null,t),A.shift(),n},O=function(t){var e;if(null==t&&(t="GET"),"track"===A[0])return"force";if(!A.length&&L.ajax){if("socket"===t&&L.ajax.trackWebSockets)return!0;if(e=t.toUpperCase(),K.call(L.ajax.trackMethods,e)>=0)return!0}return!1},l=function(t){function e(){var t,n=this;e.__super__.constructor.apply(this,arguments),t=function(t){var e;return e=t.open,t.open=function(r,i){return O(r)&&n.trigger("request",{type:r,url:i,request:t}),e.apply(t,arguments)}},window.XMLHttpRequest=function(e){var n;return n=new q(e),t(n),n},_(window.XMLHttpRequest,q),null!=$&&(window.XDomainRequest=function(){var e;return e=new $,t(e),e},_(window.XDomainRequest,$)),null!=M&&L.ajax.trackWebSockets&&(window.WebSocket=function(t,e){var r;return r=new M(t,e),O("socket")&&n.trigger("request",{type:"socket",url:t,protocols:e,request:r}),r},_(window.WebSocket,M))}return z(e,t),e}(s),P=null,w=function(){return null==P&&(P=new l),P},w().on("request",function(e){var n,r,i,o;return o=e.type,i=e.request,Pace.running||L.restartOnRequestAfter===!1&&"force"!==O(o)?void 0:(r=arguments,n=L.restartOnRequestAfter||0,"boolean"==typeof n&&(n=0),setTimeout(function(){var e,n,s,a,l,u,c;if(n="socket"===o?2>i.readyState:(l=i.readyState)>0&&4>l){for(Pace.restart(),u=Pace.sources,c=[],s=0,a=u.length;a>s;s++){if(e=u[s],e instanceof t){e.watch.apply(e,r);break}c.push(void 0)}return c}},n))}),t=function(){function t(){var t=this;this.elements=[],w().on("request",function(){return t.watch.apply(t,arguments)})}return t.prototype.watch=function(t){var e,n,r;return r=t.type,e=t.request,n="socket"===r?new h(e):new f(e),this.elements.push(n)},t}(),f=function(){function t(t){var e,n,r,i,o,s,a=this;if(this.progress=0,null!=window.ProgressEvent)for(n=null,t.addEventListener("progress",function(t){return a.progress=t.lengthComputable?100*t.loaded/t.total:a.progress+(100-a.progress)/2}),s=["load","abort","timeout","error"],r=0,i=s.length;i>r;r++)e=s[r],t.addEventListener(e,function(){return a.progress=100});else o=t.onreadystatechange,t.onreadystatechange=function(){var e;return 0===(e=t.readyState)||4===e?a.progress=100:3===t.readyState&&(a.progress=50),"function"==typeof o?o.apply(null,arguments):void 0}}return t}(),h=function(){function t(t){var e,n,r,i,o=this;for(this.progress=0,i=["error","open"],n=0,r=i.length;r>n;n++)e=i[n],t.addEventListener(e,function(){return o.progress=100})}return t}(),r=function(){function t(t){var e,n,r,o;for(null==t&&(t={}),this.elements=[],null==t.selectors&&(t.selectors=[]),o=t.selectors,n=0,r=o.length;r>n;n++)e=o[n],this.elements.push(new i(e))}return t}(),i=function(){function t(t){this.selector=t,this.progress=0,this.check()}return t.prototype.check=function(){var t=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return t.check()},L.elements.checkInterval)},t.prototype.done=function(){return this.progress=100},t}(),n=function(){function t(){var t,e,n=this;this.progress=null!=(e=this.states[document.readyState])?e:100,t=document.onreadystatechange,document.onreadystatechange=function(){return null!=n.states[document.readyState]&&(n.progress=n.states[document.readyState]),"function"==typeof t?t.apply(null,arguments):void 0}}return t.prototype.states={loading:0,interactive:50,complete:100},t}(),o=function(){function t(){var t,e,n,r,i,o=this;this.progress=0,t=0,i=[],r=0,n=S(),e=setInterval(function(){var s;return s=S()-n-50,n=S(),i.push(s),i.length>L.eventLag.sampleCount&&i.shift(),t=d(i),++r>=L.eventLag.minSamples&&L.eventLag.lagThreshold>t?(o.progress=100,clearInterval(e)):o.progress=100*(3/(t+3))},50)}return t}(),c=function(){function t(t){this.source=t,this.last=this.sinceLastUpdate=0,this.rate=L.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=k(this.source,"progress"))}return t.prototype.tick=function(t,e){var n;return null==e&&(e=k(this.source,"progress")),e>=100&&(this.done=!0),e===this.last?this.sinceLastUpdate+=t:(this.sinceLastUpdate&&(this.rate=(e-this.last)/this.sinceLastUpdate),this.catchup=(e-this.progress)/L.catchupTime,this.sinceLastUpdate=0,this.last=e),e>this.progress&&(this.progress+=this.catchup*t),n=1-Math.pow(this.progress/100,L.easeFactor),this.progress+=n*this.rate*t,this.progress=Math.min(this.lastProgress+L.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},t}(),D=null,N=null,g=null,R=null,p=null,m=null,Pace.running=!1,E=function(){return L.restartOnPushState?Pace.restart():void 0},null!=window.history.pushState&&(j=window.history.pushState,window.history.pushState=function(){return E(),j.apply(window.history,arguments)}),null!=window.history.replaceState&&(H=window.history.replaceState,window.history.replaceState=function(){return E(),H.apply(window.history,arguments)}),u={ajax:t,elements:r,document:n,eventLag:o},(C=function(){var t,n,r,i,o,s,a,l,h;for(Pace.sources=D=[],a=["ajax","elements","document","eventLag"],r=0,o=a.length;o>r;r++)n=a[r],L[n]!==!1&&D.push(new u[n](L[n]));for(h=null!=(l=L.extraSources)?l:[],i=0,s=h.length;s>i;i++)t=h[i],D.push(new t(L));return Pace.bar=g=new e,N=[],R=new c})(),Pace.stop=function(){return Pace.running=!1,g.destroy(),m=!0,null!=p&&("function"==typeof v&&v(p),p=null),C()},Pace.restart=function(){return Pace.stop(),Pace.start()},Pace.go=function(){return Pace.running=!0,g.render(),m=!1,p=I(function(t,e){var n,r,i,o,s,a,l,u,h,f,p,d,v,b,y,_,x,w;for(u=100-g.progress,r=v=0,i=!0,a=b=0,_=D.length;_>b;a=++b)for(p=D[a],f=null!=N[a]?N[a]:N[a]=[],s=null!=(w=p.elements)?w:[p],l=y=0,x=s.length;x>y;l=++y)o=s[l],h=null!=f[l]?f[l]:f[l]=new c(o),i&=h.done,h.done||(r++,v+=h.tick(t));return n=v/r,g.update(R.tick(t,n)),d=S(),g.done()||i||m?(g.update(100),setTimeout(function(){return g.finish(),Pace.running=!1},Math.max(L.ghostTime,Math.min(L.minTime,S()-d)))):e()})},Pace.start=function(t){y(L,t),Pace.running=!0;try{g.render()}catch(e){a=e}return document.querySelector(".pace")?Pace.go():setTimeout(Pace.start,50)},"function"==typeof define&&define.amd?define(function(){return Pace}):"object"==typeof exports?module.exports=Pace:L.startOnPageLoad&&Pace.start()}).call(this),function(){(function(t,e){var n,r,i;return i="shapeshift",r={selector:"*",enableDrag:!0,enableCrossDrop:!0,enableResize:!0,enableTrash:!1,align:"center",colWidth:null,columns:null,minColumns:1,autoHeight:!0,maxHeight:null,minHeight:100,gutterX:10,gutterY:10,paddingX:10,paddingY:10,animated:!0,animateOnInit:!1,animationSpeed:225,animationThreshold:100,dragClone:!1,deleteClone:!0,dragRate:100,dragWhitelist:"*",crossDropWhitelist:"*",cutoffStart:null,cutoffEnd:null,handle:!1,cloneClass:"ss-cloned-child",activeClass:"ss-active-child",draggedClass:"ss-dragged-child",placeholderClass:"ss-placeholder-child",originalContainerClass:"ss-original-container",currentContainerClass:"ss-current-container",previousContainerClass:"ss-previous-container"},n=function(){function n(e,n){this.element=e,this.options=t.extend({},r,n),this.globals={},this.$container=t(e),this.errorCheck()&&this.init()}return n.prototype.errorCheck=function(){var t,e,n,r;return r=this.options,n=!1,e="Shapeshift ERROR:",null===r.colWidth&&(t=this.$container.children(r.selector),0===t.length&&(n=!0,console.error(""+e+" option colWidth must be specified if Shapeshift is initialized with no active children."))),!n},n.prototype.init=function(){return this.createEvents(),this.setGlobals(),this.setIdentifier(),this.setActiveChildren(),this.enableFeatures(),this.gridInit(),this.render(),this.afterInit()},n.prototype.createEvents=function(){var t,e,n=this;return e=this.options,t=this.$container,t.off("ss-arrange").on("ss-arrange",function(t,e){return null==e&&(e=!1),n.render(!1,e)}),t.off("ss-rearrange").on("ss-rearrange",function(){return n.render(!0)}),t.off("ss-setTargetPosition").on("ss-setTargetPosition",function(){return n.setTargetPosition()}),t.off("ss-destroy").on("ss-destroy",function(){return n.destroy()})},n.prototype.setGlobals=function(){return this.globals.animated=this.options.animateOnInit},n.prototype.afterInit=function(){return this.globals.animated=this.options.animated},n.prototype.setIdentifier=function(){return this.identifier="shapeshifted_container_"+Math.random().toString(36).substring(7),this.$container.addClass(this.identifier)},n.prototype.enableFeatures=function(){return this.options.enableResize&&this.enableResize(),this.options.enableDrag||this.options.enableCrossDrop?this.enableDragNDrop():void 0},n.prototype.setActiveChildren=function(){var e,n,r,i,o,s,a,l,u,c,h,f;for(a=this.options,e=this.$container.children(a.selector),n=a.activeClass,l=e.length,o=u=0;l>=0?l>u:u>l;o=l>=0?++u:--u)t(e[o]).addClass(n);for(this.setParsedChildren(),i=a.columns,f=[],o=c=0,h=this.parsedChildren.length;h>=0?h>c:c>h;o=h>=0?++c:--c)r=this.parsedChildren[o].colspan,s=a.minColumns,r>i&&r>s?(a.minColumns=r,f.push(console.error("Shapeshift ERROR: There are child elements that have a larger colspan than the minimum columns set through options.\noptions.minColumns has been set to "+r))):f.push(void 0);return f},n.prototype.setParsedChildren=function(){var e,n,r,i,o,s,a;for(n=this.$container.find("."+this.options.activeClass).filter(":visible"),s=n.length,o=[],i=a=0;s>=0?s>a:a>s;i=s>=0?++a:--a)e=t(n[i]),r={i:i,el:e,colspan:parseInt(e.attr("data-ss-colspan"))||1,height:e.outerHeight()},o.push(r);return this.parsedChildren=o},n.prototype.gridInit=function(){var t,e,n,r,i;return r=this.options.gutterX,this.options.colWidth>=1?this.globals.col_width=this.options.colWidth+r:(n=this.parsedChildren[0],e=n.el.outerWidth(),t=n.colspan,i=(e-(t-1)*r)/t,this.globals.col_width=i+r)},n.prototype.render=function(t,e){return null==t&&(t=!1),this.setGridColumns(),this.arrange(t,e)},n.prototype.setGridColumns=function(){var t,e,n,r,i,o,s,a,l,u;switch(r=this.globals,l=this.options,e=r.col_width,o=l.gutterX,u=l.paddingX,s=this.$container.innerWidth()-2*u,a=l.minColumns,n=l.columns||Math.floor((s+o)/e),a&&a>n&&(n=a),r.columns=n,t=this.parsedChildren.length,n>t&&(n=t),r.child_offset=u,l.align){case"center":return i=n*e-o,r.child_offset+=(s-i)/2;case"right":return i=n*e-o,r.child_offset+=s-i}},n.prototype.arrange=function(t,e){var n,r,i,o,s,a,l,u,c,h,f,p,d,g,m,v,b,y;for(t&&this.setParsedChildren(),c=this.globals,g=this.options,r=this.$container,a=this.getPositions(),m=this.parsedChildren,b=m.length,i=c.animated&&g.animationThreshold>=b,o=g.animationSpeed,u=g.draggedClass,h=y=0;b>=0?b>y:y>b;h=b>=0?++y:--y)n=m[h].el,s=a[h],f=n.hasClass(u),f&&(v=g.placeholderClass,n=n.siblings("."+v)),i&&!f?n.stop(!0,!1).animate(s,o,function(){}):n.css(s);return e&&(i?setTimeout(function(){return r.trigger("ss-drop-complete")},o):r.trigger("ss-drop-complete")),r.trigger("ss-arranged"),g.autoHeight?(l=c.container_height,p=g.maxHeight,d=g.minHeight,d&&d>l?l=d:p&&l>p&&(l=p),r.height(l)):void 0},n.prototype.getPositions=function(t){var e,n,r,i,o,s,a,l,u,c,h,f,p,d,g,m,v,b,y=this;for(null==t&&(t=!0),o=this.globals,u=this.options,a=u.gutterY,c=u.paddingY,i=u.draggedClass,h=this.parsedChildren,m=h.length,e=[],l=v=0,b=o.columns;b>=0?b>v:v>b;l=b>=0?++v:--v)e.push(c);return d=function(t){var n,r,i,s,l,u,c;if(n=t.col,r=t.colspan,s=t.col*o.col_width+o.child_offset,l=e[n],f[t.i]={left:s,top:l},e[n]+=t.height+a,r>=1){for(c=[],i=u=1;r>=1?r>u:u>r;i=r>=1?++u:--u)c.push(e[n+i]=e[n]);return c}},n=function(t){var n,r,i,o,s,a,l,u,c,h,f,p;for(c=e.length-t.colspan+1,u=e.slice(0).splice(0,c),n=void 0,l=f=0;c>=0?c>f:f>c;l=c>=0?++f:--f){for(r=y.lowestCol(u,l),i=t.colspan,o=e[r],s=!0,h=p=1;i>=1?i>p:p>i;h=i>=1?++p:--p)if(a=e[r+h],a>o){s=!1;break}if(s){n=r;break}}return n},g=[],p=function(){var t,e,r,i,o,s,a,l,u,c;for(o=[],i=s=0,l=g.length;l>=0?l>s:s>l;i=l>=0?++s:--s)r=g[i],r.col=n(r),r.col>=0&&(d(r),o.push(i));for(c=[],e=a=u=o.length-1;a>=0;e=a+=-1)t=o[e],c.push(g.splice(t,1));return c},f=[],(r=function(){var r,o,s;for(s=[],l=o=0;m>=0?m>o:o>m;l=m>=0?++o:--o)r=h[l],t||!r.el.hasClass(i)?(r.col=r.colspan>1?n(r):y.lowestCol(e),void 0===r.col?g.push(r):d(r),s.push(p())):s.push(void 0);return s})(),u.autoHeight&&(s=e[this.highestCol(e)]-a,o.container_height=s+c),f},n.prototype.enableDragNDrop=function(){var n,r,i,o,s,a,l,u,c,h,f,p,d,g,m,v,b,y,_=this;return d=this.options,r=this.$container,s=d.activeClass,f=d.draggedClass,m=d.placeholderClass,g=d.originalContainerClass,l=d.currentContainerClass,v=d.previousContainerClass,u=d.deleteClone,h=d.dragRate,c=d.dragClone,a=d.cloneClass,o=i=n=y=b=null,p=!1,d.enableDrag&&r.children("."+s).filter(d.dragWhitelist).draggable({addClasses:!1,containment:"document",handle:d.handle,zIndex:9999,start:function(e){var r;return o=t(e.target),c&&(n=o.clone(!0).insertBefore(o).addClass(a)),o.addClass(f),r=o.prop("tagName"),i=t("<"+r+" class='"+m+"' style='height: "+o.height()+"px; width: "+o.width()+"'></"+r+">"),o.parent().addClass(g).addClass(l),y=o.outerHeight()/2,b=o.outerWidth()/2},drag:function(n,r){return p||c&&u&&t("."+l)[0]===t("."+g)[0]||(i.remove().appendTo("."+l),t("."+l).trigger("ss-setTargetPosition"),p=!0,e.setTimeout(function(){return p=!1},h)),r.position.left=n.pageX-o.parent().offset().left-b,r.position.top=n.pageY-o.parent().offset().top-y},stop:function(){var e,r,s;return r=t("."+g),e=t("."+l),s=t("."+v),o.removeClass(f),t("."+m).remove(),c&&(u&&t("."+l)[0]===t("."+g)[0]?(n.remove(),t("."+l).trigger("ss-rearrange")):n.removeClass(a)),r[0]===e[0]?e.trigger("ss-rearranged",o):(r.trigger("ss-removed",o),e.trigger("ss-added",o)),r.trigger("ss-arrange").removeClass(g),e.trigger("ss-arrange",!0).removeClass(l),s.trigger("ss-arrange").removeClass(v),o=i=null}}),d.enableCrossDrop?r.droppable({accept:d.crossDropWhitelist,tolerance:"intersect",over:function(e){return t("."+v).removeClass(v),t("."+l).removeClass(l).addClass(v),t(e.target).addClass(l)},drop:function(e,n){var r,i,s;return _.options.enableTrash?(i=t("."+g),r=t("."+l),s=t("."+v),o=t(n.helper),r.trigger("ss-trashed",o),o.remove(),i.trigger("ss-rearrange").removeClass(g),r.trigger("ss-rearrange").removeClass(l),s.trigger("ss-arrange").removeClass(v)):void 0}}):void 0},n.prototype.setTargetPosition=function(){var e,n,r,i,o,s,a,l,u,c,h,f,p,d,g,m,v,b,y,_,x,w;if(c=this.options,c.enableTrash)return f=this.options.placeholderClass,t("."+f).remove();if(u=c.draggedClass,e=t("."+u),n=e.parent(),h=this.parsedChildren,o=this.getPositions(!1),y=o.length,g=e.offset().left-n.offset().left+this.globals.col_width/2,m=e.offset().top-n.offset().top+e.height()/2,v=9999999,b=0,y>1){for(a=c.cutoffStart+1||0,s=c.cutoffEnd||y,p=w=a;s>=a?s>w:w>s;p=s>=a?++w:--w)i=o[p],i&&(x=g-i.left,_=m-i.top,x>0&&_>0&&(l=Math.sqrt(_*_+x*x),v>l&&(v=l,b=p,p===y-1&&x>h[p].height/2&&b++)));b===h.length?(r=h[b-1].el,e.insertAfter(r)):(r=h[b].el,e.insertBefore(r))}else 1===y?(i=o[0],g>i.left?this.$container.append(e):this.$container.prepend(e)):this.$container.append(e);return this.arrange(!0),n[0]!==e.parent()[0]?(d=c.previousContainerClass,t("."+d).trigger("ss-rearrange")):void 0},n.prototype.enableResize=function(){var n,r,i,o=this;return n=this.options.animationSpeed,i=!1,r="resize."+this.identifier,t(e).on(r,function(){return i?void 0:(i=!0,setTimeout(function(){return o.render()},n/3),setTimeout(function(){return o.render()},n/3),setTimeout(function(){return i=!1,o.render()},n/3))})},n.prototype.lowestCol=function(t,e){var n;return null==e&&(e=0),n=t.map(function(t,e){return[t,e]}),n.sort(function(t,e){var n;return n=t[0]-e[0],0===n&&(n=t[1]-e[1]),n}),n[e][1]},n.prototype.highestCol=function(n){return t.inArray(Math.max.apply(e,n),n)},n.prototype.destroy=function(){var t,e,n;return e=this.$container,e.off("ss-arrange"),e.off("ss-rearrange"),e.off("ss-setTargetPosition"),e.off("ss-destroy"),n=this.options.activeClass,t=e.find("."+n),this.options.enableDrag&&t.draggable("destroy"),this.options.enableCrossDrop&&e.droppable("destroy"),t.removeClass(n),e.removeClass(this.identifier)},n}(),t.fn[i]=function(r){return this.each(function(){var o,s,a;return s=null!=(a=t(this).attr("class").match(/shapeshifted_container_\w+/))?a[0]:void 0,s&&(o="resize."+s,t(e).off(o),t(this).removeClass(s)),t.data(this,"plugin_"+i,new n(this,r))})}})(jQuery,window,document)}.call(this),function(t,e,n){"use strict";var r,i,o,s,a,l,u,c,h,f,p,d,g,m,v,b,y,_,x,w,E,A,C,S,L,T,k,I,N;E={paneClass:"nano-pane",sliderClass:"nano-slider",contentClass:"nano-content",iOSNativeScrolling:!1,preventPageScrolling:!1,disableResize:!1,alwaysVisible:!1,flashDelay:1500,sliderMinHeight:20,sliderMaxHeight:null,documentContext:null,windowContext:null},b="scrollbar",v="scroll",c="mousedown",h="mousemove",p="mousewheel",f="mouseup",m="resize",a="drag",_="up",g="panedown",o="DOMMouseScroll",s="down",x="wheel",l="keydown",u="keyup",y="touchmove",r="Microsoft Internet Explorer"===e.navigator.appName&&/msie 7./i.test(e.navigator.appVersion)&&e.ActiveXObject,i=null,L=e.requestAnimationFrame,w=e.cancelAnimationFrame,k=n.createElement("div").style,N=function(){var t,e,n,r,i,o;for(r=["t","webkitT","MozT","msT","OT"],t=i=0,o=r.length;o>i;t=++i)if(n=r[t],e=r[t]+"ransform",e in k)return r[t].substr(0,r[t].length-1);return!1}(),I=function(t){return N===!1?!1:""===N?t:N+t.charAt(0).toUpperCase()+t.substr(1)},T=I("transform"),C=T!==!1,A=function(){var t,e,r;return t=n.createElement("div"),e=t.style,e.position="absolute",e.width="100px",e.height="100px",e.overflow=v,e.top="-9999px",n.body.appendChild(t),r=t.offsetWidth-t.clientWidth,n.body.removeChild(t),r},S=function(){var t,n,r;return n=e.navigator.userAgent,(t=/(?=.+Mac OS X)(?=.+Firefox)/.test(n))?(r=/Firefox\/\d{2}\./.exec(n),r&&(r=r[0].replace(/\D+/g,"")),t&&+r>23):!1},d=function(){function l(r,o){this.el=r,this.options=o,i||(i=A()),this.$el=t(this.el),this.doc=t(this.options.documentContext||n),this.win=t(this.options.windowContext||e),this.$content=this.$el.children("."+o.contentClass),this.$content.attr("tabindex",this.options.tabIndex||0),this.content=this.$content[0],this.options.iOSNativeScrolling&&null!=this.el.style.WebkitOverflowScrolling?this.nativeScrolling():this.generate(),this.createEvents(),this.addEvents(),this.reset()}return l.prototype.preventScrolling=function(t,e){if(this.isActive)if(t.type===o)(e===s&&t.originalEvent.detail>0||e===_&&0>t.originalEvent.detail)&&t.preventDefault();else if(t.type===p){if(!t.originalEvent||!t.originalEvent.wheelDelta)return;(e===s&&0>t.originalEvent.wheelDelta||e===_&&t.originalEvent.wheelDelta>0)&&t.preventDefault()}},l.prototype.nativeScrolling=function(){this.$content.css({WebkitOverflowScrolling:"touch"}),this.iOSNativeScrolling=!0,this.isActive=!0},l.prototype.updateScrollValues=function(){var t;t=this.content,this.maxScrollTop=t.scrollHeight-t.clientHeight,this.prevScrollTop=this.contentScrollTop||0,this.contentScrollTop=t.scrollTop,this.iOSNativeScrolling||(this.maxSliderTop=this.paneHeight-this.sliderHeight,this.sliderTop=0===this.maxScrollTop?0:this.contentScrollTop*this.maxSliderTop/this.maxScrollTop)},l.prototype.setOnScrollStyles=function(){var t;C?(t={},t[T]="translate(0, "+this.sliderTop+"px)"):t={top:this.sliderTop},L?this.scrollRAF||(this.scrollRAF=L(function(e){return function(){e.scrollRAF=null,e.slider.css(t)}}(this))):this.slider.css(t)},l.prototype.createEvents=function(){this.events={down:function(t){return function(e){return t.isBeingDragged=!0,t.offsetY=e.pageY-t.slider.offset().top,t.pane.addClass("active"),t.doc.bind(h,t.events[a]).bind(f,t.events[_]),!1}}(this),drag:function(t){return function(e){return t.sliderY=e.pageY-t.$el.offset().top-t.offsetY,t.scroll(),t.contentScrollTop>=t.maxScrollTop&&t.prevScrollTop!==t.maxScrollTop?t.$el.trigger("scrollend"):0===t.contentScrollTop&&0!==t.prevScrollTop&&t.$el.trigger("scrolltop"),!1}}(this),up:function(t){return function(){return t.isBeingDragged=!1,t.pane.removeClass("active"),t.doc.unbind(h,t.events[a]).unbind(f,t.events[_]),!1}}(this),resize:function(t){return function(){t.reset()}}(this),panedown:function(t){return function(e){return t.sliderY=(e.offsetY||e.originalEvent.layerY)-.5*t.sliderHeight,t.scroll(),t.events.down(e),!1}}(this),scroll:function(t){return function(e){t.updateScrollValues(),t.isBeingDragged||(t.iOSNativeScrolling||(t.sliderY=t.sliderTop,t.setOnScrollStyles()),null!=e&&(t.contentScrollTop>=t.maxScrollTop?(t.options.preventPageScrolling&&t.preventScrolling(e,s),t.prevScrollTop!==t.maxScrollTop&&t.$el.trigger("scrollend")):0===t.contentScrollTop&&(t.options.preventPageScrolling&&t.preventScrolling(e,_),0!==t.prevScrollTop&&t.$el.trigger("scrolltop"))))}}(this),wheel:function(t){return function(e){var n;if(null!=e)return n=e.delta||e.wheelDelta||e.originalEvent&&e.originalEvent.wheelDelta||-e.detail||e.originalEvent&&-e.originalEvent.detail,n&&(t.sliderY+=-n/3),t.scroll(),!1}}(this)}},l.prototype.addEvents=function(){var t;this.removeEvents(),t=this.events,this.options.disableResize||this.win.bind(m,t[m]),this.iOSNativeScrolling||(this.slider.bind(c,t[s]),this.pane.bind(c,t[g]).bind(""+p+" "+o,t[x])),this.$content.bind(""+v+" "+p+" "+o+" "+y,t[v])},l.prototype.removeEvents=function(){var t;t=this.events,this.win.unbind(m,t[m]),this.iOSNativeScrolling||(this.slider.unbind(),this.pane.unbind()),this.$content.unbind(""+v+" "+p+" "+o+" "+y,t[v])},l.prototype.generate=function(){var t,n,r,o,s,a;return o=this.options,s=o.paneClass,a=o.sliderClass,t=o.contentClass,this.$el.find("."+s).length||this.$el.find("."+a).length||this.$el.append('<div class="'+s+'"><div class="'+a+'" /></div>'),this.pane=this.$el.children("."+s),this.slider=this.pane.find("."+a),0===i&&S()?(r=e.getComputedStyle(this.content,null).getPropertyValue("padding-right").replace(/\D+/g,""),n={right:-14,paddingRight:+r+14}):i&&(n={right:-i},this.$el.addClass("has-scrollbar")),null!=n&&this.$content.css(n),this},l.prototype.restore=function(){this.stopped=!1,this.iOSNativeScrolling||this.pane.show(),this.addEvents()},l.prototype.reset=function(){var t,e,n,o,s,a,l,u,c,h,f,p;return this.iOSNativeScrolling?(this.contentHeight=this.content.scrollHeight,void 0):(this.$el.find("."+this.options.paneClass).length||this.generate().stop(),this.stopped&&this.restore(),t=this.content,o=t.style,s=o.overflowY,r&&this.$content.css({height:this.$content.height()}),e=t.scrollHeight+i,h=parseInt(this.$el.css("max-height"),10),h>0&&(this.$el.height(""),this.$el.height(t.scrollHeight>h?h:t.scrollHeight)),l=this.pane.outerHeight(!1),c=parseInt(this.pane.css("top"),10),a=parseInt(this.pane.css("bottom"),10),u=l+c+a,p=Math.round(u/e*u),this.options.sliderMinHeight>p?p=this.options.sliderMinHeight:null!=this.options.sliderMaxHeight&&p>this.options.sliderMaxHeight&&(p=this.options.sliderMaxHeight),s===v&&o.overflowX!==v&&(p+=i),this.maxSliderTop=u-p,this.contentHeight=e,this.paneHeight=l,this.paneOuterHeight=u,this.sliderHeight=p,this.slider.height(p),this.events.scroll(),this.pane.show(),this.isActive=!0,t.scrollHeight===t.clientHeight||this.pane.outerHeight(!0)>=t.scrollHeight&&s!==v?(this.pane.hide(),this.isActive=!1):this.el.clientHeight===t.scrollHeight&&s===v?this.slider.hide():this.slider.show(),this.pane.css({opacity:this.options.alwaysVisible?1:"",visibility:this.options.alwaysVisible?"visible":""}),n=this.$content.css("position"),("static"===n||"relative"===n)&&(f=parseInt(this.$content.css("right"),10),f&&this.$content.css({right:"",marginRight:f})),this)},l.prototype.scroll=function(){return this.isActive?(this.sliderY=Math.max(0,this.sliderY),this.sliderY=Math.min(this.maxSliderTop,this.sliderY),this.$content.scrollTop(-1*((this.paneHeight-this.contentHeight+i)*this.sliderY/this.maxSliderTop)),this.iOSNativeScrolling||(this.updateScrollValues(),this.setOnScrollStyles()),this):void 0},l.prototype.scrollBottom=function(t){return this.isActive?(this.$content.scrollTop(this.contentHeight-this.$content.height()-t).trigger(p),this.stop().restore(),this):void 0},l.prototype.scrollTop=function(t){return this.isActive?(this.$content.scrollTop(+t).trigger(p),this.stop().restore(),this):void 0},l.prototype.scrollTo=function(t){return this.isActive?(this.scrollTop(this.$el.find(t).get(0).offsetTop),this):void 0},l.prototype.stop=function(){return w&&this.scrollRAF&&(w(this.scrollRAF),this.scrollRAF=null),this.stopped=!0,this.removeEvents(),this.iOSNativeScrolling||this.pane.hide(),this},l.prototype.destroy=function(){return this.stopped||this.stop(),!this.iOSNativeScrolling&&this.pane.length&&this.pane.remove(),r&&this.$content.height(""),this.$content.removeAttr("tabindex"),this.$el.hasClass("has-scrollbar")&&(this.$el.removeClass("has-scrollbar"),this.$content.css({right:""})),this},l.prototype.flash=function(){return!this.iOSNativeScrolling&&this.isActive?(this.reset(),this.pane.addClass("flashed"),setTimeout(function(t){return function(){t.pane.removeClass("flashed")}}(this),this.options.flashDelay),this):void 0},l}(),t.fn.nanoScroller=function(e){return this.each(function(){var n,r;if((r=this.nanoscroller)||(n=t.extend({},E,e),this.nanoscroller=r=new d(this,n)),e&&"object"==typeof e){if(t.extend(r.options,e),null!=e.scrollBottom)return r.scrollBottom(e.scrollBottom);if(null!=e.scrollTop)return r.scrollTop(e.scrollTop);if(e.scrollTo)return r.scrollTo(e.scrollTo);if("bottom"===e.scroll)return r.scrollBottom(0);if("top"===e.scroll)return r.scrollTop(0);if(e.scroll&&e.scroll instanceof t)return r.scrollTo(e.scroll);if(e.stop)return r.stop();if(e.destroy)return r.destroy();if(e.flash)return r.flash()}return r.reset()})},t.fn.nanoScroller.Constructor=d}(jQuery,window,document),reMarked=function(opts){function extend(t,e){if(!e)return t;for(var n in t)"Object"==typeOf(e[n])?extend(t[n],e[n]):e[n]!==void 0&&(t[n]=e[n])}function typeOf(t){return Object.prototype.toString.call(t).slice(8,-1)}function rep(t,e){for(var n="";e-->0;)n+=t;return n}function trim12(t){for(var t=t.replace(/^\s\s*/,""),e=/\s/,n=t.length;e.test(t.charAt(--n)););return t.slice(0,n+1)}function lpad(t,e,n){return rep(e,n-t.length)+t}function rpad(t,e,n){return t+rep(e,n-t.length)}function otag(t,e){if(!t)return"";for(var n,r="<"+t,i=0;e.attributes.length>i;i++)n=e.attributes.item(i),r+=" "+n.nodeName+'="'+n.nodeValue+'"';return r+">"}function ctag(t){return t?"</"+t+">":""}function pfxLines(t,e){return t.replace(/^/gm,e)}function nodeName(t){return("#text"==t.nodeName?"txt":t.nodeName).toLowerCase()}function wrap(t,e){var n,r;return e instanceof Array?(n=e[0],r=e[1]):n=r=e,n=n instanceof Function?n.call(this,t):n,r=r instanceof Function?r.call(this,t):r,n+t+r}function outerHTML(t){return t.outerHTML||function(t){var e,n=document.createElement("div");return n.appendChild(t.cloneNode(!0)),e=n.innerHTML,n=null,e}(t)}var links=[],cfg={link_list:!1,h1_setext:!0,h2_setext:!0,h_atx_suf:!1,gfm_code:!1,li_bullet:"*-+"[0],hr_char:"-_*"[0],indnt_str:["    ","	","  "][0],bold_char:"*_"[0],emph_char:"*_"[1],gfm_del:!0,gfm_tbls:!0,tbl_edges:!1,hash_lnks:!1,br_only:!1,col_pre:"col ",nbsp_spc:!1,span_tags:!0,div_tags:!0,unsup_tags:{ignore:"script style noscript",inline:"span sup sub i u b center big",block2:"div form fieldset dl header footer address article aside figure hgroup section",block1c:"dt dd caption legend figcaption output",block2c:"canvas audio video iframe"},tag_remap:{i:"em",b:"strong"}},isIE=eval("/*@cc_on!@*/!1"),docMode=document.documentMode,ieLt9=isIE&&(!docMode||9>docMode),textContProp=ieLt9?"innerText":"textContent";
extend(cfg,opts),this.render=function(t){if(links=[],"string"==typeof t){var e=t;t=document.createElement("div"),t.innerHTML=e}var n=new lib.tag(t,null,0),r=n.rend().replace(/^[\t ]+\n/gm,"\n");if(cfg.link_list&&links.length>0){r+="\n\n";for(var i=0,o=0;links.length>o;o++)if(links[o].e.title){var s=links[o].e.href.length;s&&s>i&&(i=s)}for(var a=0;links.length>a;a++){var l=links[a].e.title?rep(" ",i+2-links[a].e.href.length)+'"'+links[a].e.title+'"':"";r+="  ["+(+a+1)+"]: "+("a"==nodeName(links[a].e)?links[a].e.href:links[a].e.src)+l+"\n"}}return r.replace(/^[\t ]+\n/gm,"\n")};var lib={};lib.tag=klass({wrap:"",lnPfx:"",lnInd:0,init:function(t,e,n){this.e=t,this.p=e,this.i=n,this.c=[],this.tag=nodeName(t),this.initK()},initK:function(){var t;if(this.e.hasChildNodes()){var e,n,r=cfg.unsup_tags.inline;if("table"==nodeName(this.e)&&this.e.hasChildNodes()&&!this.e.tHead){var i=document.createElement("thead"),o=this.e.tBodies[0],s=o.rows[0],a=s.cells[0];if("th"==nodeName(a))i.appendChild(s);else for(var l,t=0,u=s.cells.length,c=i.insertRow();u>t++;)l=document.createElement("th"),l[textContProp]=cfg.col_pre+t,c.appendChild(l);this.e.insertBefore(i,o)}for(t in this.e.childNodes)if(/\d+/.test(t)&&(e=this.e.childNodes[t],n=nodeName(e),n in cfg.tag_remap&&(n=cfg.tag_remap[n]),!cfg.unsup_tags.ignore.test(n))){if("txt"==n&&!nodeName(this.e).match(r)&&/^\s+$/.test(e[textContProp])){if(0==t||t==this.e.childNodes.length-1)continue;var h=this.e.childNodes[t-1],f=this.e.childNodes[t+1];if(h&&!nodeName(h).match(r)||f&&!nodeName(f).match(r))continue}var p=null;if(!lib[n]){var d=cfg.unsup_tags;d.inline.test(n)?n="span"!=n||cfg.span_tags?"tinl":"inl":d.block2.test(n)?n="div"!=n||cfg.div_tags?"tblk":"blk":d.block1c.test(n)?n="ctblk":d.block2c.test(n)?(n="ctblk",p=["\n\n",""]):n="rawhtml"}var g=new lib[n](e,this,this.c.length);p&&(g.wrap=p),(g instanceof lib.a&&e.href||g instanceof lib.img)&&(g.lnkid=links.length,links.push(g)),this.c.push(g)}}},rend:function(){return this.rendK().replace(/\n{3,}/gm,"\n\n")},rendK:function(){for(var t,e="",n=0;this.c.length>n;n++)t=this.c[n],e+=(t.bef||"")+t.rend()+(t.aft||"");return e.replace(/^\n+|\n+$/,"")}}),lib.blk=lib.tag.extend({wrap:["\n\n",""],wrapK:null,tagr:!1,lnInd:null,init:function(t,e,n){this.supr(t,e,n),null===this.lnInd&&(this.lnInd=this.p&&this.tagr&&this.c[0]instanceof lib.blk?4:0),null===this.wrapK&&(this.wrapK=this.tagr&&this.c[0]instanceof lib.blk?"\n":"")},rend:function(){return wrap.call(this,(this.tagr?otag(this.tag,this.e):"")+wrap.call(this,pfxLines(pfxLines(this.rendK(),this.lnPfx),rep(" ",this.lnInd)),this.wrapK)+(this.tagr?ctag(this.tag):""),this.wrap)},rendK:function(){var t=this.supr();if(this.p instanceof lib.li){var e=null,n=t.match(/^[\t ]+/gm);if(!n)return t;for(var r=0;n.length>r;r++)(null===e||n[r][0].length<e.length)&&(e=n[r][0]);return t.replace(RegExp("^"+e),"")}return t}}),lib.tblk=lib.blk.extend({tagr:!0}),lib.cblk=lib.blk.extend({wrap:["\n",""]}),lib.ctblk=lib.cblk.extend({tagr:!0}),lib.inl=lib.tag.extend({rend:function(){var t=this.rendK(),e=t.match(/^((?: |\t|&nbsp;)*)(.*?)((?: |\t|&nbsp;)*)$/)||[t,"",t,""];return e[1]+wrap.call(this,e[2],this.wrap)+e[3]}}),lib.tinl=lib.inl.extend({tagr:!0,rend:function(){return otag(this.tag,this.e)+wrap.call(this,this.rendK(),this.wrap)+ctag(this.tag)}}),lib.p=lib.blk.extend({rendK:function(){return this.supr().replace(/^\s+/gm,"")}}),lib.list=lib.blk.extend({expn:!1,wrap:[function(){return this.p instanceof lib.li?"\n":"\n\n"},""]}),lib.ul=lib.list.extend({}),lib.ol=lib.list.extend({}),lib.li=lib.cblk.extend({wrap:["\n",function(t){return this.p.expn||t.match(/\n{2}/gm)?"\n":""}],wrapK:[function(){return"ul"==this.p.tag?cfg.li_bullet+" ":this.i+1+".  "},""],rendK:function(){return this.supr().replace(/\n([^\n])/gm,"\n"+cfg.indnt_str+"$1")}}),lib.hr=lib.blk.extend({wrap:["\n\n",rep(cfg.hr_char,3)]}),lib.h=lib.blk.extend({}),lib.h_setext=lib.h.extend({}),cfg.h1_setext&&(lib.h1=lib.h_setext.extend({wrapK:["",function(t){return"\n"+rep("=",t.length)}]})),cfg.h2_setext&&(lib.h2=lib.h_setext.extend({wrapK:["",function(t){return"\n"+rep("-",t.length)}]})),lib.h_atx=lib.h.extend({wrapK:[function(){return rep("#",this.tag[1])+" "},function(){return cfg.h_atx_suf?" "+rep("#",this.tag[1]):""}]}),!cfg.h1_setext&&(lib.h1=lib.h_atx.extend({})),!cfg.h2_setext&&(lib.h2=lib.h_atx.extend({})),lib.h3=lib.h_atx.extend({}),lib.h4=lib.h_atx.extend({}),lib.h5=lib.h_atx.extend({}),lib.h6=lib.h_atx.extend({}),lib.a=lib.inl.extend({lnkid:null,rend:function(){var t=this.rendK(),e=this.e.getAttribute("href"),n=this.e.title?' "'+this.e.title+'"':"";return!e||e==t||"#"==e[0]&&!cfg.hash_lnks?t:cfg.link_list?"["+t+"] ["+(this.lnkid+1)+"]":"["+t+"]("+e+n+")"}}),lib.img=lib.inl.extend({lnkid:null,rend:function(){var t=this.e.alt,e=this.e.getAttribute("src");if(cfg.link_list)return"!["+t+"] ["+(this.lnkid+1)+"]";var n=this.e.title?' "'+this.e.title+'"':"";return"!["+t+"]("+e+n+")"}}),lib.em=lib.inl.extend({wrap:cfg.emph_char}),lib.del=cfg.gfm_del?lib.inl.extend({wrap:"~~"}):lib.tinl.extend(),lib.br=lib.inl.extend({wrap:["",function(){var t=cfg.br_only?"<br>":"  ";return this.p instanceof lib.h?"<br>":t+"\n"}]}),lib.strong=lib.inl.extend({wrap:rep(cfg.bold_char,2)}),lib.blockquote=lib.blk.extend({lnPfx:"> ",rend:function(){return this.supr().replace(/>[ \t]$/gm,">")}}),lib.pre=lib.blk.extend({tagr:!0,wrapK:"\n",lnInd:0}),lib.code=lib.blk.extend({tagr:!1,wrap:"",wrapK:function(t){return-1!==t.indexOf("`")?"``":"`"},lnInd:0,init:function(t,e,n){if(this.supr(t,e,n),this.p instanceof lib.pre)if(this.p.tagr=!1,cfg.gfm_code){var r=this.e.getAttribute("class");r=(r||"").split(" ")[0],0===r.indexOf("lang-")&&(r=r.substr(5)),this.wrapK=["```"+r+"\n","\n```"]}else this.wrapK="",this.p.lnInd=4}}),lib.table=cfg.gfm_tbls?lib.blk.extend({cols:[],init:function(t,e,n){this.supr(t,e,n),this.cols=[]},rend:function(){for(var t=0;this.c.length>t;t++)for(var e=0;this.c[t].c.length>e;e++)for(var n=0;this.c[t].c[e].c.length>n;n++)this.c[t].c[e].c[n].prep();return this.supr()}}):lib.tblk.extend(),lib.thead=cfg.gfm_tbls?lib.cblk.extend({wrap:["\n",function(){for(var t="",e=0;this.p.cols.length>e;e++){var n=this.p.cols[e],r="c"==n.a[0]?":":" ",i="r"==n.a[0]||"c"==n.a[0]?":":" ";t+=(0==e&&cfg.tbl_edges?"|":"")+r+rep("-",n.w)+i+(this.p.cols.length-1>e||cfg.tbl_edges?"|":"")}return"\n"+trim12(t)}]}):lib.ctblk.extend(),lib.tbody=cfg.gfm_tbls?lib.cblk.extend():lib.ctblk.extend(),lib.tfoot=cfg.gfm_tbls?lib.cblk.extend():lib.ctblk.extend(),lib.tr=cfg.gfm_tbls?lib.cblk.extend({wrapK:[cfg.tbl_edges?"| ":"",cfg.tbl_edges?" |":""]}):lib.ctblk.extend(),lib.th=cfg.gfm_tbls?lib.inl.extend({guts:null,wrap:[function(){var t,e=this.p.p.p.cols[this.i],n=0==this.i?"":" ",r=e.w-this.guts.length;switch(e.a[0]){case"r":t=rep(" ",r);break;case"c":t=rep(" ",Math.floor(r/2));break;default:t=""}return n+t},function(){var t,e=this.p.p.p.cols[this.i],n=this.i==this.p.c.length-1?"":" |",r=e.w-this.guts.length;switch(e.a[0]){case"r":t="";break;case"c":t=rep(" ",Math.ceil(r/2));break;default:t=rep(" ",r)}return t+n}],prep:function(){this.guts=this.rendK(),this.rendK=function(){return this.guts};var t=this.p.p.p.cols;t[this.i]||(t[this.i]={w:null,a:""});var e=t[this.i];e.w=Math.max(e.w||0,this.guts.length);var n=this.e.align||this.e.style.textAlign;n&&(e.a=n)}}):lib.ctblk.extend(),lib.td=lib.th.extend(),lib.txt=lib.inl.extend({initK:function(){this.c=this.e.textContent.split(/^/gm)},rendK:function(){var t=this.c.join("").replace(/\r/gm,"");return this.p instanceof lib.code||this.p instanceof lib.pre||(t=t.replace(/^\s*([#*])/gm,function(t,e){return t.replace(e,"\\"+e)})),0==this.i&&(t=t.replace(/^\n+/,"")),this.i==this.p.c.length-1&&(t=t.replace(/\n+$/,"")),t.replace(/\u00a0/gm,cfg.nbsp_spc?" ":"&nbsp;")}}),lib.rawhtml=lib.blk.extend({initK:function(){this.guts=outerHTML(this.e)},rendK:function(){return this.guts}});for(var i in cfg.unsup_tags)cfg.unsup_tags[i]=RegExp("^(?:"+("inline"==i?"a|em|strong|img|code|del|":"")+cfg.unsup_tags[i].replace(/\s/g,"|")+")$")},!function(t,e,n){"function"==typeof define?define(n):"undefined"!=typeof module?module.exports=n():e[t]=n()}("klass",this,function(){function t(t){return i.call(e(t)?t:function(){},t,1)}function e(t){return typeof t===o}function n(t,e,n){return function(){var r=this.supr;this.supr=n[a][t];var i={}.fabricatedUndefined,o=i;try{o=e.apply(this,arguments)}finally{this.supr=r}return o}}function r(t,r,i){for(var o in r)r.hasOwnProperty(o)&&(t[o]=e(r[o])&&e(i[a][o])&&s.test(r[o])?n(o,r[o],i):r[o])}function i(t,n){function i(){}function o(){this.init?this.init.apply(this,arguments):(n||u&&s.apply(this,arguments),c.apply(this,arguments))}i[a]=this[a];var s=this,l=new i,u=e(t),c=u?t:this,h=u?{}:t;return o.methods=function(t){return r(l,t,s),o[a]=l,this},o.methods.call(o,h).prototype.constructor=o,o.extend=arguments.callee,o[a].implement=o.statics=function(t,e){return t="string"==typeof t?function(){var n={};return n[t]=e,n}():t,r(this,t,s),this},o}var o="function",s=/xyz/.test(function(){})?/\bsupr\b/:/.*/,a="prototype";return t}),!function(t){if("object"==typeof exports)module.exports=t();else if("function"==typeof define&&define.amd)define(t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.Quill=t()}}(function(){var t;return function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);throw Error("Cannot find module '"+s+"'")}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return i(n?n:e)},u,u.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;r.length>s;s++)i(r[s]);return i}({1:[function(t,e){e.exports=t("./src/quill")},{"./src/quill":40}],2:[function(t,e){function n(){}var r=e.exports={};r.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var n=[];return window.addEventListener("message",function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),n.length>0)){var r=n.shift();r()}},!0),function(t){n.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),r.title="browser",r.browser=!0,r.env={},r.argv=[],r.on=n,r.once=n,r.off=n,r.emit=n,r.binding=function(){throw Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(){throw Error("process.chdir is not supported")}},{}],"x/3aRz":[function(e,n,r){(function(e){!function(e){function n(){this._events={},this._conf&&r.call(this,this._conf)}function r(t){t&&(this._conf=t,t.delimiter&&(this.delimiter=t.delimiter),t.maxListeners&&(this._events.maxListeners=t.maxListeners),t.wildcard&&(this.wildcard=t.wildcard),t.newListener&&(this.newListener=t.newListener),this.wildcard&&(this.listenerTree={}))}function i(t){this._events={},this.newListener=!1,r.call(this,t)}function o(t,e,n,r){if(!n)return[];var i,s,a,l,u,c,h,f=[],p=e.length,d=e[r],g=e[r+1];if(r===p&&n._listeners){if("function"==typeof n._listeners)return t&&t.push(n._listeners),[n];for(i=0,s=n._listeners.length;s>i;i++)t&&t.push(n._listeners[i]);return[n]}if("*"===d||"**"===d||n[d]){if("*"===d){for(a in n)"_listeners"!==a&&n.hasOwnProperty(a)&&(f=f.concat(o(t,e,n[a],r+1)));return f}if("**"===d){h=r+1===p||r+2===p&&"*"===g,h&&n._listeners&&(f=f.concat(o(t,e,n,p)));for(a in n)"_listeners"!==a&&n.hasOwnProperty(a)&&("*"===a||"**"===a?(n[a]._listeners&&!h&&(f=f.concat(o(t,e,n[a],p))),f=f.concat(o(t,e,n[a],r))):f=f.concat(a===g?o(t,e,n[a],r+2):o(t,e,n[a],r)));return f}f=f.concat(o(t,e,n[d],r+1))}if(l=n["*"],l&&o(t,e,l,r+1),u=n["**"])if(p>r){u._listeners&&o(t,e,u,p);for(a in u)"_listeners"!==a&&u.hasOwnProperty(a)&&(a===g?o(t,e,u[a],r+2):a===d?o(t,e,u[a],r+1):(c={},c[a]=u[a],o(t,e,{"**":c},r+1)))}else u._listeners?o(t,e,u,p):u["*"]&&u["*"]._listeners&&o(t,e,u["*"],p);return f}function s(t,e){t="string"==typeof t?t.split(this.delimiter):t.slice();for(var n=0,r=t.length;r>n+1;n++)if("**"===t[n]&&"**"===t[n+1])return;for(var i=this.listenerTree,o=t.shift();o;){if(i[o]||(i[o]={}),i=i[o],0===t.length){if(i._listeners){if("function"==typeof i._listeners)i._listeners=[i._listeners,e];else if(a(i._listeners)&&(i._listeners.push(e),!i._listeners.warned)){var s=l;this._events.maxListeners!==void 0&&(s=this._events.maxListeners),s>0&&i._listeners.length>s&&(i._listeners.warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",i._listeners.length),console.trace())}}else i._listeners=e;return!0}o=t.shift()}return!0}var a=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},l=10;i.prototype.delimiter=".",i.prototype.setMaxListeners=function(t){this._events||n.call(this),this._events.maxListeners=t,this._conf||(this._conf={}),this._conf.maxListeners=t},i.prototype.event="",i.prototype.once=function(t,e){return this.many(t,1,e),this},i.prototype.many=function(t,e,n){function r(){0===--e&&i.off(t,r),n.apply(this,arguments)}var i=this;if("function"!=typeof n)throw Error("many only accepts instances of Function");return r._origin=n,this.on(t,r),i},i.prototype.emit=function(){this._events||n.call(this);var t=arguments[0];if("newListener"===t&&!this.newListener&&!this._events.newListener)return!1;if(this._all){for(var e=arguments.length,r=Array(e-1),i=1;e>i;i++)r[i-1]=arguments[i];for(i=0,e=this._all.length;e>i;i++)this.event=t,this._all[i].apply(this,r)}if("error"===t&&!(this._all||this._events.error||this.wildcard&&this.listenerTree.error))throw arguments[1]instanceof Error?arguments[1]:Error("Uncaught, unspecified 'error' event.");var s;if(this.wildcard){s=[];var a="string"==typeof t?t.split(this.delimiter):t.slice();o.call(this,s,a,this.listenerTree,0)}else s=this._events[t];if("function"==typeof s){if(this.event=t,1===arguments.length)s.call(this);else if(arguments.length>1)switch(arguments.length){case 2:s.call(this,arguments[1]);break;case 3:s.call(this,arguments[1],arguments[2]);break;default:for(var e=arguments.length,r=Array(e-1),i=1;e>i;i++)r[i-1]=arguments[i];s.apply(this,r)}return!0}if(s){for(var e=arguments.length,r=Array(e-1),i=1;e>i;i++)r[i-1]=arguments[i];for(var l=s.slice(),i=0,e=l.length;e>i;i++)this.event=t,l[i].apply(this,r);return l.length>0||this._all}return this._all},i.prototype.on=function(t,e){if("function"==typeof t)return this.onAny(t),this;if("function"!=typeof e)throw Error("on only accepts instances of Function");if(this._events||n.call(this),this.emit("newListener",t,e),this.wildcard)return s.call(this,t,e),this;if(this._events[t]){if("function"==typeof this._events[t])this._events[t]=[this._events[t],e];else if(a(this._events[t])&&(this._events[t].push(e),!this._events[t].warned)){var r=l;this._events.maxListeners!==void 0&&(r=this._events.maxListeners),r>0&&this._events[t].length>r&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),console.trace())}}else this._events[t]=e;return this},i.prototype.onAny=function(t){if(this._all||(this._all=[]),"function"!=typeof t)throw Error("onAny only accepts instances of Function");return this._all.push(t),this},i.prototype.addListener=i.prototype.on,i.prototype.off=function(t,e){if("function"!=typeof e)throw Error("removeListener only takes instances of Function");var n,r=[];if(this.wildcard){var i="string"==typeof t?t.split(this.delimiter):t.slice();r=o.call(this,null,i,this.listenerTree,0)}else{if(!this._events[t])return this;n=this._events[t],r.push({_listeners:n})}for(var s=0;r.length>s;s++){var l=r[s];if(n=l._listeners,a(n)){for(var u=-1,c=0,h=n.length;h>c;c++)if(n[c]===e||n[c].listener&&n[c].listener===e||n[c]._origin&&n[c]._origin===e){u=c;break}if(0>u)continue;return this.wildcard?l._listeners.splice(u,1):this._events[t].splice(u,1),0===n.length&&(this.wildcard?delete l._listeners:delete this._events[t]),this}(n===e||n.listener&&n.listener===e||n._origin&&n._origin===e)&&(this.wildcard?delete l._listeners:delete this._events[t])}return this},i.prototype.offAny=function(t){var e,n=0,r=0;if(t&&this._all&&this._all.length>0){for(e=this._all,n=0,r=e.length;r>n;n++)if(t===e[n])return e.splice(n,1),this}else this._all=[];return this},i.prototype.removeListener=i.prototype.off,i.prototype.removeAllListeners=function(t){if(0===arguments.length)return!this._events||n.call(this),this;if(this.wildcard)for(var e="string"==typeof t?t.split(this.delimiter):t.slice(),r=o.call(this,null,e,this.listenerTree,0),i=0;r.length>i;i++){var s=r[i];s._listeners=null}else{if(!this._events[t])return this;this._events[t]=null}return this},i.prototype.listeners=function(t){if(this.wildcard){var e=[],r="string"==typeof t?t.split(this.delimiter):t.slice();return o.call(this,e,r,this.listenerTree,0),e}return this._events||n.call(this),this._events[t]||(this._events[t]=[]),a(this._events[t])||(this._events[t]=[this._events[t]]),this._events[t]},i.prototype.listenersAny=function(){return this._all?this._all:[]},"function"==typeof t&&t.amd?t(function(){return i}):e.EventEmitter2=i}(e!==void 0&&e.title!==void 0&&r!==void 0?r:window)}).call(this,e("/var/www/ciims/protected/modules/dashboard/bower_components/quill/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"/var/www/ciims/protected/modules/dashboard/bower_components/quill/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":2}],eventemitter2:[function(t,e){e.exports=t("x/3aRz")},{}],"4HJaAd":[function(e,n,r){(function(e){(function(){function i(t,e,n){for(var r=(n||0)-1,i=t?t.length:0;i>++r;)if(t[r]===e)return r;return-1}function o(t,e){var n=typeof e;if(t=t.cache,"boolean"==n||null==e)return t[e]?0:-1;"number"!=n&&"string"!=n&&(n="object");var r="number"==n?e:E+e;return t=(t=t[n])&&t[r],"object"==n?t&&i(t,e)>-1?0:-1:t?0:-1}function s(t){var e=this.cache,n=typeof t;if("boolean"==n||null==t)e[t]=!0;else{"number"!=n&&"string"!=n&&(n="object");var r="number"==n?t:E+t,i=e[n]||(e[n]={});"object"==n?(i[r]||(i[r]=[])).push(t):i[r]=!0}}function a(t){return t.charCodeAt(0)}function l(t,e){for(var n=t.criteria,r=e.criteria,i=-1,o=n.length;o>++i;){var s=n[i],a=r[i];if(s!==a){if(s>a||s===void 0)return 1;if(a>s||a===void 0)return-1}}return t.index-e.index}function u(t){var e=-1,n=t.length,r=t[0],i=t[0|n/2],o=t[n-1];if(r&&"object"==typeof r&&i&&"object"==typeof i&&o&&"object"==typeof o)return!1;var a=f();a["false"]=a["null"]=a["true"]=a.undefined=!1;var l=f();for(l.array=t,l.cache=a,l.push=s;n>++e;)l.push(t[e]);return l}function c(t){return"\\"+ne[t]}function h(){return y.pop()||[]}function f(){return _.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function p(t){return"function"!=typeof t.toString&&"string"==typeof(t+"")}function d(t){t.length=0,C>y.length&&y.push(t)}function g(t){var e=t.cache;e&&g(e),t.array=t.cache=t.criteria=t.object=t.number=t.string=t.value=null,C>_.length&&_.push(t)}function m(t,e,n){e||(e=0),n===void 0&&(n=t?t.length:0);for(var r=-1,i=n-e||0,o=Array(0>i?0:i);i>++r;)o[r]=t[e+r];return o}function v(t){function e(t){return t&&"object"==typeof t&&!ci(t)&&Ur.call(t,"__wrapped__")?t:new n(t)}function n(t,e){this.__chain__=!!e,this.__wrapped__=t}function r(t){function e(){if(r){var t=m(r);zr.apply(t,arguments)}if(this instanceof e){var o=y(n.prototype),s=n.apply(o,t||arguments);return $e(s)?s:o}return n.apply(i,t||arguments)}var n=t[0],r=t[2],i=t[4];return ui(e,t),e}function s(t,e,n,r,i){if(n){var o=n(t);if(o!==void 0)return o}var a=$e(t);if(!a)return t;var l=$r.call(t);if(!Y[l]||!ai.nodeClass&&p(t))return t;var u=oi[l];switch(l){case U:case z:return new u(+t);case J:case X:return new u(t);case V:return o=u(t.source,N.exec(t)),o.lastIndex=t.lastIndex,o}var c=ci(t);if(e){var f=!r;r||(r=h()),i||(i=h());for(var g=r.length;g--;)if(r[g]==t)return i[g];o=c?u(t.length):{}}else o=c?m(t):xi({},t);return c&&(Ur.call(t,"index")&&(o.index=t.index),Ur.call(t,"input")&&(o.input=t.input)),e?(r.push(t),i.push(o),(c?_i:Ai)(t,function(t,a){o[a]=s(t,e,n,r,i)}),f&&(d(r),d(i)),o):o}function y(t){return $e(t)?Xr(t):{}}function _(t,e,n){if("function"!=typeof t)return ir;if(e===void 0||!("prototype"in t))return t;var r=t.__bindData__;if(r===void 0&&(ai.funcNames&&(r=!t.name),r=r||!ai.funcDecomp,!r)){var i=Hr.call(t);ai.funcNames||(r=!O.test(i)),r||(r=$.test(i),ui(t,r))}if(r===!1||r!==!0&&1&r[1])return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return Hn(t,e)}function C(t){function e(){var t=l?s:this;if(i){var p=m(i);zr.apply(p,arguments)}if((o||c)&&(p||(p=m(arguments)),o&&zr.apply(p,o),c&&a>p.length))return r|=16,C([n,h?r:-4&r,p,null,s,a]);if(p||(p=arguments),u&&(n=t[f]),this instanceof e){t=y(n.prototype);var d=n.apply(t,p);return $e(d)?d:t}return n.apply(t,p)}var n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],a=t[5],l=1&r,u=2&r,c=4&r,h=8&r,f=n;return ui(e,t),e}function ne(t,e){var n=-1,r=de(),s=t?t.length:0,a=s>=A&&r===i,l=[];if(a){var c=u(e);c?(r=o,e=c):a=!1}for(;s>++n;){var h=t[n];0>r(e,h)&&l.push(h)}return a&&g(e),l}function ie(t,e,n,r){for(var i=(r||0)-1,o=t?t.length:0,s=[];o>++i;){var a=t[i];if(a&&"object"==typeof a&&"number"==typeof a.length&&(ci(a)||be(a))){e||(a=ie(a,e,n));var l=-1,u=a.length,c=s.length;for(s.length+=u;u>++l;)s[c++]=a[l]}else n||s.push(a)}return s}function oe(t,e,n,r,i,o){if(n){var s=n(t,e);if(s!==void 0)return!!s}if(t===e)return 0!==t||1/t==1/e;var a=typeof t,l=typeof e;if(!(t!==t||t&&ee[a]||e&&ee[l]))return!1;if(null==t||null==e)return t===e;var u=$r.call(t),c=$r.call(e);if(u==H&&(u=W),c==H&&(c=W),u!=c)return!1;switch(u){case U:case z:return+t==+e;case J:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case V:case X:return t==kr(e)}var f=u==F;if(!f){var g=Ur.call(t,"__wrapped__"),m=Ur.call(e,"__wrapped__");if(g||m)return oe(g?t.__wrapped__:t,m?e.__wrapped__:e,n,r,i,o);if(u!=W||!ai.nodeClass&&(p(t)||p(e)))return!1;var v=!ai.argsObject&&be(t)?Lr:t.constructor,b=!ai.argsObject&&be(e)?Lr:e.constructor;if(v!=b&&!(Me(v)&&v instanceof v&&Me(b)&&b instanceof b)&&"constructor"in t&&"constructor"in e)return!1}var y=!i;i||(i=h()),o||(o=h());for(var _=i.length;_--;)if(i[_]==t)return o[_]==e;var x=0;if(s=!0,i.push(t),o.push(e),f){if(_=t.length,x=e.length,s=x==_,s||r)for(;x--;){var w=_,E=e[x];if(r)for(;w--&&!(s=oe(t[w],E,n,r,i,o)););else if(!(s=oe(t[x],E,n,r,i,o)))break}}else Ei(e,function(e,a,l){return Ur.call(l,a)?(x++,s=Ur.call(t,a)&&oe(t[a],e,n,r,i,o)):void 0}),s&&!r&&Ei(t,function(t,e,n){return Ur.call(n,e)?s=--x>-1:void 0});return i.pop(),o.pop(),y&&(d(i),d(o)),s}function se(t,e,n,r,i){(ci(e)?nn:Ai)(e,function(e,o){var s,a,l=e,u=t[o];if(e&&((a=ci(e))||Ci(e))){for(var c=r.length;c--;)if(s=r[c]==e){u=i[c];break}if(!s){var h;n&&(l=n(u,e),(h=l!==void 0)&&(u=l)),h||(u=a?ci(u)?u:[]:Ci(u)?u:{}),r.push(e),i.push(u),h||se(u,e,n,r,i)}}else n&&(l=n(u,e),l===void 0&&(l=e)),l!==void 0&&(u=l);t[o]=u})}function ae(t,e){return t+Br(ii()*(e-t+1))}function ue(t,e,n){var r=-1,s=de(),a=t?t.length:0,l=[],c=!e&&a>=A&&s===i,f=n||c?h():l;if(c){var p=u(f);s=o,f=p}for(;a>++r;){var m=t[r],v=n?n(m,r,t):m;(e?!r||f[f.length-1]!==v:0>s(f,v))&&((n||c)&&f.push(v),l.push(m))}return c?(d(f.array),g(f)):n&&d(f),l}function ce(t){return function(n,r,i){var o={};if(r=e.createCallback(r,i,3),ci(n))for(var s=-1,a=n.length;a>++s;){var l=n[s];t(o,l,r(l,s,n),n)}else _i(n,function(e,n,i){t(o,e,r(e,n,i),i)});return o}}function he(t,e,n,i,o,s){var a=1&e,l=2&e,u=4&e,c=16&e,h=32&e;if(!l&&!Me(t))throw new Ir;c&&!n.length&&(e&=-17,c=n=!1),h&&!i.length&&(e&=-33,h=i=!1);var f=t&&t.__bindData__;if(f&&f!==!0)return f=m(f),f[2]&&(f[2]=m(f[2])),f[3]&&(f[3]=m(f[3])),!a||1&f[1]||(f[4]=o),!a&&1&f[1]&&(e|=8),!u||4&f[1]||(f[5]=s),c&&zr.apply(f[2]||(f[2]=[]),n),h&&Wr.apply(f[3]||(f[3]=[]),i),f[1]|=e,he.apply(null,f);var p=1==e||17===e?r:C;return p([t,e,n,i,o,s])}function fe(){te.shadowedProps=j,te.support=ai,te.array=te.bottom=te.loop=te.top="",te.init="iterable",te.useHas=!0;for(var t,e=0;t=arguments[e];e++)for(var n in t)te[n]=t[n];var r=te.args;te.firstArg=/^[^,]+/.exec(r)[0];var i=Ar("baseCreateCallback, errorClass, errorProto, hasOwnProperty, indicatorObject, isArguments, isArray, isString, keys, objectProto, objectTypes, nonEnumProps, stringClass, stringProto, toString","return function("+r+") {\n"+li(te)+"\n}");return i(_,K,Or,Ur,w,be,ci,He,te.keys,Dr,ee,si,X,Rr,$r)}function pe(t){return mi[t]}function de(){var t=(t=e.indexOf)===An?i:t;return t}function ge(t){return"function"==typeof t&&qr.test(t)}function me(t){var e,n;return!t||$r.call(t)!=W||(e=t.constructor,Me(e)&&!(e instanceof e))||!ai.argsClass&&be(t)||!ai.nodeClass&&p(t)?!1:ai.ownLast?(Ei(t,function(t,e,r){return n=Ur.call(r,e),!1}),n!==!1):(Ei(t,function(t,e){n=e}),n===void 0||Ur.call(t,n))}function ve(t){return vi[t]}function be(t){return t&&"object"==typeof t&&"number"==typeof t.length&&$r.call(t)==H||!1}function ye(t,e,n,r){return"boolean"!=typeof e&&null!=e&&(r=n,n=e,e=!1),s(t,e,"function"==typeof n&&_(n,r,1))}function _e(t,e,n){return s(t,!0,"function"==typeof e&&_(e,n,1))}function xe(t,e){var n=y(t);return e?xi(n,e):n}function we(t,n,r){var i;return n=e.createCallback(n,r,3),Ai(t,function(t,e,r){return n(t,e,r)?(i=e,!1):void 0}),i}function Ee(t,n,r){var i;return n=e.createCallback(n,r,3),Ce(t,function(t,e,r){return n(t,e,r)?(i=e,!1):void 0}),i}function Ae(t,e,n){var r=[];Ei(t,function(t,e){r.push(e,t)});var i=r.length;for(e=_(e,n,3);i--&&e(r[i--],r[i],t)!==!1;);return t}function Ce(t,e,n){var r=fi(t),i=r.length;for(e=_(e,n,3);i--;){var o=r[i];if(e(t[o],o,t)===!1)break}return t}function Se(t){var e=[];return Ei(t,function(t,n){Me(t)&&e.push(n)}),e.sort()}function Le(t,e){return t?Ur.call(t,e):!1}function Te(t){for(var e=-1,n=fi(t),r=n.length,i={};r>++e;){var o=n[e];i[t[o]]=o}return i}function ke(t){return t===!0||t===!1||t&&"object"==typeof t&&$r.call(t)==U||!1}function Ie(t){return t&&"object"==typeof t&&$r.call(t)==z||!1}function Ne(t){return t&&1===t.nodeType||!1}function Oe(t){var e=!0;if(!t)return e;var n=$r.call(t),r=t.length;return n==F||n==X||(ai.argsClass?n==H:be(t))||n==W&&"number"==typeof r&&Me(t.splice)?!r:(Ai(t,function(){return e=!1}),e)}function De(t,e,n,r){return oe(t,e,"function"==typeof n&&_(n,r,2))}function Re(t){return Zr(t)&&!Qr(parseFloat(t))}function Me(t){return"function"==typeof t}function $e(t){return!(!t||!ee[typeof t])}function qe(t){return je(t)&&t!=+t}function Pe(t){return null===t}function je(t){return"number"==typeof t||t&&"object"==typeof t&&$r.call(t)==J||!1}function Be(t){return t&&ee[typeof t]&&$r.call(t)==V||!1}function He(t){return"string"==typeof t||t&&"object"==typeof t&&$r.call(t)==X||!1}function Fe(t){return t===void 0}function Ue(t,n,r){var i={};return n=e.createCallback(n,r,3),Ai(t,function(t,e,r){i[e]=n(t,e,r)}),i}function ze(t){var e=arguments,n=2;if(!$e(t))return t;if("number"!=typeof e[2]&&(n=e.length),n>3&&"function"==typeof e[n-2])var r=_(e[--n-1],e[n--],2);else n>2&&"function"==typeof e[n-1]&&(r=e[--n]);for(var i=m(arguments,1,n),o=-1,s=h(),a=h();n>++o;)se(t,i[o],r,s,a);return d(s),d(a),t}function Ke(t,n,r){var i={};if("function"!=typeof n){var o=[];Ei(t,function(t,e){o.push(e)}),o=ne(o,ie(arguments,!0,!1,1));for(var s=-1,a=o.length;a>++s;){var l=o[s];i[l]=t[l]}}else n=e.createCallback(n,r,3),Ei(t,function(t,e,r){n(t,e,r)||(i[e]=t)});return i}function Ge(t){for(var e=-1,n=fi(t),r=n.length,i=_r(r);r>++e;){var o=n[e];i[e]=[o,t[o]]}return i}function Je(t,n,r){var i={};if("function"!=typeof n)for(var o=-1,s=ie(arguments,!0,!1,1),a=$e(t)?s.length:0;a>++o;){var l=s[o];l in t&&(i[l]=t[l])}else n=e.createCallback(n,r,3),Ei(t,function(t,e,r){n(t,e,r)&&(i[e]=t)});return i}function We(t,n,r,i){var o=ci(t);if(null==r)if(o)r=[];else{var s=t&&t.constructor,a=s&&s.prototype;r=y(a)}return n&&(n=e.createCallback(n,i,4),(o?_i:Ai)(t,function(t,e,i){return n(r,t,e,i)})),r}function Ve(t){for(var e=-1,n=fi(t),r=n.length,i=_r(r);r>++e;)i[e]=t[n[e]];return i}function Xe(t){var e=arguments,n=-1,r=ie(e,!0,!1,1),i=e[2]&&e[2][e[1]]===t?1:r.length,o=_r(i);for(ai.unindexedChars&&He(t)&&(t=t.split(""));i>++n;)o[n]=t[r[n]];return o}function Ye(t,e,n){var r=-1,i=de(),o=t?t.length:0,s=!1;return n=(0>n?ei(0,o+n):n)||0,ci(t)?s=i(t,e,n)>-1:"number"==typeof o?s=(He(t)?t.indexOf(e,n):i(t,e,n))>-1:_i(t,function(t){return++r>=n?!(s=t===e):void 0}),s}function Ze(t,n,r){var i=!0;if(n=e.createCallback(n,r,3),ci(t))for(var o=-1,s=t.length;s>++o&&(i=!!n(t[o],o,t)););else _i(t,function(t,e,r){return i=!!n(t,e,r)});return i}function Qe(t,n,r){var i=[];if(n=e.createCallback(n,r,3),ci(t))for(var o=-1,s=t.length;s>++o;){var a=t[o];n(a,o,t)&&i.push(a)}else _i(t,function(t,e,r){n(t,e,r)&&i.push(t)});return i}function tn(t,n,r){if(n=e.createCallback(n,r,3),!ci(t)){var i;return _i(t,function(t,e,r){return n(t,e,r)?(i=t,!1):void 0}),i}for(var o=-1,s=t.length;s>++o;){var a=t[o];if(n(a,o,t))return a}}function en(t,n,r){var i;return n=e.createCallback(n,r,3),rn(t,function(t,e,r){return n(t,e,r)?(i=t,!1):void 0}),i}function nn(t,e,n){if(e&&n===void 0&&ci(t))for(var r=-1,i=t.length;i>++r&&e(t[r],r,t)!==!1;);else _i(t,e,n);return t}function rn(t,e,n){var r=t,i=t?t.length:0;if(e=e&&n===void 0?e:_(e,n,3),ci(t))for(;i--&&e(t[i],i,t)!==!1;);else{if("number"!=typeof i){var o=fi(t);i=o.length}else ai.unindexedChars&&He(t)&&(r=t.split(""));_i(t,function(t,n,s){return n=o?o[--i]:--i,e(r[n],n,s)})}return t}function on(t,e){var n=m(arguments,2),r=-1,i="function"==typeof e,o=t?t.length:0,s=_r("number"==typeof o?o:0);return nn(t,function(t){s[++r]=(i?e:t[e]).apply(t,n)}),s}function sn(t,n,r){var i=-1,o=t?t.length:0,s=_r("number"==typeof o?o:0);if(n=e.createCallback(n,r,3),ci(t))for(;o>++i;)s[i]=n(t[i],i,t);else _i(t,function(t,e,r){s[++i]=n(t,e,r)});return s}function an(t,n,r){var i=-1/0,o=i;if("function"!=typeof n&&r&&r[n]===t&&(n=null),null==n&&ci(t))for(var s=-1,l=t.length;l>++s;){var u=t[s];u>o&&(o=u)}else n=null==n&&He(t)?a:e.createCallback(n,r,3),_i(t,function(t,e,r){var s=n(t,e,r);s>i&&(i=s,o=t)});return o}function ln(t,n,r){var i=1/0,o=i;if("function"!=typeof n&&r&&r[n]===t&&(n=null),null==n&&ci(t))for(var s=-1,l=t.length;l>++s;){var u=t[s];o>u&&(o=u)}else n=null==n&&He(t)?a:e.createCallback(n,r,3),_i(t,function(t,e,r){var s=n(t,e,r);i>s&&(i=s,o=t)});return o}function un(t,n,r,i){var o=3>arguments.length;if(n=e.createCallback(n,i,4),ci(t)){var s=-1,a=t.length;for(o&&(r=t[++s]);a>++s;)r=n(r,t[s],s,t)}else _i(t,function(t,e,i){r=o?(o=!1,t):n(r,t,e,i)});return r}function cn(t,n,r,i){var o=3>arguments.length;return n=e.createCallback(n,i,4),rn(t,function(t,e,i){r=o?(o=!1,t):n(r,t,e,i)}),r}function hn(t,n,r){return n=e.createCallback(n,r,3),Qe(t,function(t,e,r){return!n(t,e,r)})}function fn(t,e,n){if(t&&"number"!=typeof t.length?t=Ve(t):ai.unindexedChars&&He(t)&&(t=t.split("")),null==e||n)return t?t[ae(0,t.length-1)]:b;var r=pn(t);return r.length=ni(ei(0,e),r.length),r}function pn(t){var e=-1,n=t?t.length:0,r=_r("number"==typeof n?n:0);return nn(t,function(t){var n=ae(0,++e);r[e]=r[n],r[n]=t}),r}function dn(t){var e=t?t.length:0;return"number"==typeof e?e:fi(t).length}function gn(t,n,r){var i;if(n=e.createCallback(n,r,3),ci(t))for(var o=-1,s=t.length;s>++o&&!(i=n(t[o],o,t)););else _i(t,function(t,e,r){return!(i=n(t,e,r))});return!!i}function mn(t,n,r){var i=-1,o=ci(n),s=t?t.length:0,a=_r("number"==typeof s?s:0);for(o||(n=e.createCallback(n,r,3)),nn(t,function(t,e,r){var s=a[++i]=f();o?s.criteria=sn(n,function(e){return t[e]}):(s.criteria=h())[0]=n(t,e,r),s.index=i,s.value=t}),s=a.length,a.sort(l);s--;){var u=a[s];a[s]=u.value,o||d(u.criteria),g(u)}return a}function vn(t){return t&&"number"==typeof t.length?ai.unindexedChars&&He(t)?t.split(""):m(t):Ve(t)
}function bn(t){for(var e=-1,n=t?t.length:0,r=[];n>++e;){var i=t[e];i&&r.push(i)}return r}function yn(t){return ne(t,ie(arguments,!0,!0,1))}function _n(t,n,r){var i=-1,o=t?t.length:0;for(n=e.createCallback(n,r,3);o>++i;)if(n(t[i],i,t))return i;return-1}function xn(t,n,r){var i=t?t.length:0;for(n=e.createCallback(n,r,3);i--;)if(n(t[i],i,t))return i;return-1}function wn(t,n,r){var i=0,o=t?t.length:0;if("number"!=typeof n&&null!=n){var s=-1;for(n=e.createCallback(n,r,3);o>++s&&n(t[s],s,t);)i++}else if(i=n,null==i||r)return t?t[0]:b;return m(t,0,ni(ei(0,i),o))}function En(t,e,n,r){return"boolean"!=typeof e&&null!=e&&(r=n,n="function"!=typeof e&&r&&r[e]===t?null:e,e=!1),null!=n&&(t=sn(t,n,r)),ie(t,e)}function An(t,e,n){if("number"==typeof n){var r=t?t.length:0;n=0>n?ei(0,r+n):n||0}else if(n){var o=Dn(t,e);return t[o]===e?o:-1}return i(t,e,n)}function Cn(t,n,r){var i=0,o=t?t.length:0;if("number"!=typeof n&&null!=n){var s=o;for(n=e.createCallback(n,r,3);s--&&n(t[s],s,t);)i++}else i=null==n||r?1:n||i;return m(t,0,ni(ei(0,o-i),o))}function Sn(){for(var t=[],e=-1,n=arguments.length,r=h(),s=de(),a=s===i,l=h();n>++e;){var c=arguments[e];(ci(c)||be(c))&&(t.push(c),r.push(a&&c.length>=A&&u(e?t[e]:l)))}var f=t[0],p=-1,m=f?f.length:0,v=[];t:for(;m>++p;){var b=r[0];if(c=f[p],0>(b?o(b,c):s(l,c))){for(e=n,(b||l).push(c);--e;)if(b=r[e],0>(b?o(b,c):s(t[e],c)))continue t;v.push(c)}}for(;n--;)b=r[n],b&&g(b);return d(r),d(l),v}function Ln(t,n,r){var i=0,o=t?t.length:0;if("number"!=typeof n&&null!=n){var s=o;for(n=e.createCallback(n,r,3);s--&&n(t[s],s,t);)i++}else if(i=n,null==i||r)return t?t[o-1]:b;return m(t,ei(0,o-i))}function Tn(t,e,n){var r=t?t.length:0;for("number"==typeof n&&(r=(0>n?ei(0,r+n):ni(n,r-1))+1);r--;)if(t[r]===e)return r;return-1}function kn(t){for(var e=arguments,n=0,r=e.length,i=t?t.length:0;r>++n;)for(var o=-1,s=e[n];i>++o;)t[o]===s&&(Jr.call(t,o--,1),i--);return t}function In(t,e,n){t=+t||0,n="number"==typeof n?n:+n||1,null==e&&(e=t,t=0);for(var r=-1,i=ei(0,Pr((e-t)/(n||1))),o=_r(i);i>++r;)o[r]=t,t+=n;return o}function Nn(t,n,r){var i=-1,o=t?t.length:0,s=[];for(n=e.createCallback(n,r,3);o>++i;){var a=t[i];n(a,i,t)&&(s.push(a),Jr.call(t,i--,1),o--)}return s}function On(t,n,r){if("number"!=typeof n&&null!=n){var i=0,o=-1,s=t?t.length:0;for(n=e.createCallback(n,r,3);s>++o&&n(t[o],o,t);)i++}else i=null==n||r?1:ei(0,n);return m(t,i)}function Dn(t,n,r,i){var o=0,s=t?t.length:o;for(r=r?e.createCallback(r,i,1):ir,n=r(n);s>o;){var a=o+s>>>1;n>r(t[a])?o=a+1:s=a}return o}function Rn(){return ue(ie(arguments,!0,!0))}function Mn(t,n,r,i){return"boolean"!=typeof n&&null!=n&&(i=r,r="function"!=typeof n&&i&&i[n]===t?null:n,n=!1),null!=r&&(r=e.createCallback(r,i,3)),ue(t,n,r)}function $n(t){return ne(t,m(arguments,1))}function qn(){for(var t=-1,e=arguments.length;e>++t;){var n=arguments[t];if(ci(n)||be(n))var r=r?ue(ne(r,n).concat(ne(n,r))):n}return r||[]}function Pn(){for(var t=arguments.length>1?arguments:arguments[0],e=-1,n=t?an(ki(t,"length")):0,r=_r(0>n?0:n);n>++e;)r[e]=ki(t,e);return r}function jn(t,e){var n=-1,r=t?t.length:0,i={};for(e||!r||ci(t[0])||(e=[]);r>++n;){var o=t[n];e?i[o]=e[n]:o&&(i[o[0]]=o[1])}return i}function Bn(t,e){if(!Me(e))throw new Ir;return function(){return 1>--t?e.apply(this,arguments):void 0}}function Hn(t,e){return arguments.length>2?he(t,17,m(arguments,2),null,e):he(t,1,null,null,e)}function Fn(t){for(var e=arguments.length>1?ie(arguments,!0,!1,1):Se(t),n=-1,r=e.length;r>++n;){var i=e[n];t[i]=he(t[i],1,null,null,t)}return t}function Un(t,e){return arguments.length>2?he(e,19,m(arguments,2),null,t):he(e,3,null,null,t)}function zn(){for(var t=arguments,e=t.length;e--;)if(!Me(t[e]))throw new Ir;return function(){for(var e=arguments,n=t.length;n--;)e=[t[n].apply(this,e)];return e[0]}}function Kn(t,e){return e="number"==typeof e?e:+e||t.length,he(t,4,null,null,null,e)}function Gn(t,e,n){var r,i,o,s,a,l,u,c=0,h=!1,f=!0;if(!Me(t))throw new Ir;if(e=ei(0,e)||0,n===!0){var p=!0;f=!1}else $e(n)&&(p=n.leading,h="maxWait"in n&&(ei(e,n.maxWait)||0),f="trailing"in n?n.trailing:f);var d=function(){var n=e-(Ni()-s);if(0>=n){i&&jr(i);var h=u;i=l=u=b,h&&(c=Ni(),o=t.apply(a,r),l||i||(r=a=null))}else l=Gr(d,n)},g=function(){l&&jr(l),i=l=u=b,(f||h!==e)&&(c=Ni(),o=t.apply(a,r),l||i||(r=a=null))};return function(){if(r=arguments,s=Ni(),a=this,u=f&&(l||!p),h===!1)var n=p&&!l;else{i||p||(c=s);var m=h-(s-c),v=0>=m;v?(i&&(i=jr(i)),c=s,o=t.apply(a,r)):i||(i=Gr(g,m))}return v&&l?l=jr(l):l||e===h||(l=Gr(d,e)),n&&(v=!0,o=t.apply(a,r)),!v||l||i||(r=a=null),o}}function Jn(t){if(!Me(t))throw new Ir;var e=m(arguments,1);return Gr(function(){t.apply(b,e)},1)}function Wn(t,e){if(!Me(t))throw new Ir;var n=m(arguments,2);return Gr(function(){t.apply(b,n)},e)}function Vn(t,e){if(!Me(t))throw new Ir;var n=function(){var r=n.cache,i=e?e.apply(this,arguments):E+arguments[0];return Ur.call(r,i)?r[i]:r[i]=t.apply(this,arguments)};return n.cache={},n}function Xn(t){var e,n;if(!Me(t))throw new Ir;return function(){return e?n:(e=!0,n=t.apply(this,arguments),t=null,n)}}function Yn(t){return he(t,16,m(arguments,1))}function Zn(t){return he(t,32,null,m(arguments,1))}function Qn(t,e,n){var r=!0,i=!0;if(!Me(t))throw new Ir;return n===!1?r=!1:$e(n)&&(r="leading"in n?n.leading:r,i="trailing"in n?n.trailing:i),Z.leading=r,Z.maxWait=e,Z.trailing=i,Gn(t,e,Z)}function tr(t,e){return he(e,16,[t])}function er(t){return function(){return t}}function nr(t,e,n){var r=typeof t;if(null==t||"function"==r)return _(t,e,n);if("object"!=r)return lr(t);var i=fi(t),o=i[0],s=t[o];return 1!=i.length||s!==s||$e(s)?function(e){for(var n=i.length,r=!1;n--&&(r=oe(e[i[n]],t[i[n]],null,!0)););return r}:function(t){var e=t[o];return s===e&&(0!==s||1/s==1/e)}}function rr(t){return null==t?"":kr(t).replace(yi,pe)}function ir(t){return t}function or(t,r,i){var o=!0,s=r&&Se(r);r&&(i||s.length)||(null==i&&(i=r),a=n,r=t,t=e,s=Se(r)),i===!1?o=!1:$e(i)&&"chain"in i&&(o=i.chain);var a=t,l=Me(a);nn(s,function(e){var n=t[e]=r[e];l&&(a.prototype[e]=function(){var e=this.__chain__,r=this.__wrapped__,i=[r];zr.apply(i,arguments);var s=n.apply(t,i);if(o||e){if(r===s&&$e(s))return this;s=new a(s),s.__chain__=e}return s})})}function sr(){return t._=Mr,this}function ar(){}function lr(t){return function(e){return e[t]}}function ur(t,e,n){var r=null==t,i=null==e;if(null==n&&("boolean"==typeof t&&i?(n=t,t=1):i||"boolean"!=typeof e||(n=e,i=!0)),r&&i&&(e=1),t=+t||0,i?(e=t,t=0):e=+e||0,n||t%1||e%1){var o=ii();return ni(t+o*(e-t+parseFloat("1e-"+((o+"").length-1))),e)}return ae(t,e)}function cr(t,e){if(t){var n=t[e];return Me(n)?t[e]():n}}function hr(t,n,r){var i=e.templateSettings;t=kr(t||""),r=li?wi({},r,i):i;var o,s=li&&wi({},r.imports,i.imports),a=li?fi(s):["_"],l=li?Ve(s):[e],u=0,h=r.interpolate||M,f="__p += '",p=Tr((r.escape||M).source+"|"+h.source+"|"+(h===D?I:M).source+"|"+(r.evaluate||M).source+"|$","g");t.replace(p,function(e,n,r,i,s,a){return r||(r=i),f+=t.slice(u,a).replace(q,c),n&&(f+="' +\n__e("+n+") +\n'"),s&&(o=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=a+e.length,e}),f+="';\n";var d=r.variable,g=d;g||(d="obj",f="with ("+d+") {\n"+f+"\n}\n"),f=(o?f.replace(L,""):f).replace(T,"$1").replace(k,"$1;"),f="function("+d+") {\n"+(g?"":d+" || ("+d+" = {});\n")+"var __t, __p = '', __e = _.escape"+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var m="\n/*\n//# sourceURL="+(r.sourceURL||"/lodash/template/source["+B++ +"]")+"\n*/";try{var v=Ar(a,"return "+f+m).apply(b,l)}catch(y){throw y.source=f,y}return n?v(n):(v.source=f,v)}function fr(t,e,n){t=(t=+t)>-1?t:0;var r=-1,i=_r(t);for(e=_(e,n,1);t>++r;)i[r]=e(r);return i}function pr(t){return null==t?"":kr(t).replace(bi,ve)}function dr(t){var e=++x;return kr(null==t?"":t)+e}function gr(t){return t=new n(t),t.__chain__=!0,t}function mr(t,e){return e(t),t}function vr(){return this.__chain__=!0,this}function br(){return kr(this.__wrapped__)}function yr(){return this.__wrapped__}t=t?le.defaults(re.Object(),t,le.pick(re,P)):re;var _r=t.Array,xr=t.Boolean,wr=t.Date,Er=t.Error,Ar=t.Function,Cr=t.Math,Sr=t.Number,Lr=t.Object,Tr=t.RegExp,kr=t.String,Ir=t.TypeError,Nr=[],Or=Er.prototype,Dr=Lr.prototype,Rr=kr.prototype,Mr=t._,$r=Dr.toString,qr=Tr("^"+kr($r).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Pr=Cr.ceil,jr=t.clearTimeout,Br=Cr.floor,Hr=Ar.prototype.toString,Fr=ge(Fr=Lr.getPrototypeOf)&&Fr,Ur=Dr.hasOwnProperty,zr=Nr.push,Kr=Dr.propertyIsEnumerable,Gr=t.setTimeout,Jr=Nr.splice,Wr=Nr.unshift,Vr=function(){try{var t={},e=ge(e=Lr.defineProperty)&&e,n=e(t,t,t)&&e}catch(r){}return n}(),Xr=ge(Xr=Lr.create)&&Xr,Yr=ge(Yr=_r.isArray)&&Yr,Zr=t.isFinite,Qr=t.isNaN,ti=ge(ti=Lr.keys)&&ti,ei=Cr.max,ni=Cr.min,ri=t.parseInt,ii=Cr.random,oi={};oi[F]=_r,oi[U]=xr,oi[z]=wr,oi[G]=Ar,oi[W]=Lr,oi[J]=Sr,oi[V]=Tr,oi[X]=kr;var si={};si[F]=si[z]=si[J]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},si[U]=si[X]={constructor:!0,toString:!0,valueOf:!0},si[K]=si[G]=si[V]={constructor:!0,toString:!0},si[W]={constructor:!0},function(){for(var t=j.length;t--;){var e=j[t];for(var n in si)Ur.call(si,n)&&!Ur.call(si[n],e)&&(si[n][e]=!1)}}(),n.prototype=e.prototype;var ai=e.support={};!function(){var e=function(){this.x=1},n={0:1,length:1},r=[];e.prototype={valueOf:1,y:1};for(var i in new e)r.push(i);for(i in arguments);ai.argsClass=$r.call(arguments)==H,ai.argsObject=arguments.constructor==Lr&&!(arguments instanceof _r),ai.enumErrorProps=Kr.call(Or,"message")||Kr.call(Or,"name"),ai.enumPrototypes=Kr.call(e,"prototype"),ai.funcDecomp=!ge(t.WinRTError)&&$.test(v),ai.funcNames="string"==typeof Ar.name,ai.nonEnumArgs=0!=i,ai.nonEnumShadows=!/valueOf/.test(r),ai.ownLast="x"!=r[0],ai.spliceObjects=(Nr.splice.call(n,0,1),!n[0]),ai.unindexedChars="xx"!="x"[0]+Lr("x")[0];try{ai.nodeClass=!($r.call(document)==W&&!({toString:0}+""))}catch(o){ai.nodeClass=!0}}(1),e.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:D,variable:"",imports:{_:e}};var li=hr("var index, iterable = <%= firstArg %>, result = <%= init %>;\nif (!iterable) return result;\n<%= top %>;<% if (array) { %>\nvar length = iterable.length; index = -1;\nif (<%= array %>) {  <% if (support.unindexedChars) { %>\n  if (isString(iterable)) {\n    iterable = iterable.split('')\n  }  <% } %>\n  while (++index < length) {\n    <%= loop %>;\n  }\n}\nelse {  <% } else if (support.nonEnumArgs) { %>\n  var length = iterable.length; index = -1;\n  if (length && isArguments(iterable)) {\n    while (++index < length) {\n      index += '';\n      <%= loop %>;\n    }\n  } else {  <% } %>  <% if (support.enumPrototypes) { %>\n  var skipProto = typeof iterable == 'function';\n  <% } %>  <% if (support.enumErrorProps) { %>\n  var skipErrorProps = iterable === errorProto || iterable instanceof Error;\n  <% } %>  <%    var conditions = [];    if (support.enumPrototypes) { conditions.push('!(skipProto && index == \"prototype\")'); }    if (support.enumErrorProps)  { conditions.push('!(skipErrorProps && (index == \"message\" || index == \"name\"))'); }  %>  <% if (useHas && keys) { %>\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iterable] && keys(iterable),\n      length = ownProps ? ownProps.length : 0;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n<%    if (conditions.length) { %>    if (<%= conditions.join(' && ') %>) {\n  <% } %>    <%= loop %>;    <% if (conditions.length) { %>\n    }<% } %>\n  }  <% } else { %>\n  for (index in iterable) {\n<%    if (useHas) { conditions.push(\"hasOwnProperty.call(iterable, index)\"); }    if (conditions.length) { %>    if (<%= conditions.join(' && ') %>) {\n  <% } %>    <%= loop %>;    <% if (conditions.length) { %>\n    }<% } %>\n  }    <% if (support.nonEnumShadows) { %>\n\n  if (iterable !== objectProto) {\n    var ctor = iterable.constructor,\n        isProto = iterable === (ctor && ctor.prototype),\n        className = iterable === stringProto ? stringClass : iterable === errorProto ? errorClass : toString.call(iterable),\n        nonEnum = nonEnumProps[className];\n      <% for (k = 0; k < 7; k++) { %>\n    index = '<%= shadowedProps[k] %>';\n    if ((!(isProto && nonEnum[index]) && hasOwnProperty.call(iterable, index))<%        if (!useHas) { %> || (!nonEnum[index] && iterable[index] !== objectProto[index])<% }      %>) {\n      <%= loop %>;\n    }      <% } %>\n  }    <% } %>  <% } %>  <% if (array || support.nonEnumArgs) { %>\n}<% } %>\n<%= bottom %>;\nreturn result");Xr||(y=function(){function e(){}return function(n){if($e(n)){e.prototype=n;var r=new e;e.prototype=null}return r||t.Object()}}());var ui=Vr?function(t,e){Q.value=e,Vr(t,"__bindData__",Q)}:ar;ai.argsClass||(be=function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Ur.call(t,"callee")&&!Kr.call(t,"callee")||!1});var ci=Yr||function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&$r.call(t)==F||!1},hi=fe({args:"object",init:"[]",top:"if (!(objectTypes[typeof object])) return result",loop:"result.push(index)"}),fi=ti?function(t){return $e(t)?ai.enumPrototypes&&"function"==typeof t||ai.nonEnumArgs&&t.length&&be(t)?hi(t):ti(t):[]}:hi,pi={args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3)",array:"typeof length == 'number'",keys:fi,loop:"if (callback(iterable[index], index, collection) === false) return result"},di={args:"object, source, guard",top:"var args = arguments,\n    argsIndex = 0,\n    argsLength = typeof guard == 'number' ? 2 : args.length;\nwhile (++argsIndex < argsLength) {\n  iterable = args[argsIndex];\n  if (iterable && objectTypes[typeof iterable]) {",keys:fi,loop:"if (typeof result[index] == 'undefined') result[index] = iterable[index]",bottom:"  }\n}"},gi={top:"if (!objectTypes[typeof iterable]) return result;\n"+pi.top,array:!1},mi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},vi=Te(mi),bi=Tr("("+fi(vi).join("|")+")","g"),yi=Tr("["+fi(mi).join("")+"]","g"),_i=fe(pi),xi=fe(di,{top:di.top.replace(";",";\nif (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n  var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\n} else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n  callback = args[--argsLength];\n}"),loop:"result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]"}),wi=fe(di),Ei=fe(pi,gi,{useHas:!1}),Ai=fe(pi,gi);Me(/x/)&&(Me=function(t){return"function"==typeof t&&$r.call(t)==G});var Ci=Fr?function(t){if(!t||$r.call(t)!=W||!ai.argsClass&&be(t))return!1;var e=t.valueOf,n=ge(e)&&(n=Fr(e))&&Fr(n);return n?t==n||Fr(t)==n:me(t)}:me,Si=ce(function(t,e,n){Ur.call(t,n)?t[n]++:t[n]=1}),Li=ce(function(t,e,n){(Ur.call(t,n)?t[n]:t[n]=[]).push(e)}),Ti=ce(function(t,e,n){t[n]=e}),ki=sn,Ii=Qe,Ni=ge(Ni=wr.now)&&Ni||function(){return(new wr).getTime()},Oi=8==ri(S+"08")?ri:function(t,e){return ri(He(t)?t.replace(R,""):t,e||0)};return e.after=Bn,e.assign=xi,e.at=Xe,e.bind=Hn,e.bindAll=Fn,e.bindKey=Un,e.chain=gr,e.compact=bn,e.compose=zn,e.constant=er,e.countBy=Si,e.create=xe,e.createCallback=nr,e.curry=Kn,e.debounce=Gn,e.defaults=wi,e.defer=Jn,e.delay=Wn,e.difference=yn,e.filter=Qe,e.flatten=En,e.forEach=nn,e.forEachRight=rn,e.forIn=Ei,e.forInRight=Ae,e.forOwn=Ai,e.forOwnRight=Ce,e.functions=Se,e.groupBy=Li,e.indexBy=Ti,e.initial=Cn,e.intersection=Sn,e.invert=Te,e.invoke=on,e.keys=fi,e.map=sn,e.mapValues=Ue,e.max=an,e.memoize=Vn,e.merge=ze,e.min=ln,e.omit=Ke,e.once=Xn,e.pairs=Ge,e.partial=Yn,e.partialRight=Zn,e.pick=Je,e.pluck=ki,e.property=lr,e.pull=kn,e.range=In,e.reject=hn,e.remove=Nn,e.rest=On,e.shuffle=pn,e.sortBy=mn,e.tap=mr,e.throttle=Qn,e.times=fr,e.toArray=vn,e.transform=We,e.union=Rn,e.uniq=Mn,e.values=Ve,e.where=Ii,e.without=$n,e.wrap=tr,e.xor=qn,e.zip=Pn,e.zipObject=jn,e.collect=sn,e.drop=On,e.each=nn,e.eachRight=rn,e.extend=xi,e.methods=Se,e.object=jn,e.select=Qe,e.tail=On,e.unique=Mn,e.unzip=Pn,or(e),e.clone=ye,e.cloneDeep=_e,e.contains=Ye,e.escape=rr,e.every=Ze,e.find=tn,e.findIndex=_n,e.findKey=we,e.findLast=en,e.findLastIndex=xn,e.findLastKey=Ee,e.has=Le,e.identity=ir,e.indexOf=An,e.isArguments=be,e.isArray=ci,e.isBoolean=ke,e.isDate=Ie,e.isElement=Ne,e.isEmpty=Oe,e.isEqual=De,e.isFinite=Re,e.isFunction=Me,e.isNaN=qe,e.isNull=Pe,e.isNumber=je,e.isObject=$e,e.isPlainObject=Ci,e.isRegExp=Be,e.isString=He,e.isUndefined=Fe,e.lastIndexOf=Tn,e.mixin=or,e.noConflict=sr,e.noop=ar,e.now=Ni,e.parseInt=Oi,e.random=ur,e.reduce=un,e.reduceRight=cn,e.result=cr,e.runInContext=v,e.size=dn,e.some=gn,e.sortedIndex=Dn,e.template=hr,e.unescape=pr,e.uniqueId=dr,e.all=Ze,e.any=gn,e.detect=tn,e.findWhere=tn,e.foldl=un,e.foldr=cn,e.include=Ye,e.inject=un,or(function(){var t={};return Ai(e,function(n,r){e.prototype[r]||(t[r]=n)}),t}(),!1),e.first=wn,e.last=Ln,e.sample=fn,e.take=wn,e.head=wn,Ai(e,function(t,r){var i="sample"!==r;e.prototype[r]||(e.prototype[r]=function(e,r){var o=this.__chain__,s=t(this.__wrapped__,e,r);return o||null!=e&&(!r||i&&"function"==typeof e)?new n(s,o):s})}),e.VERSION="2.4.1",e.prototype.chain=vr,e.prototype.toString=br,e.prototype.value=yr,e.prototype.valueOf=yr,_i(["join","pop","shift"],function(t){var r=Nr[t];e.prototype[t]=function(){var t=this.__chain__,e=r.apply(this.__wrapped__,arguments);return t?new n(e,t):e}}),_i(["push","reverse","sort","unshift"],function(t){var n=Nr[t];e.prototype[t]=function(){return n.apply(this.__wrapped__,arguments),this}}),_i(["concat","slice","splice"],function(t){var r=Nr[t];e.prototype[t]=function(){return new n(r.apply(this.__wrapped__,arguments),this.__chain__)}}),ai.spliceObjects||_i(["pop","shift","splice"],function(t){var r=Nr[t],i="splice"==t;e.prototype[t]=function(){var t=this.__chain__,e=this.__wrapped__,o=r.apply(e,arguments);return 0===e.length&&delete e[0],t||i?new n(o,t):o}}),e._baseEach=_i,e._iteratorTemplate=li,e._shimKeys=hi,e}var b,y=[],_=[],x=0,w={},E=+new Date+"",A=75,C=40,S=" 	\f \n\r\u2028\u2029 ᠎             　",L=/\b__p \+= '';/g,T=/\b(__p \+=) '' \+/g,k=/(__e\(.*?\)|\b__t\)) \+\n'';/g,I=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,N=/\w*$/,O=/^\s*function[ \n\r\t]+\w/,D=/<%=([\s\S]+?)%>/g,R=RegExp("^["+S+"]*0+(?=.$)"),M=/($^)/,$=/\bthis\b/,q=/['\n\r\t\u2028\u2029\\]/g,P=["Array","Boolean","Date","Error","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],j=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],B=0,H="[object Arguments]",F="[object Array]",U="[object Boolean]",z="[object Date]",K="[object Error]",G="[object Function]",J="[object Number]",W="[object Object]",V="[object RegExp]",X="[object String]",Y={};Y[G]=!1,Y[H]=Y[F]=Y[U]=Y[z]=Y[J]=Y[W]=Y[V]=Y[X]=!0;var Z={leading:!1,maxWait:0,trailing:!1},Q={configurable:!1,enumerable:!1,value:null,writable:!1},te={args:"",array:null,bottom:"",firstArg:"",init:"",keys:null,loop:"",shadowedProps:null,support:null,top:"",useHas:!1},ee={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},ne={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},re=ee[typeof window]&&window||this,ie=ee[typeof r]&&r&&!r.nodeType&&r,oe=ee[typeof n]&&n&&!n.nodeType&&n,se=oe&&oe.exports===ie&&ie,ae=ee[typeof e]&&e;!ae||ae.global!==ae&&ae.window!==ae||(re=ae);var le=v();"function"==typeof t&&"object"==typeof t.amd&&t.amd?(re._=le,t(function(){return le})):ie&&oe?se?(oe.exports=le)._=le:ie._=le:re._=le}).call(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],lodash:[function(t,e){e.exports=t("4HJaAd")},{}],7:[function(t,e){(function(){var n,r,i,o,s,a,l;l=t("lodash"),s=t("./diff_match_patch"),i=t("./op"),r=t("./insert"),o=t("./retain"),a=new s,n=function(){function t(t,e,n){var r;if(this.startLength=t,this.endLength=e,this.ops=n,null==this.ops&&(this.ops=this.endLength,this.endLength=null),this.ops=l.map(this.ops,function(t){if(i.isRetain(t))return t;if(i.isInsert(t))return t;throw Error("Creating delta with invalid op. Expecting an insert or retain.")}),this.compact(),r=l.reduce(this.ops,function(t,e){return t+e.getLength()},0),null!=this.endLength&&r!==this.endLength)throw Error("Expecting end length of "+r);this.endLength=r}var e,n;return t.getIdentity=function(e){return new t(e,e,[new o(0,e)])},t.getInitial=function(e){return new t(0,e.length,[new r(e)])},t.isDelta=function(t){var e,n,r,o;if(null!=t&&"object"==typeof t&&"number"==typeof t.startLength&&"number"==typeof t.endLength&&"object"==typeof t.ops){for(o=t.ops,n=0,r=o.length;r>n;n++)if(e=o[n],!i.isRetain(e)&&!i.isInsert(e))return!1;return!0}return!1},t.makeDelta=function(e){return new t(e.startLength,e.endLength,l.map(e.ops,function(t){return i.isInsert(t)?new r(t.value,t.attributes):i.isRetain(t)?new o(t.start,t.end,t.attributes):null}))},t.makeDeleteDelta=function(e,n,r){var i;return i=[],n>0&&i.push(new o(0,n)),e>n+r&&i.push(new o(n+r,e)),new t(e,i)},t.makeInsertDelta=function(e,n,i,s){var a;return a=[new r(i,s)],n>0&&a.unshift(new o(0,n)),e>n&&a.push(new o(n,e)),new t(e,a)},t.makeRetainDelta=function(e,n,r,i){var s;return s=[new o(n,n+r,i)],n>0&&s.unshift(new o(0,n)),e>n+r&&s.push(new o(n+r,e)),new t(e,s)},t.prototype.apply=function(t,e,n,r){var s,a,u;return null==t&&(t=function(){}),null==e&&(e=function(){}),null==n&&(n=function(){}),null==r&&(r=null),this.isIdentity()?void 0:(s=0,a=0,u=[],l.each(this.ops,function(n){return i.isInsert(n)?(t.call(r,s+a,n.value,n.attributes),a+=n.getLength()):i.isRetain(n)?(n.start>s&&(e.call(r,s+a,n.start-s),a-=n.start-s),u.push(new o(n.start+a,n.end+a,n.attributes)),s=n.end):void 0}),this.endLength<this.startLength+a&&e.call(r,this.endLength,this.startLength+a-this.endLength),l.each(u,function(t){return l.each(t.attributes,function(e,i){return null===e?n.call(r,t.start,t.end-t.start,i,e):void 0}),l.each(t.attributes,function(e,i){return null!=e?n.call(r,t.start,t.end-t.start,i,e):void 0})}))},t.prototype.applyToText=function(t){var e,n,r,o,s,a,l;if(n=this,t.length!==n.startLength)throw Error("Start length of delta: "+n.startLength+" is not equal to the text: "+t.length);for(e=[],l=n.ops,s=0,a=l.length;a>s;s++)r=l[s],e.push(i.isInsert(r)?r.value:t.substring(r.start,r.end));if(o=e.join(""),n.endLength!==o.length)throw Error("End length of delta: "+n.endLength+" is not equal to result text: "+o.length);return o},t.prototype.canCompose=function(e){return t.isDelta(e)&&this.endLength===e.startLength},t.prototype.compact=function(){var t;return t=[],l.each(this.ops,function(e){var n;return 0!==e.getLength()?0===t.length?t.push(e):(n=l.last(t),i.isInsert(n)&&i.isInsert(e)&&n.attributesMatch(e)?t[t.length-1]=new r(n.value+e.value,e.attributes):i.isRetain(n)&&i.isRetain(e)&&n.end===e.start&&n.attributesMatch(e)?t[t.length-1]=new o(n.start,e.end,e.attributes):t.push(e)):void 0}),this.ops=t},t.prototype.compose=function(e){var n,s,a,u,c,h,f;if(!this.canCompose(e))throw Error("Cannot compose delta");for(s=this,n=[],f=e.ops,c=0,h=f.length;h>c;c++)if(a=f[c],i.isInsert(a))n.push(a);else{if(!i.isRetain(a))throw Error("Invalid op in deltaB when composing");u=s.getOpsAt(a.start,a.getLength()),u=l.map(u,function(t){return i.isInsert(t)?new r(t.value,t.composeAttributes(a.attributes)):new o(t.start,t.end,t.composeAttributes(a.attributes))}),n=n.concat(u)}return new t(s.startLength,e.endLength,n)},t.prototype.decompose=function(e){var n,s,a,u,c,h;if(a=this,!t.isDelta(e))throw Error("Decompose called when deltaA is not a Delta, type: "+typeof e);if(e.startLength!==this.startLength)throw Error("startLength "+e.startLength+" / startLength "+this.startLength+" mismatch");if(!l.all(e.ops,function(t){return i.isInsert(t)}))throw Error("DeltaA has retain in decompose");if(!l.all(a.ops,function(t){return i.isInsert(t)}))throw Error("DeltaC has retain in decompose");return n=function(t,e){var r,i,o;r={};for(i in e)o=e[i],(void 0===t[i]||t[i]!==o)&&(r[i]=null!==t[i]&&"object"==typeof t[i]&&null!==o&&"object"==typeof o?n(t[i],o):o);for(i in t)o=t[i],void 0===e[i]&&(r[i]=null);return r},u=e.diff(a),h=[],c=0,l.each(u.ops,function(t){var s,u;return u=a.getOpsAt(c,t.getLength()),s=0,l.each(u,function(a){var u,c,f;if(i.isInsert(t))u=new r(t.value.substring(s,s+a.getLength()),a.attributes),h.push(u);else{if(!i.isRetain(t))throw Error("Invalid delta in deltaB when composing");f=e.getOpsAt(t.start+s,a.getLength()),c=0,l.each(f,function(e){var r,i,l;return r=n(e.attributes,a.attributes),l=t.start+c+s,i=new o(l,l+e.getLength(),r),h.push(i),c+=e.getLength()})}return s+=a.getLength()}),c+=t.getLength()}),s=new t(u.startLength,u.endLength,h)},t.prototype.diff=function(e){var n,i,u,c,h,f,p,d,g,m,v,b,y;if(b=l.map([this,e],function(t){return l.map(t.ops,function(t){return null!=t.value?t.value:""}).join("")}),p=b[0],d=b[1],""!==p||""!==d){if(n=a.diff_main(p,d),0>=n.length)throw Error("diffToDelta called with diff with length <= 0");for(f=0,i=0,h=[],m=0,v=n.length;v>m;m++)switch(y=n[m],c=y[0],g=y[1],c){case s.DIFF_DELETE:f+=g.length;break;case s.DIFF_INSERT:h.push(new r(g)),i+=g.length;break;case s.DIFF_EQUAL:h.push(new o(f,f+g.length)),f+=g.length,i+=g.length}u=new t(f,i,h)}else u=new t(0,0,[]);return u},e=function(t,e,n,r){var i,s;if(s=l.extend({},n),i=Math.min(t.getLength(),e.getLength()),r)if(s.transformOp=new o(s.indexA,s.indexA+i),s.indexA+=i,i===t.getLength())s.elemIndexA++;else{if(!(t.getLength()>i))throw Error("Invalid elem length in transform");s.elemA=l.last(t.split(i))}else s.transformOp=l.first(e.split(i)),s.indexB+=i,i===e.getLength()?s.elemIndexB++:s.elemB=l.last(e.split(i));return s},n=function(t,e,n){var r,i,s,a,u,c,h,f;if(u=n.indexA,c=n.indexB,i=n.elemIndexA,s=n.elemIndexB,f=l.extend({},n),t.end<e.start)f.indexA+=t.getLength(),f.elemIndexA++;else if(e.end<t.start)f.indexB+=e.getLength(),f.elemIndexB++;else{if(t.start<e.start?(f.indexA+=e.start-t.start,t=f.elemA=new o(e.start,t.end,t.attributes)):e.start<t.start&&(f.indexB+=t.start-e.start,e=f.elemB=new o(t.start,e.end,e.attributes)),a="RetainOps must have same start length in transform",t.start!==e.start)throw Error(a);h=Math.min(t.end,e.end)-t.start,r=t.addAttributes(e.attributes),f.transformOp=new o(f.indexA,f.indexA+h,r),f.indexA+=h,f.indexB+=h,t.end===e.end?(f.elemIndexA++,f.elemIndexB++):t.end<e.end?(f.elemIndexA++,f.elemB=l.last(e.split(h))):(f.elemIndexB++,f.elemA=l.last(t.split(h)))}return f.elemIndexA!==n.elemIndexA&&(f.elemA=null),f.elemIndexB!==n.elemIndexB&&(f.elemB=null),f},t.prototype.transform=function(r,s){var a,u,c,h,f,p,d,g,m,v,b,y,_,x;if(null==s&&(s=!1),!t.isDelta(r))throw p="Transform called when deltaA is not a Delta, type: ",Error(p+typeof r);for(r=new t(r.startLength,r.endLength,r.ops),a=new t(this.startLength,this.endLength,this.ops),b=[],d=g=0,h=f=0,_=function(t){return null!=t.indexA&&(d=t.indexA),null!=t.indexB&&(g=t.indexB),null!=t.elemIndexA&&(h=t.elemIndexA),null!=t.elemIndexB&&(f=t.elemIndexB),null!=t.elemA&&(r.ops[h]=t.elemA),null!=t.elemB&&(a.ops[f]=t.elemB),null!=t.transformOp?b.push(t.transformOp):void 0},x=function(){return{indexA:d,indexB:g,elemIndexA:h,elemIndexB:f}};r.ops.length>h&&a.ops.length>f;)u=r.ops[h],c=a.ops[f],i.isInsert(u)&&i.isInsert(c)?(m=e(u,c,x(),s),_(m)):i.isRetain(u)&&i.isRetain(c)?(m=n(u,c,x()),_(m)):i.isInsert(u)&&i.isRetain(c)?(b.push(new o(d,d+u.getLength())),d+=u.getLength(),h++):i.isRetain(u)&&i.isInsert(c)&&(b.push(c),g+=c.getLength(),f++);for(;r.ops.length>h;)u=r.ops[h],i.isInsert(u)&&b.push(new o(d,d+u.getLength())),d+=u.getLength(),h++;for(;a.ops.length>f;)c=a.ops[f],i.isInsert(c)&&b.push(c),g+=c.getLength(),f++;return y=r.endLength,v=l.reduce(b,function(t,e){return t+e.getLength()},0),new t(y,v,b)},t.prototype.getOpsAt=function(t,e){var n,r,i,o,s,a,l,u,c;for(n=[],i=null!=this.savedOpOffset&&t>this.savedOpOffset?this.savedOpOffset:this.savedOpOffset=this.savedOpIndex=0,c=this.ops.slice(this.savedOpIndex),l=0,u=c.length;u>l&&(o=c[l],!(i>=t+e));l++)s=o.getLength(),i+s>t&&(a=Math.max(t-i,0),r=Math.min(s-a,t+e-i-a),n.push(o.getAt(a,r))),i+=s,this.savedOpIndex+=1,this.savedOpOffset+=s;return n},t.prototype.invert=function(t){var e,n,r;if(!this.isInsertsOnly())throw Error("Invert called on invalid delta containing non-insert ops");return e=this,n=e.compose(t),r=e.decompose(n)},t.prototype.isEqual=function(t){return t?this.startLength!==t.startLength||this.endLength!==t.endLength?!1:l.isArray(t.ops)&&this.ops.length===t.ops.length?l.all(this.ops,function(e,n){return e.isEqual(t.ops[n])}):!1:!1},t.prototype.isIdentity=function(){var t,e,n,r,o;if(this.startLength===this.endLength){if(0===this.ops.length)return!0;for(t=0,o=this.ops,n=0,r=o.length;r>n;n++){if(e=o[n],!i.isRetain(e))return!1;if(e.start!==t)return!1;if(!(0===e.numAttributes()||1===e.numAttributes()&&l.has(e.attributes,"authorId")))return!1;t=e.end}return t!==this.endLength?!1:!0}return!1},t.prototype.isInsertsOnly=function(){return l.every(this.ops,function(t){return i.isInsert(t)})},t.prototype.merge=function(e){var n,r=this;return n=l.map(e.ops,function(t){return i.isRetain(t)?new o(t.start+r.startLength,t.end+r.startLength,t.attributes):t}),n=this.ops.concat(n),new t(this.startLength+e.startLength,n)},t.prototype.split=function(e){var n,r;if(!this.isInsertsOnly())throw Error("Split only implemented for inserts only");if(!(e>=0&&this.endLength>=e))throw Error("Split at invalid index");return n=[],r=[],l.reduce(this.ops,function(t,i){var o,s,a;return e>=t+i.getLength()?n.push(i):t>=e?r.push(i):(a=i.split(e-t),o=a[0],s=a[1],n.push(o),r.push(s)),t+i.getLength()},0),[new t(0,n),new t(0,r)]},t.prototype.toString=function(){return"{("+this.startLength+"->"+this.endLength+") ["+this.ops.join(", ")+"]}"},t}(),e.exports=n}).call(this)},{"./diff_match_patch":9,"./insert":10,"./op":11,"./retain":12,lodash:"4HJaAd"}],8:[function(t,e){(function(){var n,r,i,o,s,a,l,u;l=t("lodash"),n=t("./delta"),i=t("./insert"),o=t("./retain"),u={alphabet:"abcdefghijklmnopqrstuvwxyz\n\n\n\n  ",booleanAttributes:{bold:[!0,!1],italic:[!0,!1],strike:[!0,!1]},nonBooleanAttributes:{"back-color":["white","black","red","blue","lime","teal","magenta","yellow"],"fore-color":["white","black","red","blue","lime","teal","magenta","yellow"],"font-name":["monospace","serif"],"font-size":["huge","large","small"]},defaultAttributeValue:{"back-color":"white","fore-color":"black","font-name":"san-serif","font-size":"normal"}},a=function(t){return null!=t?u=t:void 0},s=function(t){if(t=t||u,null==t)throw Error("Must provide DeltaGenerator with a domain.");if(null==t.alphabet)throw Error("Domain must define alphabet.");if(null==t.booleanAttributes)throw Error("Domain must define booleanAttributes.");if(null==t.nonBooleanAttributes)throw Error("Domain must define nonBooleanAttributes.");if(null==t.defaultAttributeValue)throw Error("Domain must define defaultAttributeValue.");return{getDomain:function(){return u},getRandomString:function(e){var n;return l.map(function(){n=[];for(var t=0,r=e-1;r>=0?r>=t:t>=r;r>=0?t++:t--)n.push(t);return n}.apply(this),function(){return t.alphabet[l.random(0,t.alphabet.length-1)]}).join("")},getRandomLength:function(){var t;return t=Math.random(),.6>t?l.random(1,2):.8>t?l.random(3,4):.9>t?l.random(5,9):l.random(10,50)},insertAt:function(t,e,n){var r,o,s,a,l,u,c,h,f;for(r=a=0,h=t.ops,u=0,c=h.length;c>u&&(s=h[u],r!==e);u++){if(r+s.getLength()>e){f=s.split(e-r),o=f[0],l=f[1],t.ops.splice(a,1,o,l),a++;break}r+=s.getLength(),a++}return t.ops.splice(a,0,new i(n)),t.endLength+=n.length,t.compact()},deleteAt:function(t,e,n){var r,s,a,u,c,h,f,p,d,g,m;for(r=0,h=[],m=t.ops,d=0,g=m.length;g>d;d++){if(c=m[d],f=r===e||r+c.getLength()>e,n>0&&f){if(s=Math.min(n,c.getLength()-(e-r)),n-=s,i.isInsert(c))u=c.value.substring(0,e-r)+c.value.substring(e-r+s),u.length>0&&h.push(new i(u));else{if(!o.isRetain(c))throw Error("Expected retain but got "+c);a=new o(c.start,c.start+e-r,l.clone(c.attributes)),p=new o(c.start+e-r+s,c.end,l.clone(c.attributes)),a.start<a.end&&h.push(a),p.start<p.end&&h.push(p)
}e+=s}else h.push(c);r+=c.getLength()}return t.ops=h,t.endLength=l.reduce(h,function(t,e){return t+e.getLength()},0)},formatAt:function(e,n,r,s,a){var u,c,h,f,p,d,g,m,v,b,y,_,x,w,E,A,C,S,L;for(L=function(t,e,n,r){var s,a,u,c,h,f,p,d,g,m,v,b;if(i.isInsert(t))c=t.value.substring(0,e),u=new i(c,l.clone(t.attributes)),a=t.value.substring(e,e+n),s=new i(a,l.clone(t.attributes)),m=t.value.substring(e+n),g=new i(m,l.clone(t.attributes)),-1!==a.indexOf("\n")&&(f=a.substring(0,a.indexOf("\n")),m=a.substring(a.indexOf("\n"))+m,s=new i(f,l.clone(t.attributes)),g=new i(m,l.clone(t.attributes)));else{if(!o.isRetain(t))throw Error("Expected retain but got "+t);if(u=new o(t.start,t.start+e,l.clone(t.attributes)),s=new o(u.end,u.end+n,l.clone(t.attributes)),g=new o(s.end,t.end,l.clone(t.attributes)),d=r.getOpsAt(s.start,s.getLength()),!l.every(d,function(t){return i.isInsert(t)}))throw Error("Non insert op in backref");for(h=s.start,v=0,b=d.length;b>v;v++){if(p=d[v],!i.isInsert(p))throw Error("Got retainOp in reference delta!");if(-1!==p.value.indexOf("\n")){s=new o(s.start,h+p.value.indexOf("\n"),l.clone(s.attributes)),g=new o(h+p.value.indexOf("\n"),g.end,l.clone(g.attributes));break}h+=p.getLength()}}return[u,s,g]},A=function(t,e,n,r){var i,o,s,a,l,u;for(i=0,s=r[0].attributes[n],u=[],a=0,l=r.length;l>a;a++){if(o=r[a],o.attributes[n]!==s){t.end=t.start+i,e.start=t.end;break}u.push(i+=o.getLength())}return u},b=function(t,e,n,r){var s;if(i.isInsert(t))return null!=t.attributes[n]?delete t.attributes[n]:t.attributes[n]=!0;if(!o.isRetain(t))throw Error("Expected retain but got "+t);if(null!=t.attributes[n])return delete t.attributes[n];if(s=r.getOpsAt(t.start,t.getLength()),!l.every(s,function(t){return i.isInsert(t)}))throw Error("Formatting a retain that does not refer to an insert.");if(s.length>0){if(A(t,e,n,s),null!=s[0].attributes[n]){if(!s[0].attributes[n])throw Error("Boolean attribute on reference delta should only be true!");return t.attributes[n]=null}return t.attributes[n]=!0}},y=function(e,n,r,s){var a,u;if(a=function(e){return l.first(null!=e?l.shuffle(l.without(t.nonBooleanAttributes[r],e)):l.shuffle(l.without(t.nonBooleanAttributes[r],t.defaultAttributeValue[r])))},i.isInsert(e))return e.attributes[r]=a(r,e.attributes[r]);if(!o.isRetain(e))throw Error("Expected retain but got "+e);if(u=s.getOpsAt(e.start,e.getLength()),!l.every(u,function(t){return i.isInsert(t)}))throw Error("Formatting a retain that does not refer to an insert.");return u.length>0?(A(e,n,r,u),null!=e.attributes[r]&&.5>Math.random()?delete e.attributes[r]:e.attributes[r]=a(e.attributes[r])):void 0},c=0,g=[],C=e.ops,_=0,w=C.length;w>_;_++){if(d=C[_],m=c===n||c+d.getLength()>n,r>0&&m){for(f=Math.min(r,d.getLength()-(n-c)),r-=f,S=L(d,n-c,f,a),p=S[0],h=S[1],v=S[2],g.push(p),g.push(h),g.push(v),x=0,E=s.length;E>x;x++)if(u=s[x],l.has(t.booleanAttributes,u))b(h,v,u,a);else{if(!l.has(t.nonBooleanAttributes,u))throw Error("Received unknown attribute: "+u);y(h,v,u,a)}n+=f}else g.push(d);c+=d.getLength()}return e.endLength=l.reduce(g,function(t,e){return t+e.getLength()},0),e.ops=g,e.compact()},addRandomOp:function(e,n){var r,i,o,s,a,u,c;if(i=n.endLength-1,s=l.random(0,i),u=Math.random(),.5>u)a=this.getRandomLength(),this.insertAt(e,s,this.getRandomString(a));else if(.75>u){if(1>=n.endLength)return e;s=l.random(0,i-1),a=l.random(1,i-s),this.deleteAt(e,s,a)}else c=l.shuffle(l.keys(t.booleanAttributes).concat(l.keys(t.nonBooleanAttributes))),o=l.random(1,c.length),r=c.slice(0,o),a=l.random(1,i-s),this.formatAt(e,s,a,r,n);return e},getRandomDelta:function(t,e){var r,i,s;for(i=new n(t.endLength,t.endLength,[new o(0,t.endLength)]),e||(e=l.random(1,10)),r=s=0;e>=0?e>s:s>e;r=e>=0?++s:--s)this.addRandomOp(i,t);return i}}},r={setDomain:a,getUtils:s},e.exports=r}).call(this)},{"./delta":7,"./insert":10,"./retain":12,lodash:"4HJaAd"}],9:[function(t,e){(function(){var n;n=t("googlediff"),n.DIFF_DELETE=-1,n.DIFF_INSERT=1,n.DIFF_EQUAL=0,e.exports=n}).call(this)},{googlediff:15}],10:[function(t,e){(function(){var n,r,i,o={}.hasOwnProperty,s=function(t,e){function n(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};i=t("lodash"),r=t("./op"),n=function(t){function e(t,e){this.value=t,null==e&&(e={}),this.attributes=i.clone(e)}return s(e,t),e.prototype.getAt=function(t,n){return new e(this.value.substr(t,n),this.attributes)},e.prototype.getLength=function(){return this.value.length},e.prototype.isEqual=function(t){return null!=t&&this.value===t.value&&i.isEqual(this.attributes,t.attributes)},e.prototype.join=function(t){if(i.isEqual(this.attributes,t.attributes))return new e(this.value+second.value,this.attributes);throw Error},e.prototype.split=function(t){var n,r;return n=new e(this.value.substr(0,t),this.attributes),r=new e(this.value.substr(t),this.attributes),[n,r]},e.prototype.toString=function(){return"{"+this.value+", "+this.printAttributes()+"}"},e}(r),e.exports=n}).call(this)},{"./op":11,lodash:"4HJaAd"}],11:[function(t,e){(function(){var n,r;r=t("lodash"),n=function(){function t(t){null==t&&(t={}),this.attributes=r.clone(t)}return t.isInsert=function(t){return null!=t&&"string"==typeof t.value},t.isRetain=function(t){return null!=t&&"number"==typeof t.start&&"number"==typeof t.end},t.prototype.addAttributes=function(t){var e,n,r;e={};for(n in t)r=t[n],void 0===this.attributes[n]&&(e[n]=r);return e},t.prototype.attributesMatch=function(t){var e;return e=t.attributes||{},r.isEqual(this.attributes,e)},t.prototype.composeAttributes=function(e){var n,i=this;return(n=function(e,o){var s,a,l;if(!o)return e;a=r.clone(e);for(s in o)l=o[s],t.isInsert(i)&&null===l?delete a[s]:l!==void 0&&(a[s]="object"==typeof a[s]&&"object"==typeof l&&r.all([a[s],o[s]],function(t){return null!==t})?n(a[s],l):l);return a})(this.attributes,e)},t.prototype.numAttributes=function(){return r.keys(this.attributes).length},t.prototype.printAttributes=function(){return JSON.stringify(this.attributes)},t}(),e.exports=n}).call(this)},{lodash:"4HJaAd"}],12:[function(t,e){(function(){var n,r,i,o={}.hasOwnProperty,s=function(t,e){function n(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};i=t("lodash"),n=t("./op"),r=function(t){function e(t,e,n){this.start=t,this.end=e,null==n&&(n={}),this.attributes=i.clone(n)}return s(e,t),e.prototype.getAt=function(t,n){return new e(this.start+t,this.start+t+n,this.attributes)},e.prototype.getLength=function(){return this.end-this.start},e.prototype.isEqual=function(t){return null!=t&&this.start===t.start&&this.end===t.end&&i.isEqual(this.attributes,t.attributes)},e.prototype.split=function(t){var n,r;return n=new e(this.start,this.start+t,this.attributes),r=new e(this.start+t,this.end,this.attributes),[n,r]},e.prototype.toString=function(){return"{{"+this.start+" - "+this.end+"), "+this.printAttributes()+"}"},e}(n),e.exports=r}).call(this)},{"./op":11,lodash:"4HJaAd"}],"38mxji":[function(t,e){(function(){e.exports={Delta:t("./delta"),DeltaGen:t("./delta_generator"),Op:t("./op"),InsertOp:t("./insert"),RetainOp:t("./retain")}}).call(this)},{"./delta":7,"./delta_generator":8,"./insert":10,"./op":11,"./retain":12}],"tandem-core":[function(t,e){e.exports=t("38mxji")},{}],15:[function(t,e){e.exports=t("./javascript/diff_match_patch_uncompressed.js").diff_match_patch},{"./javascript/diff_match_patch_uncompressed.js":16}],16:[function(){function t(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}var e=-1,n=1,r=0;t.Diff,t.prototype.diff_main=function(t,e,n,i){i===void 0&&(i=0>=this.Diff_Timeout?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var o=i;if(null==t||null==e)throw Error("Null input. (diff_main)");if(t==e)return t?[[r,t]]:[];n===void 0&&(n=!0);var s=n,a=this.diff_commonPrefix(t,e),l=t.substring(0,a);t=t.substring(a),e=e.substring(a),a=this.diff_commonSuffix(t,e);var u=t.substring(t.length-a);t=t.substring(0,t.length-a),e=e.substring(0,e.length-a);var c=this.diff_compute_(t,e,s,o);return l&&c.unshift([r,l]),u&&c.push([r,u]),this.diff_cleanupMerge(c),c},t.prototype.diff_compute_=function(t,i,o,s){var a;if(!t)return[[n,i]];if(!i)return[[e,t]];var l=t.length>i.length?t:i,u=t.length>i.length?i:t,c=l.indexOf(u);if(-1!=c)return a=[[n,l.substring(0,c)],[r,u],[n,l.substring(c+u.length)]],t.length>i.length&&(a[0][0]=a[2][0]=e),a;if(1==u.length)return[[e,t],[n,i]];var h=this.diff_halfMatch_(t,i);if(h){var f=h[0],p=h[1],d=h[2],g=h[3],m=h[4],v=this.diff_main(f,d,o,s),b=this.diff_main(p,g,o,s);return v.concat([[r,m]],b)}return o&&t.length>100&&i.length>100?this.diff_lineMode_(t,i,s):this.diff_bisect_(t,i,s)},t.prototype.diff_lineMode_=function(t,i,o){var s=this.diff_linesToChars_(t,i);t=s.chars1,i=s.chars2;var a=s.lineArray,l=this.diff_main(t,i,!1,o);this.diff_charsToLines_(l,a),this.diff_cleanupSemantic(l),l.push([r,""]);for(var u=0,c=0,h=0,f="",p="";l.length>u;){switch(l[u][0]){case n:h++,p+=l[u][1];break;case e:c++,f+=l[u][1];break;case r:if(c>=1&&h>=1){l.splice(u-c-h,c+h),u=u-c-h;for(var s=this.diff_main(f,p,!1,o),d=s.length-1;d>=0;d--)l.splice(u,0,s[d]);u+=s.length}h=0,c=0,f="",p=""}u++}return l.pop(),l},t.prototype.diff_bisect_=function(t,r,i){for(var o=t.length,s=r.length,a=Math.ceil((o+s)/2),l=a,u=2*a,c=Array(u),h=Array(u),f=0;u>f;f++)c[f]=-1,h[f]=-1;c[l+1]=0,h[l+1]=0;for(var p=o-s,d=0!=p%2,g=0,m=0,v=0,b=0,y=0;a>y&&!((new Date).getTime()>i);y++){for(var _=-y+g;y-m>=_;_+=2){var x,w=l+_;x=_==-y||_!=y&&c[w-1]<c[w+1]?c[w+1]:c[w-1]+1;for(var E=x-_;o>x&&s>E&&t.charAt(x)==r.charAt(E);)x++,E++;if(c[w]=x,x>o)m+=2;else if(E>s)g+=2;else if(d){var A=l+p-_;if(A>=0&&u>A&&-1!=h[A]){var C=o-h[A];if(x>=C)return this.diff_bisectSplit_(t,r,x,E,i)}}}for(var S=-y+v;y-b>=S;S+=2){var C,A=l+S;C=S==-y||S!=y&&h[A-1]<h[A+1]?h[A+1]:h[A-1]+1;for(var L=C-S;o>C&&s>L&&t.charAt(o-C-1)==r.charAt(s-L-1);)C++,L++;if(h[A]=C,C>o)b+=2;else if(L>s)v+=2;else if(!d){var w=l+p-S;if(w>=0&&u>w&&-1!=c[w]){var x=c[w],E=l+x-w;if(C=o-C,x>=C)return this.diff_bisectSplit_(t,r,x,E,i)}}}}return[[e,t],[n,r]]},t.prototype.diff_bisectSplit_=function(t,e,n,r,i){var o=t.substring(0,n),s=e.substring(0,r),a=t.substring(n),l=e.substring(r),u=this.diff_main(o,s,!1,i),c=this.diff_main(a,l,!1,i);return u.concat(c)},t.prototype.diff_linesToChars_=function(t,e){function n(t){for(var e="",n=0,o=-1,s=r.length;t.length-1>o;){o=t.indexOf("\n",n),-1==o&&(o=t.length-1);var a=t.substring(n,o+1);n=o+1,(i.hasOwnProperty?i.hasOwnProperty(a):void 0!==i[a])?e+=String.fromCharCode(i[a]):(e+=String.fromCharCode(s),i[a]=s,r[s++]=a)}return e}var r=[],i={};r[0]="";var o=n(t),s=n(e);return{chars1:o,chars2:s,lineArray:r}},t.prototype.diff_charsToLines_=function(t,e){for(var n=0;t.length>n;n++){for(var r=t[n][1],i=[],o=0;r.length>o;o++)i[o]=e[r.charCodeAt(o)];t[n][1]=i.join("")}},t.prototype.diff_commonPrefix=function(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;i>n;)t.substring(o,i)==e.substring(o,i)?(n=i,o=n):r=i,i=Math.floor((r-n)/2+n);return i},t.prototype.diff_commonSuffix=function(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;i>n;)t.substring(t.length-i,t.length-o)==e.substring(e.length-i,e.length-o)?(n=i,o=n):r=i,i=Math.floor((r-n)/2+n);return i},t.prototype.diff_commonOverlap_=function(t,e){var n=t.length,r=e.length;if(0==n||0==r)return 0;n>r?t=t.substring(n-r):r>n&&(e=e.substring(0,n));var i=Math.min(n,r);if(t==e)return i;for(var o=0,s=1;;){var a=t.substring(i-s),l=e.indexOf(a);if(-1==l)return o;s+=l,(0==l||t.substring(i-s)==e.substring(0,s))&&(o=s,s++)}},t.prototype.diff_halfMatch_=function(t,e){function n(t,e,n){for(var r,i,o,a,l=t.substring(n,n+Math.floor(t.length/4)),u=-1,c="";-1!=(u=e.indexOf(l,u+1));){var h=s.diff_commonPrefix(t.substring(n),e.substring(u)),f=s.diff_commonSuffix(t.substring(0,n),e.substring(0,u));f+h>c.length&&(c=e.substring(u-f,u)+e.substring(u,u+h),r=t.substring(0,n-f),i=t.substring(n+h),o=e.substring(0,u-f),a=e.substring(u+h))}return 2*c.length>=t.length?[r,i,o,a,c]:null}if(0>=this.Diff_Timeout)return null;var r=t.length>e.length?t:e,i=t.length>e.length?e:t;if(4>r.length||2*i.length<r.length)return null;var o,s=this,a=n(r,i,Math.ceil(r.length/4)),l=n(r,i,Math.ceil(r.length/2));if(!a&&!l)return null;o=l?a&&a[4].length>l[4].length?a:l:a;var u,c,h,f;t.length>e.length?(u=o[0],c=o[1],h=o[2],f=o[3]):(h=o[0],f=o[1],u=o[2],c=o[3]);var p=o[4];return[u,c,h,f,p]},t.prototype.diff_cleanupSemantic=function(t){for(var i=!1,o=[],s=0,a=null,l=0,u=0,c=0,h=0,f=0;t.length>l;)t[l][0]==r?(o[s++]=l,u=h,c=f,h=0,f=0,a=t[l][1]):(t[l][0]==n?h+=t[l][1].length:f+=t[l][1].length,a&&a.length<=Math.max(u,c)&&a.length<=Math.max(h,f)&&(t.splice(o[s-1],0,[e,a]),t[o[s-1]+1][0]=n,s--,s--,l=s>0?o[s-1]:-1,u=0,c=0,h=0,f=0,a=null,i=!0)),l++;for(i&&this.diff_cleanupMerge(t),this.diff_cleanupSemanticLossless(t),l=1;t.length>l;){if(t[l-1][0]==e&&t[l][0]==n){var p=t[l-1][1],d=t[l][1],g=this.diff_commonOverlap_(p,d),m=this.diff_commonOverlap_(d,p);g>=m?(g>=p.length/2||g>=d.length/2)&&(t.splice(l,0,[r,d.substring(0,g)]),t[l-1][1]=p.substring(0,p.length-g),t[l+1][1]=d.substring(g),l++):(m>=p.length/2||m>=d.length/2)&&(t.splice(l,0,[r,p.substring(0,m)]),t[l-1][0]=n,t[l-1][1]=d.substring(0,d.length-m),t[l+1][0]=e,t[l+1][1]=p.substring(m),l++),l++}l++}},t.prototype.diff_cleanupSemanticLossless=function(e){function n(e,n){if(!e||!n)return 6;var r=e.charAt(e.length-1),i=n.charAt(0),o=r.match(t.nonAlphaNumericRegex_),s=i.match(t.nonAlphaNumericRegex_),a=o&&r.match(t.whitespaceRegex_),l=s&&i.match(t.whitespaceRegex_),u=a&&r.match(t.linebreakRegex_),c=l&&i.match(t.linebreakRegex_),h=u&&e.match(t.blanklineEndRegex_),f=c&&n.match(t.blanklineStartRegex_);return h||f?5:u||c?4:o&&!a&&l?3:a||l?2:o||s?1:0}for(var i=1;e.length-1>i;){if(e[i-1][0]==r&&e[i+1][0]==r){var o=e[i-1][1],s=e[i][1],a=e[i+1][1],l=this.diff_commonSuffix(o,s);if(l){var u=s.substring(s.length-l);o=o.substring(0,o.length-l),s=u+s.substring(0,s.length-l),a=u+a}for(var c=o,h=s,f=a,p=n(o,s)+n(s,a);s.charAt(0)===a.charAt(0);){o+=s.charAt(0),s=s.substring(1)+a.charAt(0),a=a.substring(1);var d=n(o,s)+n(s,a);d>=p&&(p=d,c=o,h=s,f=a)}e[i-1][1]!=c&&(c?e[i-1][1]=c:(e.splice(i-1,1),i--),e[i][1]=h,f?e[i+1][1]=f:(e.splice(i+1,1),i--))}i++}},t.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,t.whitespaceRegex_=/\s/,t.linebreakRegex_=/[\r\n]/,t.blanklineEndRegex_=/\n\r?\n$/,t.blanklineStartRegex_=/^\r?\n\r?\n/,t.prototype.diff_cleanupEfficiency=function(t){for(var i=!1,o=[],s=0,a=null,l=0,u=!1,c=!1,h=!1,f=!1;t.length>l;)t[l][0]==r?(t[l][1].length<this.Diff_EditCost&&(h||f)?(o[s++]=l,u=h,c=f,a=t[l][1]):(s=0,a=null),h=f=!1):(t[l][0]==e?f=!0:h=!0,a&&(u&&c&&h&&f||a.length<this.Diff_EditCost/2&&3==u+c+h+f)&&(t.splice(o[s-1],0,[e,a]),t[o[s-1]+1][0]=n,s--,a=null,u&&c?(h=f=!0,s=0):(s--,l=s>0?o[s-1]:-1,h=f=!1),i=!0)),l++;i&&this.diff_cleanupMerge(t)},t.prototype.diff_cleanupMerge=function(t){t.push([r,""]);for(var i,o=0,s=0,a=0,l="",u="";t.length>o;)switch(t[o][0]){case n:a++,u+=t[o][1],o++;break;case e:s++,l+=t[o][1],o++;break;case r:s+a>1?(0!==s&&0!==a&&(i=this.diff_commonPrefix(u,l),0!==i&&(o-s-a>0&&t[o-s-a-1][0]==r?t[o-s-a-1][1]+=u.substring(0,i):(t.splice(0,0,[r,u.substring(0,i)]),o++),u=u.substring(i),l=l.substring(i)),i=this.diff_commonSuffix(u,l),0!==i&&(t[o][1]=u.substring(u.length-i)+t[o][1],u=u.substring(0,u.length-i),l=l.substring(0,l.length-i))),0===s?t.splice(o-a,s+a,[n,u]):0===a?t.splice(o-s,s+a,[e,l]):t.splice(o-s-a,s+a,[e,l],[n,u]),o=o-s-a+(s?1:0)+(a?1:0)+1):0!==o&&t[o-1][0]==r?(t[o-1][1]+=t[o][1],t.splice(o,1)):o++,a=0,s=0,l="",u=""}""===t[t.length-1][1]&&t.pop();var c=!1;for(o=1;t.length-1>o;)t[o-1][0]==r&&t[o+1][0]==r&&(t[o][1].substring(t[o][1].length-t[o-1][1].length)==t[o-1][1]?(t[o][1]=t[o-1][1]+t[o][1].substring(0,t[o][1].length-t[o-1][1].length),t[o+1][1]=t[o-1][1]+t[o+1][1],t.splice(o-1,1),c=!0):t[o][1].substring(0,t[o+1][1].length)==t[o+1][1]&&(t[o-1][1]+=t[o+1][1],t[o][1]=t[o][1].substring(t[o+1][1].length)+t[o+1][1],t.splice(o+1,1),c=!0)),o++;c&&this.diff_cleanupMerge(t)},t.prototype.diff_xIndex=function(t,r){var i,o=0,s=0,a=0,l=0;for(i=0;t.length>i&&(t[i][0]!==n&&(o+=t[i][1].length),t[i][0]!==e&&(s+=t[i][1].length),!(o>r));i++)a=o,l=s;return t.length!=i&&t[i][0]===e?l:l+(r-a)},t.prototype.diff_prettyHtml=function(t){for(var i=[],o=/&/g,s=/</g,a=/>/g,l=/\n/g,u=0;t.length>u;u++){var c=t[u][0],h=t[u][1],f=h.replace(o,"&amp;").replace(s,"&lt;").replace(a,"&gt;").replace(l,"&para;<br>");switch(c){case n:i[u]='<ins style="background:#e6ffe6;">'+f+"</ins>";break;case e:i[u]='<del style="background:#ffe6e6;">'+f+"</del>";break;case r:i[u]="<span>"+f+"</span>"}}return i.join("")},t.prototype.diff_text1=function(t){for(var e=[],r=0;t.length>r;r++)t[r][0]!==n&&(e[r]=t[r][1]);return e.join("")},t.prototype.diff_text2=function(t){for(var n=[],r=0;t.length>r;r++)t[r][0]!==e&&(n[r]=t[r][1]);return n.join("")},t.prototype.diff_levenshtein=function(t){for(var i=0,o=0,s=0,a=0;t.length>a;a++){var l=t[a][0],u=t[a][1];switch(l){case n:o+=u.length;break;case e:s+=u.length;break;case r:i+=Math.max(o,s),o=0,s=0}}return i+=Math.max(o,s)},t.prototype.diff_toDelta=function(t){for(var i=[],o=0;t.length>o;o++)switch(t[o][0]){case n:i[o]="+"+encodeURI(t[o][1]);break;case e:i[o]="-"+t[o][1].length;break;case r:i[o]="="+t[o][1].length}return i.join("	").replace(/%20/g," ")},t.prototype.diff_fromDelta=function(t,i){for(var o=[],s=0,a=0,l=i.split(/\t/g),u=0;l.length>u;u++){var c=l[u].substring(1);switch(l[u].charAt(0)){case"+":try{o[s++]=[n,decodeURI(c)]}catch(h){throw Error("Illegal escape in diff_fromDelta: "+c)}break;case"-":case"=":var f=parseInt(c,10);if(isNaN(f)||0>f)throw Error("Invalid number in diff_fromDelta: "+c);var p=t.substring(a,a+=f);o[s++]="="==l[u].charAt(0)?[r,p]:[e,p];break;default:if(l[u])throw Error("Invalid diff operation in diff_fromDelta: "+l[u])}}if(a!=t.length)throw Error("Delta length ("+a+") does not equal source text length ("+t.length+").");return o},t.prototype.match_main=function(t,e,n){if(null==t||null==e||null==n)throw Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,t.length)),t==e?0:t.length?t.substring(n,n+e.length)==e?n:this.match_bitap_(t,e,n):-1},t.prototype.match_bitap_=function(t,e,n){function r(t,r){var i=t/e.length,s=Math.abs(n-r);return o.Match_Distance?i+s/o.Match_Distance:s?1:i}if(e.length>this.Match_MaxBits)throw Error("Pattern too long for this browser.");var i=this.match_alphabet_(e),o=this,s=this.Match_Threshold,a=t.indexOf(e,n);-1!=a&&(s=Math.min(r(0,a),s),a=t.lastIndexOf(e,n+e.length),-1!=a&&(s=Math.min(r(0,a),s)));var l=1<<e.length-1;a=-1;for(var u,c,h,f=e.length+t.length,p=0;e.length>p;p++){for(u=0,c=f;c>u;)s>=r(p,n+c)?u=c:f=c,c=Math.floor((f-u)/2+u);f=c;var d=Math.max(1,n-c+1),g=Math.min(n+c,t.length)+e.length,m=Array(g+2);m[g+1]=(1<<p)-1;for(var v=g;v>=d;v--){var b=i[t.charAt(v-1)];if(m[v]=0===p?(1|m[v+1]<<1)&b:(1|m[v+1]<<1)&b|(1|(h[v+1]|h[v])<<1)|h[v+1],m[v]&l){var y=r(p,v-1);if(s>=y){if(s=y,a=v-1,!(a>n))break;d=Math.max(1,2*n-a)}}}if(r(p+1,n)>s)break;h=m}return a},t.prototype.match_alphabet_=function(t){for(var e={},n=0;t.length>n;n++)e[t.charAt(n)]=0;for(var n=0;t.length>n;n++)e[t.charAt(n)]|=1<<t.length-n-1;return e},t.prototype.patch_addContext_=function(t,e){if(0!=e.length){for(var n=e.substring(t.start2,t.start2+t.length1),i=0;e.indexOf(n)!=e.lastIndexOf(n)&&n.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)i+=this.Patch_Margin,n=e.substring(t.start2-i,t.start2+t.length1+i);i+=this.Patch_Margin;var o=e.substring(t.start2-i,t.start2);o&&t.diffs.unshift([r,o]);var s=e.substring(t.start2+t.length1,t.start2+t.length1+i);s&&t.diffs.push([r,s]),t.start1-=o.length,t.start2-=o.length,t.length1+=o.length+s.length,t.length2+=o.length+s.length}},t.prototype.patch_make=function(i,o,s){var a,l;if("string"==typeof i&&"string"==typeof o&&s===void 0)a=i,l=this.diff_main(a,o,!0),l.length>2&&(this.diff_cleanupSemantic(l),this.diff_cleanupEfficiency(l));else if(i&&"object"==typeof i&&o===void 0&&s===void 0)l=i,a=this.diff_text1(l);else if("string"==typeof i&&o&&"object"==typeof o&&s===void 0)a=i,l=o;else{if("string"!=typeof i||"string"!=typeof o||!s||"object"!=typeof s)throw Error("Unknown call format to patch_make.");a=i,l=s}if(0===l.length)return[];for(var u=[],c=new t.patch_obj,h=0,f=0,p=0,d=a,g=a,m=0;l.length>m;m++){var v=l[m][0],b=l[m][1];switch(h||v===r||(c.start1=f,c.start2=p),v){case n:c.diffs[h++]=l[m],c.length2+=b.length,g=g.substring(0,p)+b+g.substring(p);break;case e:c.length1+=b.length,c.diffs[h++]=l[m],g=g.substring(0,p)+g.substring(p+b.length);break;case r:b.length<=2*this.Patch_Margin&&h&&l.length!=m+1?(c.diffs[h++]=l[m],c.length1+=b.length,c.length2+=b.length):b.length>=2*this.Patch_Margin&&h&&(this.patch_addContext_(c,d),u.push(c),c=new t.patch_obj,h=0,d=g,f=p)}v!==n&&(f+=b.length),v!==e&&(p+=b.length)}return h&&(this.patch_addContext_(c,d),u.push(c)),u},t.prototype.patch_deepCopy=function(e){for(var n=[],r=0;e.length>r;r++){var i=e[r],o=new t.patch_obj;o.diffs=[];for(var s=0;i.diffs.length>s;s++)o.diffs[s]=i.diffs[s].slice();o.start1=i.start1,o.start2=i.start2,o.length1=i.length1,o.length2=i.length2,n[r]=o}return n},t.prototype.patch_apply=function(t,i){if(0==t.length)return[i,[]];t=this.patch_deepCopy(t);var o=this.patch_addPadding(t);i=o+i+o,this.patch_splitMax(t);for(var s=0,a=[],l=0;t.length>l;l++){var u,c=t[l].start2+s,h=this.diff_text1(t[l].diffs),f=-1;if(h.length>this.Match_MaxBits?(u=this.match_main(i,h.substring(0,this.Match_MaxBits),c),-1!=u&&(f=this.match_main(i,h.substring(h.length-this.Match_MaxBits),c+h.length-this.Match_MaxBits),(-1==f||u>=f)&&(u=-1))):u=this.match_main(i,h,c),-1==u)a[l]=!1,s-=t[l].length2-t[l].length1;else{a[l]=!0,s=u-c;var p;if(p=-1==f?i.substring(u,u+h.length):i.substring(u,f+this.Match_MaxBits),h==p)i=i.substring(0,u)+this.diff_text2(t[l].diffs)+i.substring(u+h.length);else{var d=this.diff_main(h,p,!1);if(h.length>this.Match_MaxBits&&this.diff_levenshtein(d)/h.length>this.Patch_DeleteThreshold)a[l]=!1;else{this.diff_cleanupSemanticLossless(d);for(var g,m=0,v=0;t[l].diffs.length>v;v++){var b=t[l].diffs[v];b[0]!==r&&(g=this.diff_xIndex(d,m)),b[0]===n?i=i.substring(0,u+g)+b[1]+i.substring(u+g):b[0]===e&&(i=i.substring(0,u+g)+i.substring(u+this.diff_xIndex(d,m+b[1].length))),b[0]!==e&&(m+=b[1].length)}}}}}return i=i.substring(o.length,i.length-o.length),[i,a]},t.prototype.patch_addPadding=function(t){for(var e=this.Patch_Margin,n="",i=1;e>=i;i++)n+=String.fromCharCode(i);for(var i=0;t.length>i;i++)t[i].start1+=e,t[i].start2+=e;var o=t[0],s=o.diffs;if(0==s.length||s[0][0]!=r)s.unshift([r,n]),o.start1-=e,o.start2-=e,o.length1+=e,o.length2+=e;else if(e>s[0][1].length){var a=e-s[0][1].length;s[0][1]=n.substring(s[0][1].length)+s[0][1],o.start1-=a,o.start2-=a,o.length1+=a,o.length2+=a}if(o=t[t.length-1],s=o.diffs,0==s.length||s[s.length-1][0]!=r)s.push([r,n]),o.length1+=e,o.length2+=e;else if(e>s[s.length-1][1].length){var a=e-s[s.length-1][1].length;s[s.length-1][1]+=n.substring(0,a),o.length1+=a,o.length2+=a}return n},t.prototype.patch_splitMax=function(i){for(var o=this.Match_MaxBits,s=0;i.length>s;s++)if(!(o>=i[s].length1)){var a=i[s];i.splice(s--,1);for(var l=a.start1,u=a.start2,c="";0!==a.diffs.length;){var h=new t.patch_obj,f=!0;for(h.start1=l-c.length,h.start2=u-c.length,""!==c&&(h.length1=h.length2=c.length,h.diffs.push([r,c]));0!==a.diffs.length&&h.length1<o-this.Patch_Margin;){var p=a.diffs[0][0],d=a.diffs[0][1];p===n?(h.length2+=d.length,u+=d.length,h.diffs.push(a.diffs.shift()),f=!1):p===e&&1==h.diffs.length&&h.diffs[0][0]==r&&d.length>2*o?(h.length1+=d.length,l+=d.length,f=!1,h.diffs.push([p,d]),a.diffs.shift()):(d=d.substring(0,o-h.length1-this.Patch_Margin),h.length1+=d.length,l+=d.length,p===r?(h.length2+=d.length,u+=d.length):f=!1,h.diffs.push([p,d]),d==a.diffs[0][1]?a.diffs.shift():a.diffs[0][1]=a.diffs[0][1].substring(d.length))}c=this.diff_text2(h.diffs),c=c.substring(c.length-this.Patch_Margin);var g=this.diff_text1(a.diffs).substring(0,this.Patch_Margin);""!==g&&(h.length1+=g.length,h.length2+=g.length,0!==h.diffs.length&&h.diffs[h.diffs.length-1][0]===r?h.diffs[h.diffs.length-1][1]+=g:h.diffs.push([r,g])),f||i.splice(++s,0,h)}}},t.prototype.patch_toText=function(t){for(var e=[],n=0;t.length>n;n++)e[n]=t[n];return e.join("")},t.prototype.patch_fromText=function(i){var o=[];if(!i)return o;for(var s=i.split("\n"),a=0,l=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;s.length>a;){var u=s[a].match(l);if(!u)throw Error("Invalid patch string: "+s[a]);var c=new t.patch_obj;for(o.push(c),c.start1=parseInt(u[1],10),""===u[2]?(c.start1--,c.length1=1):"0"==u[2]?c.length1=0:(c.start1--,c.length1=parseInt(u[2],10)),c.start2=parseInt(u[3],10),""===u[4]?(c.start2--,c.length2=1):"0"==u[4]?c.length2=0:(c.start2--,c.length2=parseInt(u[4],10)),a++;s.length>a;){var h=s[a].charAt(0);try{var f=decodeURI(s[a].substring(1))}catch(p){throw Error("Illegal escape in patch_fromText: "+f)}if("-"==h)c.diffs.push([e,f]);else if("+"==h)c.diffs.push([n,f]);else if(" "==h)c.diffs.push([r,f]);else{if("@"==h)break;if(""!==h)throw Error('Invalid patch mode "'+h+'" in: '+f)}a++}}return o},t.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},t.patch_obj.prototype.toString=function(){var t,i;t=0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1,i=0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2;for(var o,s=["@@ -"+t+" +"+i+" @@\n"],a=0;this.diffs.length>a;a++){switch(this.diffs[a][0]){case n:o="+";break;case e:o="-";break;case r:o=" "}s[a+1]=o+encodeURI(this.diffs[a][1])+"\n"}return s.join("").replace(/%20/g," ")},this.diff_match_patch=t,this.DIFF_DELETE=e,this.DIFF_INSERT=n,this.DIFF_EQUAL=r},{}],"underscore.string":[function(t,e){e.exports=t("Fq7WE+")},{}],"Fq7WE+":[function(e,n,r){!function(e,i){"use strict";function o(t,e){var n,r,i=t.toLowerCase();for(e=[].concat(e),n=0;e.length>n;n+=1)if(r=e[n]){if(r.test&&r.test(t))return!0;if(r.toLowerCase()===i)return!0}}var s=i.prototype.trim,a=i.prototype.trimRight,l=i.prototype.trimLeft,u=function(t){return 1*t||0},c=function(t,e){if(1>e)return"";for(var n="";e>0;)1&e&&(n+=t),e>>=1,t+=t;return n},h=[].slice,f=function(t){return null==t?"\\s":t.source?t.source:"["+v.escapeRegExp(t)+"]"},p={lt:"<",gt:">",quot:'"',amp:"&",apos:"'"},d={};for(var g in p)d[p[g]]=g;d["'"]="#39";var m=function(){function t(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}var e=c,n=function(){return n.cache.hasOwnProperty(arguments[0])||(n.cache[arguments[0]]=n.parse(arguments[0])),n.format.call(null,n.cache[arguments[0]],arguments)};return n.format=function(n,r){var o,s,a,l,u,c,h,f=1,p=n.length,d="",g=[];for(s=0;p>s;s++)if(d=t(n[s]),"string"===d)g.push(n[s]);else if("array"===d){if(l=n[s],l[2])for(o=r[f],a=0;l[2].length>a;a++){if(!o.hasOwnProperty(l[2][a]))throw Error(m('[_.sprintf] property "%s" does not exist',l[2][a]));o=o[l[2][a]]}else o=l[1]?r[l[1]]:r[f++];if(/[^s]/.test(l[8])&&"number"!=t(o))throw Error(m("[_.sprintf] expecting number but found %s",t(o)));switch(l[8]){case"b":o=o.toString(2);break;case"c":o=i.fromCharCode(o);break;case"d":o=parseInt(o,10);break;case"e":o=l[7]?o.toExponential(l[7]):o.toExponential();break;case"f":o=l[7]?parseFloat(o).toFixed(l[7]):parseFloat(o);break;case"o":o=o.toString(8);break;case"s":o=(o=i(o))&&l[7]?o.substring(0,l[7]):o;break;case"u":o=Math.abs(o);break;case"x":o=o.toString(16);break;case"X":o=o.toString(16).toUpperCase()}o=/[def]/.test(l[8])&&l[3]&&o>=0?"+"+o:o,c=l[4]?"0"==l[4]?"0":l[4].charAt(1):" ",h=l[6]-i(o).length,u=l[6]?e(c,h):"",g.push(l[5]?o+u:u+o)}return g.join("")},n.cache={},n.parse=function(t){for(var e=t,n=[],r=[],i=0;e;){if(null!==(n=/^[^\x25]+/.exec(e)))r.push(n[0]);else if(null!==(n=/^\x25{2}/.exec(e)))r.push("%");else{if(null===(n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(e)))throw Error("[_.sprintf] huh?");if(n[2]){i|=1;var o=[],s=n[2],a=[];if(null===(a=/^([a-z_][a-z_\d]*)/i.exec(s)))throw Error("[_.sprintf] huh?");for(o.push(a[1]);""!==(s=s.substring(a[0].length));)if(null!==(a=/^\.([a-z_][a-z_\d]*)/i.exec(s)))o.push(a[1]);else{if(null===(a=/^\[(\d+)\]/.exec(s)))throw Error("[_.sprintf] huh?");o.push(a[1])}n[2]=o}else i|=2;if(3===i)throw Error("[_.sprintf] mixing positional and named placeholders is not (yet) supported");r.push(n)}e=e.substring(n[0].length)}return r},n}(),v={VERSION:"2.3.0",isBlank:function(t){return null==t&&(t=""),/^\s*$/.test(t)},stripTags:function(t){return null==t?"":i(t).replace(/<\/?[^>]+>/g,"")},capitalize:function(t){return t=null==t?"":i(t),t.charAt(0).toUpperCase()+t.slice(1)},chop:function(t,e){return null==t?[]:(t=i(t),e=~~e,e>0?t.match(RegExp(".{1,"+e+"}","g")):[t])},clean:function(t){return v.strip(t).replace(/\s+/g," ")},count:function(t,e){if(null==t||null==e)return 0;t=i(t),e=i(e);for(var n=0,r=0,o=e.length;r=t.indexOf(e,r),-1!==r;)n++,r+=o;return n},chars:function(t){return null==t?[]:i(t).split("")},swapCase:function(t){return null==t?"":i(t).replace(/\S/g,function(t){return t===t.toUpperCase()?t.toLowerCase():t.toUpperCase()})},escapeHTML:function(t){return null==t?"":i(t).replace(/[&<>"']/g,function(t){return"&"+d[t]+";"})},unescapeHTML:function(t){return null==t?"":i(t).replace(/\&([^;]+);/g,function(t,e){var n;return e in p?p[e]:(n=e.match(/^#x([\da-fA-F]+)$/))?i.fromCharCode(parseInt(n[1],16)):(n=e.match(/^#(\d+)$/))?i.fromCharCode(~~n[1]):t})},escapeRegExp:function(t){return null==t?"":i(t).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")},splice:function(t,e,n,r){var i=v.chars(t);return i.splice(~~e,~~n,r),i.join("")},insert:function(t,e,n){return v.splice(t,e,0,n)},include:function(t,e){return""===e?!0:null==t?!1:-1!==i(t).indexOf(e)},join:function(){var t=h.call(arguments),e=t.shift();return null==e&&(e=""),t.join(e)},lines:function(t){return null==t?[]:i(t).split("\n")},reverse:function(t){return v.chars(t).reverse().join("")},startsWith:function(t,e){return""===e?!0:null==t||null==e?!1:(t=i(t),e=i(e),t.length>=e.length&&t.slice(0,e.length)===e)},endsWith:function(t,e){return""===e?!0:null==t||null==e?!1:(t=i(t),e=i(e),t.length>=e.length&&t.slice(t.length-e.length)===e)},succ:function(t){return null==t?"":(t=i(t),t.slice(0,-1)+i.fromCharCode(t.charCodeAt(t.length-1)+1))},titleize:function(t){return null==t?"":(t=i(t).toLowerCase(),t.replace(/(?:^|\s|-)\S/g,function(t){return t.toUpperCase()}))},camelize:function(t){return v.trim(t).replace(/[-_\s]+(.)?/g,function(t,e){return e?e.toUpperCase():""})},underscored:function(t){return v.trim(t).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()},dasherize:function(t){return v.trim(t).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()},classify:function(t){return v.titleize(i(t).replace(/[\W_]/g," ")).replace(/\s/g,"")},humanize:function(t){return v.capitalize(v.underscored(t).replace(/_id$/,"").replace(/_/g," "))},trim:function(t,e){return null==t?"":!e&&s?s.call(t):(e=f(e),i(t).replace(RegExp("^"+e+"+|"+e+"+$","g"),""))},ltrim:function(t,e){return null==t?"":!e&&l?l.call(t):(e=f(e),i(t).replace(RegExp("^"+e+"+"),""))},rtrim:function(t,e){return null==t?"":!e&&a?a.call(t):(e=f(e),i(t).replace(RegExp(e+"+$"),""))},truncate:function(t,e,n){return null==t?"":(t=i(t),n=n||"...",e=~~e,t.length>e?t.slice(0,e)+n:t)},prune:function(t,e,n){if(null==t)return"";if(t=i(t),e=~~e,n=null!=n?i(n):"...",e>=t.length)return t;var r=function(t){return t.toUpperCase()!==t.toLowerCase()?"A":" "},o=t.slice(0,e+1).replace(/.(?=\W*\w*$)/g,r);return o=o.slice(o.length-2).match(/\w\w/)?o.replace(/\s*\S+$/,""):v.rtrim(o.slice(0,o.length-1)),(o+n).length>t.length?t:t.slice(0,o.length)+n},words:function(t,e){return v.isBlank(t)?[]:v.trim(t,e).split(e||/\s+/)},pad:function(t,e,n,r){t=null==t?"":i(t),e=~~e;var o=0;switch(n?n.length>1&&(n=n.charAt(0)):n=" ",r){case"right":return o=e-t.length,t+c(n,o);
case"both":return o=e-t.length,c(n,Math.ceil(o/2))+t+c(n,Math.floor(o/2));default:return o=e-t.length,c(n,o)+t}},lpad:function(t,e,n){return v.pad(t,e,n)},rpad:function(t,e,n){return v.pad(t,e,n,"right")},lrpad:function(t,e,n){return v.pad(t,e,n,"both")},sprintf:m,vsprintf:function(t,e){return e.unshift(t),m.apply(null,e)},toNumber:function(t,e){return t?(t=v.trim(t),t.match(/^-?\d+(?:\.\d+)?$/)?u(u(t).toFixed(~~e)):0/0):0},numberFormat:function(t,e,n,r){if(isNaN(t)||null==t)return"";t=t.toFixed(~~e),r="string"==typeof r?r:",";var i=t.split("."),o=i[0],s=i[1]?(n||".")+i[1]:"";return o.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+r)+s},strRight:function(t,e){if(null==t)return"";t=i(t),e=null!=e?i(e):e;var n=e?t.indexOf(e):-1;return~n?t.slice(n+e.length,t.length):t},strRightBack:function(t,e){if(null==t)return"";t=i(t),e=null!=e?i(e):e;var n=e?t.lastIndexOf(e):-1;return~n?t.slice(n+e.length,t.length):t},strLeft:function(t,e){if(null==t)return"";t=i(t),e=null!=e?i(e):e;var n=e?t.indexOf(e):-1;return~n?t.slice(0,n):t},strLeftBack:function(t,e){if(null==t)return"";t+="",e=null!=e?""+e:e;var n=t.lastIndexOf(e);return~n?t.slice(0,n):t},toSentence:function(t,e,n,r){e=e||", ",n=n||" and ";var i=t.slice(),o=i.pop();return t.length>2&&r&&(n=v.rtrim(e)+n),i.length?i.join(e)+n+o:o},toSentenceSerial:function(){var t=h.call(arguments);return t[3]=!0,v.toSentence.apply(v,t)},slugify:function(t){if(null==t)return"";var e="ąàáäâãåæăćęèéëêìíïîłńòóöôõøśșțùúüûñçżź",n="aaaaaaaaaceeeeeiiiilnoooooosstuuuunczz",r=RegExp(f(e),"g");return t=i(t).toLowerCase().replace(r,function(t){var r=e.indexOf(t);return n.charAt(r)||"-"}),v.dasherize(t.replace(/[^\w\s-]/g,""))},surround:function(t,e){return[e,t,e].join("")},quote:function(t,e){return v.surround(t,e||'"')},unquote:function(t,e){return e=e||'"',t[0]===e&&t[t.length-1]===e?t.slice(1,t.length-1):t},exports:function(){var t={};for(var e in this)this.hasOwnProperty(e)&&!e.match(/^(?:include|contains|reverse)$/)&&(t[e]=this[e]);return t},repeat:function(t,e,n){if(null==t)return"";if(e=~~e,null==n)return c(i(t),e);for(var r=[];e>0;r[--e]=t);return r.join(n)},naturalCmp:function(t,e){if(t==e)return 0;if(!t)return-1;if(!e)return 1;for(var n=/(\.\d+)|(\d+)|(\D+)/g,r=i(t).toLowerCase().match(n),o=i(e).toLowerCase().match(n),s=Math.min(r.length,o.length),a=0;s>a;a++){var l=r[a],u=o[a];if(l!==u){var c=parseInt(l,10);if(!isNaN(c)){var h=parseInt(u,10);if(!isNaN(h)&&c-h)return c-h}return u>l?-1:1}}return r.length===o.length?r.length-o.length:e>t?-1:1},levenshtein:function(t,e){if(null==t&&null==e)return 0;if(null==t)return i(e).length;if(null==e)return i(t).length;t=i(t),e=i(e);for(var n,r,o=[],s=0;e.length>=s;s++)for(var a=0;t.length>=a;a++)r=s&&a?t.charAt(a-1)===e.charAt(s-1)?n:Math.min(o[a],o[a-1],n)+1:s+a,n=o[a],o[a]=r;return o.pop()},toBoolean:function(t,e,n){return"number"==typeof t&&(t=""+t),"string"!=typeof t?!!t:(t=v.trim(t),o(t,e||["true","1"])?!0:o(t,n||["false","0"])?!1:void 0)}};v.strip=v.trim,v.lstrip=v.ltrim,v.rstrip=v.rtrim,v.center=v.lrpad,v.rjust=v.lpad,v.ljust=v.rpad,v.contains=v.include,v.q=v.quote,v.toBool=v.toBoolean,r!==void 0&&(n!==void 0&&n.exports&&(n.exports=v),r._s=v),"function"==typeof t&&t.amd&&t("underscore.string",[],function(){return v}),e._=e._||{},e._.string=e._.str=v}(this,String)},{}],19:[function(t,e){e.exports={name:"quilljs",version:"0.13.2",description:"Cross browser rich text editor",author:"Jason Chen <jhchen7@gmail.com>",homepage:"http://quilljs.com",contributors:["Byron Milligan <byronner@gmail.com>","Keegan Poppen <keegan.poppen@gmail.com>"],dependencies:{eventemitter2:"~0.4.13",lodash:"~2.4.1","tandem-core":"~0.5.2","underscore.string":"~2.3.3"},devDependencies:{async:"~0.6.2",coffeeify:"~0.6.0",grunt:"~0.4.3","grunt-browserify":"~2.0.7","grunt-contrib-clean":"~0.5.0","grunt-contrib-coffee":"~0.10.1","grunt-contrib-concat":"~0.3.0","grunt-contrib-connect":"~0.7.1","grunt-contrib-copy":"~0.5.0","grunt-contrib-jade":"~0.11.0","grunt-contrib-stylus":"~0.13.2","grunt-contrib-uglify":"~0.4.0","grunt-contrib-watch":"~0.6.1","grunt-karma":"~0.8.0","grunt-newer":"~0.7.0","grunt-protractor-runner":"~0.2.4","grunt-shell":"~0.6.4",istanbul:"~0.2.6",jquery:"~1.11.0",karma:"~0.12.0","karma-chrome-launcher":"~0.1.2","karma-coffee-preprocessor":"~0.2.1","karma-coverage":"~0.2.0","karma-firefox-launcher":"~0.1.3","karma-html2js-preprocessor":"~0.1.0","karma-jasmine":"~0.2.0","karma-phantomjs-launcher":"~0.1.2","karma-safari-launcher":"~0.1.1","karma-sauce-launcher":"~0.2.2","load-grunt-tasks":"~0.4.0",mocha:"~1.18.0",protractor:"~0.21.0"},engines:{node:">=0.10"},license:"BSD-3-Clause",repository:{type:"git",url:"https://github.com/quilljs/quill"},bugs:{url:"https://github.com/quilljs/quill/issues"},scripts:{test:"grunt test"},keywords:["editor","rich text","wysiwyg"]}},{}],20:[function(t,e){var n,r,i,o,s,a,l,u,c;c=t("lodash"),n=t("./dom"),i=t("./format"),o=t("./line"),s=t("./lib/linked-list"),a=t("./normalizer"),u=t("./utils"),l=t("tandem-core"),r=function(){function t(t,e){this.root=t,null==e&&(e={}),this.formats={},c.each(e.formats,c.bind(this.addFormat,this)),this.setHTML(this.root.innerHTML)}return t.prototype.addFormat=function(t,e){return c.isObject(e)||(e=i.FORMATS[t]),null!=this.formats[t]&&console.warn("Overwriting format",t,this.formats[t]),this.formats[t]=new i(this.root.ownerDocument,e)},t.prototype.appendLine=function(t){return this.insertLineBefore(t,null)},t.prototype.findLeafAt=function(t,e){var n,r,i;return i=this.findLineAt(t),n=i[0],r=i[1],null!=n?n.findLeafAt(r,e):[null,r]},t.prototype.findLine=function(t){for(var e;null!=t&&t.parentNode!==this.root;)t=t.parentNode;return e=null!=t?this.lineMap[t.id]:null,(null!=e?e.node:void 0)===t?e:null},t.prototype.findLineAt=function(t){var e,n;if(!(this.lines.length>0))return[null,t];if(n=this.toDelta().endLength,t===n)return[this.lines.last,this.lines.last.length];if(t>n)return[null,t-n];for(e=this.lines.first;null!=e;){if(e.length>t)return[e,t];t-=e.length,e=e.next}return[null,t]},t.prototype.insertLineBefore=function(t,e){var r;return r=new o(this,t),null!=e?(n.isElement(t.parentNode)||this.root.insertBefore(t,e.node),this.lines.insertAfter(e.prev,r)):(n.isElement(t.parentNode)||this.root.appendChild(t),this.lines.append(r)),this.lineMap[r.id]=r,r},t.prototype.mergeLines=function(t,e){return e.length>1&&(1===t.length&&n.removeNode(t.leaves.last.node),c.each(n.getChildNodes(e.node),function(e){return e.tagName!==n.DEFAULT_BREAK_TAG?t.node.appendChild(e):void 0})),this.removeLine(e),t.rebuild()},t.prototype.optimizeLines=function(){return c.each(this.lines.toArray(),function(t){return t.optimize(),!0})},t.prototype.rebuild=function(){var t,e,n;for(e=this.lines.toArray(),t=this.root.firstChild,c.each(e,function(e){return function(n){for(var r;n.node!==t;){if(n.node.parentNode!==e.root)return e.removeLine(n);t=a.normalizeLine(t),r=e.insertLineBefore(t,n),t=t.nextSibling}return n.outerHTML!==t.outerHTML&&(n.node=a.normalizeLine(n.node),n.rebuild()),t=n.node.nextSibling}}(this)),n=[];null!=t;)t=a.normalizeLine(t),this.appendLine(t),n.push(t=t.nextSibling);return n},t.prototype.removeLine=function(t){return t.node.parentNode===this.root&&n.removeNode(t.node),delete this.lineMap[t.id],this.lines.remove(t)},t.prototype.setHTML=function(t){return t=a.stripWhitespace(t),this.root.innerHTML=t,this.lines=new s,this.lineMap={},this.rebuild()},t.prototype.splitLine=function(t,e){var n,r,i,o;return e=Math.min(e,t.length-1),o=u.splitNode(t.node,e,!0),n=o[0],r=o[1],t.node=n,t.rebuild(),i=this.insertLineBefore(r,t.next),i.formats=c.clone(t.formats),i.resetContent(),i},t.prototype.toDelta=function(){var t,e;return t=this.lines.toArray(),e=c.flatten(c.map(t,function(t){return c.clone(t.delta.ops)}),!0),new l.Delta(0,e)},t}(),e.exports=r},{"./dom":21,"./format":23,"./lib/linked-list":26,"./line":29,"./normalizer":39,"./utils":45,lodash:"4HJaAd","tandem-core":"38mxji"}],21:[function(t,e){var n,r,i;i=t("lodash"),i.str=t("underscore.string"),r=null,n={ELEMENT_NODE:1,NOBREAK_SPACE:"&nbsp;",TEXT_NODE:3,ZERO_WIDTH_NOBREAK_SPACE:"",DEFAULT_BLOCK_TAG:"P",DEFAULT_BREAK_TAG:"BR",DEFAULT_INLINE_TAG:"SPAN",EMBED_TEXT:"!",FONT_SIZES:{"10px":1,"13px":2,"16px":3,"18px":4,"24px":5,"32px":6,"48px":7},KEYS:{BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},BLOCK_TAGS:{ADDRESS:"ADDRESS",ARTICLE:"ARTICLE",ASIDE:"ASIDE",AUDIO:"AUDIO",BLOCKQUOTE:"BLOCKQUOTE",CANVAS:"CANVAS",DD:"DD",DIV:"DIV",DL:"DL",FIGCAPTION:"FIGCAPTION",FIGURE:"FIGURE",FOOTER:"FOOTER",FORM:"FORM",H1:"H1",H2:"H2",H3:"H3",H4:"H4",H5:"H5",H6:"H6",HEADER:"HEADER",HGROUP:"HGROUP",LI:"LI",OL:"OL",OUTPUT:"OUTPUT",P:"P",PRE:"PRE",SECTION:"SECTION",TABLE:"TABLE",TBODY:"TBODY",TD:"TD",TFOOT:"TFOOT",TH:"TH",THEAD:"THEAD",TR:"TR",UL:"UL",VIDEO:"VIDEO"},EMBED_TAGS:{IMG:"IMG"},VOID_TAGS:{AREA:"AREA",BASE:"BASE",BR:"BR",COL:"COL",COMMAND:"COMMAND",EMBED:"EMBED",HR:"HR",IMG:"IMG",INPUT:"INPUT",KEYGEN:"KEYGEN",LINK:"LINK",META:"META",PARAM:"PARAM",SOURCE:"SOURCE",TRACK:"TRACK",WBR:"WBR"},addClass:function(t,e){return n.hasClass(t,e)?void 0:null!=t.classList?t.classList.add(e):null!=t.className?t.className=i.str.trim(t.className+" "+e):void 0},addEventListener:function(t,e,n){return t.addEventListener(e,function(t){var i,o;return i=!r||"keydown"!==e&&"keyup"!==e?t:r,o=n(i),o||(t.preventDefault(),t.stopPropagation()),o})},clearAttributes:function(t,e){return null==e&&(e=[]),i.isString(e)&&(e=[e]),i.each(n.getAttributes(t),function(n,r){return i.indexOf(e,r)>-1?void 0:t.removeAttribute(r)})},getAttributes:function(t){var e,n,r,i,o,s,a;if(null==t.attributes)return{};for(n={},a=t.attributes,r=o=0,s=a.length;s>o;r=++o)i=a[r],e=t.attributes[r],n[e.name]=e.value;return n},getChildNodes:function(t){return i.map(t.childNodes)},getChildren:function(t){return i.map(t.children)},getDescendants:function(t){return i.map(t.getElementsByTagName("*"))},getClasses:function(t){return t.className.split(/\s+/)},getDefaultOption:function(t){return t.querySelector("option[selected]")},getSelectValue:function(t){return t.selectedIndex>-1?t.options[t.selectedIndex].value:""},getStyles:function(t){var e,n;return n=t.getAttribute("style")||"",e=i.reduce(n.split(";"),function(t,e){var n,r,o;return o=e.split(":"),n=o[0],r=o[1],n&&r&&(n=i.str.trim(n),r=i.str.trim(r),t[n.toLowerCase()]=r),t},{})},getText:function(t){switch(t.nodeType){case n.ELEMENT_NODE:return t.tagName===n.DEFAULT_BREAK_TAG?"":null!=n.EMBED_TAGS[t.tagName]?n.EMBED_TEXT:null!=t.textContent?t.textContent:null!=t.innerText?t.innerText.replace(/[\r\n]/g,""):"";case n.TEXT_NODE:return t.data||"";default:return""}},getWindow:function(t){return t.ownerDocument.defaultView||t.ownerDocument.parentWindow},hasClass:function(t,e){return null!=t.classList?t.classList.contains(e):null!=t.className?i.indexOf(n.getClasses(t),e)>-1:!1},isElement:function(t){return(null!=t?t.nodeType:void 0)===n.ELEMENT_NODE},isTextNode:function(t){return(null!=t?t.nodeType:void 0)===n.TEXT_NODE},moveChildren:function(t,e){return i.each(n.getChildNodes(e),function(e){return t.appendChild(e)})},normalize:function(t){var e,r,i,o;for(e=t.firstChild,o=[];null!=e;)i=e.nextSibling,n.isTextNode(e)&&(0===n.getText(e).length?n.removeNode(e):n.isTextNode(i)&&(i=i.nextSibling,r=n.getText(e)+n.getText(e.nextSibling),n.setText(e,r),n.removeNode(e.nextSibling))),o.push(e=i);return o},isIE:function(t){var e;return e=document.documentMode,e&&t>=e},isIOS:function(){return/iPhone|iPad/i.test(navigator.userAgent)},removeClass:function(t,e){var r;return n.hasClass(t,e)?null!=t.classList?t.classList.remove(e):null!=t.className?(r=n.getClasses(t),r.splice(i.indexOf(r,e),1),t.className=r.join(" ")):void 0:void 0},removeNode:function(t){var e;return null!=(e=t.parentNode)?e.removeChild(t):void 0},replaceNode:function(t,e){return e.parentNode.replaceChild(t,e),t},resetSelect:function(t,e){var r;return null==e&&(e=!0),r=n.getDefaultOption(t),null!=r?r.selected=!0:t.selectedIndex=0,e?n.triggerEvent(t,"change"):void 0},selectOption:function(t,e,r){var o;return null==r&&(r=!0),o=i.isElement(e)?e.value:e,o?t.value=o:t.selectedIndex=-1,r?n.triggerEvent(t,"change"):void 0},setStyles:function(t,e){var n;return n=i.map(e,function(t,e){return""+e+": "+t}).join("; ")+";",t.setAttribute("style",n)},setText:function(t,e){switch(t.nodeType){case n.ELEMENT_NODE:return null!=t.textContent?t.textContent=e:t.innerText=e;case n.TEXT_NODE:return t.data=e}},switchTag:function(t,e){var r,o;return e=e.toUpperCase(),t.tagName!==e?(o=t.ownerDocument.createElement(e),r=n.getAttributes(t),null==n.VOID_TAGS[e]&&this.moveChildren(o,t),t.parentNode.replaceChild(o,t),i.each(r,function(t,e){return o.setAttribute(e,t)}),o):void 0},toggleClass:function(t,e,r){return null==r&&(r=!n.hasClass(t,e)),r?n.addClass(t,e):n.removeClass(t,e)},triggerEvent:function(t,e,o){var s,a,l;return null==o&&(o={}),0>i.indexOf(["keypress","keydown","keyup"],e)?(s=t.ownerDocument.createEvent("Event"),s.initEvent(e,o.bubbles,o.cancelable)):(s=t.ownerDocument.createEvent("KeyboardEvent"),r=i.clone(o),r.which=i.isNumber(o.key)?o.key:i.isString(o.key)?o.key.toUpperCase().charCodeAt(0):0,n.isIE(10)?(l=[],o.altKey&&l.push("Alt"),o.ctrlKey&&l.push("Control"),o.metaKey&&l.push("Meta"),o.shiftKey&&l.push("Shift"),s.initKeyboardEvent(e,o.bubbles,o.cancelable,t.ownerDocument.defaultView.window,0,0,l.join(" "),null,null)):(a=i.isFunction(s.initKeyboardEvent)?"initKeyboardEvent":"initKeyEvent",s[a](e,o.bubbles,o.cancelable,t.ownerDocument.defaultView.window,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,0,0))),t.dispatchEvent(s),r=null},unwrap:function(t){var e,r;return r=t.firstChild,e=t.nextSibling,i.each(n.getChildNodes(t),function(n){return t.parentNode.insertBefore(n,e)}),n.removeNode(t),r},wrap:function(t,e){return null!=e.parentNode&&e.parentNode.insertBefore(t,e),t.appendChild(e),t}},e.exports=n},{lodash:"4HJaAd","underscore.string":"Fq7WE+"}],22:[function(t,e){var n,r,i,o,s,a,l,u;u=t("lodash"),n=t("./dom"),r=t("./document"),o=t("./line"),s=t("./renderer"),a=t("./selection"),l=t("tandem-core"),i=function(){function t(t,e,n){this.iframeContainer=t,this.quill=e,this.options=null!=n?n:{},this.renderer=new s(this.iframeContainer,this.quill,this.options),this.root=this.renderer.root,this.doc=new r(this.root,this.options),this.delta=this.doc.toDelta(),this.selection=new a(this.doc,this.quill),this.timer=setInterval(u.bind(this.checkUpdate,this),this.options.pollInterval),this.quill.on(this.quill.constructor.events.SELECTION_CHANGE,function(t){return function(e){return t.savedRange=e}}(this)),this.options.readOnly||this.enable()}return t.prototype.disable=function(){return this.enable(!1)},t.prototype.enable=function(t){return null==t&&(t=!0),this.root.setAttribute("contenteditable",t)},t.prototype.applyDelta=function(t,e){return this._update(),t=this._trackDelta(function(e){return function(){return t.apply(e._insertAt,e._deleteAt,e._formatAt,e),e.selection.shiftAfter(0,0,u.bind(e.doc.optimizeLines,e.doc))}}(this)),this.delta=this.doc.toDelta(),this.innerHTML=this.root.innerHTML,t&&"silent"!==e?this.quill.emit(this.quill.constructor.events.TEXT_CHANGE,t,e):void 0},t.prototype.checkUpdate=function(t){var e,n;return null==t&&(t="user"),null==this.renderer.iframe.parentNode||null==this.root.parentNode?clearInterval(this.timer):(e=this._update(),e&&(n=this.delta,this.delta=n.compose(e),this.quill.emit(this.quill.constructor.events.TEXT_CHANGE,e,t)),e&&(t="silent"),this.selection.update(t))},t.prototype.getDelta=function(){return this.delta},t.prototype._deleteAt=function(t,e){return 0>=e?void 0:this.selection.shiftAfter(t,-1*e,function(n){return function(){var r,i,o,s,a,l,u;for(u=n.doc.findLineAt(t),o=u[0],l=u[1],r=o,s=e>=o.length-l&&l>0;null!=r&&e>0;)a=r.next,i=Math.min(r.length-l,e),0===l&&e>=r.length?n.doc.removeLine(r):r.deleteText(l,i),e-=i,r=a,l=0;return s&&o.next?n.doc.mergeLines(o,o.next):void 0}}(this))},t.prototype._formatAt=function(t,e,n,r){return this.selection.shiftAfter(t,0,function(i){return function(){var o,s,a,l,u;for(l=i.doc.findLineAt(t),s=l[0],a=l[1],u=[];null!=s&&e>0;)o=Math.min(e,s.length-a-1),s.formatText(a,o,n,r),e-=o,e>0&&s.format(n,r),e-=1,a=0,u.push(s=s.next);return u}}(this))},t.prototype._insertAt=function(t,e,r){return null==r&&(r={}),this.selection.shiftAfter(t,e.length,function(i){return function(){var o,s,a,l;return e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),s=e.split("\n"),l=i.doc.findLineAt(t),o=l[0],a=l[1],u.each(s,function(t,e){var l;return null==o||a>=o.length?(s.length-1>e||t.length>0)&&(o=i.doc.appendLine(i.root.ownerDocument.createElement(n.DEFAULT_BLOCK_TAG)),a=0,o.insertText(a,t,r),o.format(r),l=null):(o.insertText(a,t,r),s.length-1>e&&(l=i.doc.splitLine(o,a+t.length),o.format(r),a=0)),o=l})}}(this))},t.prototype._trackDelta=function(t){var e,n,r,i,o,s,a,l,u,c,h,f,p,d,g,m,v;h=null!=(d=this.savedRange)?d.start:void 0,t(),a=this.doc.toDelta();try{l=null!=(g=this.selection.getRange())?g.start:void 0,null!=h&&null!=l&&this.delta.endLength>=h&&a.endLength>=l&&(m=this.delta.split(h),f=m[0],p=m[1],v=a.split(l),u=v[0],c=v[1],i=u.decompose(f),o=c.decompose(p),n=i.merge(o))}catch(b){s=b}return r=a.decompose(this.delta),e=n&&r?n.ops.length<r.ops.length?n:r:n||r},t.prototype._update=function(){var t;return this.innerHTML===this.root.innerHTML?!1:(t=this._trackDelta(function(t){return function(){return t.selection.preserve(u.bind(t.doc.rebuild,t.doc)),t.selection.shiftAfter(0,0,u.bind(t.doc.optimizeLines,t.doc))}}(this)),this.innerHTML=this.root.innerHTML,t.isIdentity()?!1:t)},t}(),e.exports=i},{"./document":20,"./dom":21,"./line":29,"./renderer":41,"./selection":42,lodash:"4HJaAd","tandem-core":"38mxji"}],23:[function(t,e){var n,r,i,o;o=t("lodash"),n=t("./dom"),i=t("./utils"),r=function(){function t(t,e){this.document=t,this.config=e}return t.types={LINE:"line"},t.FORMATS={bold:{tag:"B",prepare:"bold"},italic:{tag:"I",prepare:"italic"},underline:{tag:"U",prepare:"underline"},strike:{tag:"S",prepare:"strikeThrough"},color:{style:"color","default":"rgb(0, 0, 0)",prepare:"foreColor"},background:{style:"backgroundColor","default":"rgb(255, 255, 255)",prepare:"backColor"},font:{style:"fontFamily","default":"'Helvetica', 'Arial', sans-serif",prepare:"fontName"},size:{style:"fontSize","default":"13px",prepare:function(t,e){return t.execCommand("fontSize",!1,i.convertFontSize(e))}},link:{tag:"A",attribute:"href"},image:{tag:"IMG",attribute:"src"},align:{type:t.types.LINE,style:"textAlign","default":"left",prepare:function(t,e){var n;switch(e){case"left":n="justifyLeft";break;case"center":n="justifyCenter";break;case"right":n="justifyRight";break;case"justify":n="justifyFull"}return t.execCommand(n,!1)}}},t.prototype.add=function(t,e){var r;return e?this.value(t)===e?t:(o.isString(this.config.tag)&&(r=this.document.createElement(this.config.tag),null!=n.VOID_TAGS[r.tagName]?(null!=t.parentNode&&t.parentNode.insertBefore(r,t),n.removeNode(t),t=r):t=n.wrap(r,t)),(o.isString(this.config.style)||o.isString(this.config.attribute)||o.isString(this.config["class"]))&&(o.isString(this.config["class"])&&(t=this.remove(t)),n.isTextNode(t)&&(t=n.wrap(this.document.createElement(n.DEFAULT_INLINE_TAG),t)),o.isString(this.config.style)&&e!==this.config["default"]&&(t.style[this.config.style]=e),o.isString(this.config.attribute)&&t.setAttribute(this.config.attribute,e),o.isString(this.config["class"])&&n.addClass(t,this.config["class"]+e)),t):this.remove(t)},t.prototype.isType=function(t){return t===this.config.type},t.prototype.match=function(t){var e,r,i,s;if(!n.isElement(t))return!1;if(o.isString(this.config.tag)&&t.tagName!==this.config.tag)return!1;if(o.isString(this.config.style)&&(!t.style[this.config.style]||t.style[this.config.style]===this.config["default"]))return!1;if(o.isString(this.config.attribute)&&!t.hasAttribute(this.config.attribute))return!1;if(o.isString(this.config["class"])){for(s=n.getClasses(t),r=0,i=s.length;i>r;r++)if(e=s[r],0===e.indexOf(this.config["class"]))return!0;return!1}return!0},t.prototype.prepare=function(t){return o.isString(this.config.prepare)?this.document.execCommand(this.config.prepare,!1,t):o.isFunction(this.config.prepare)?this.config.prepare(this.document,t):void 0},t.prototype.remove=function(t){var e,r,i,s;if(!this.match(t))return t;if(o.isString(this.config.style)&&(t.style[this.config.style]="",t.getAttribute("style")||t.removeAttribute("style")),o.isString(this.config.attribute)&&t.removeAttribute(this.config.attribute),o.isString(this.config["class"])){for(s=n.getClasses(t),r=0,i=s.length;i>r;r++)e=s[r],0===e.indexOf(this.config["class"])&&n.removeClass(t,e);t.getAttribute("class")||t.removeAttribute("class")}return o.isString(this.config.tag)&&(t=n.switchTag(t,n.DEFAULT_INLINE_TAG),null!=n.EMBED_TAGS[this.config.tag]&&n.setText(t,n.EMBED_TEXT)),t.tagName!==n.DEFAULT_INLINE_TAG||t.hasAttributes()||(t=n.unwrap(t)),t},t.prototype.value=function(t){var e,r,i,s;if(!this.match(t))return void 0;if(o.isString(this.config.attribute))return t.getAttribute(this.config.attribute)||void 0;if(o.isString(this.config.style)&&t.style[this.config.style]!==this.config["default"])return t.style[this.config.style]||void 0;if(o.isString(this.config["class"])){for(s=n.getClasses(t),r=0,i=s.length;i>r;r++)if(e=s[r],0===e.indexOf(this.config["class"]))return e.slice(this.config["class"].length)}else if(o.isString(this.config.tag)&&t.tagName===this.config.tag)return!0;return void 0},t}(),e.exports=r},{"./dom":21,"./utils":45,lodash:"4HJaAd"}],24:[function(t,e){var n,r,i,o,s,a,l={}.hasOwnProperty,u=function(t,e){function n(){this.constructor=t}for(var r in e)l.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};a=t("lodash"),n=t("./dom"),r=t("./format"),o=t("./lib/linked-list"),s=t("./utils"),i=function(t){function e(t,r){this.node=t,this.formats=a.clone(r),this.id=a.uniqueId(e.ID_PREFIX),this.text=n.getText(this.node),this.length=this.text.length}return u(e,t),e.ID_PREFIX="leaf-",e.isLeafNode=function(t){return n.isTextNode(t)||null==t.firstChild},e.prototype.getFormats=function(){return this.formats},e.prototype.deleteText=function(t,e){var r;return this.text=this.text.slice(0,t)+this.text.slice(t+e),this.length=this.text.length,r=this.node.firstChild||this.node,n.setText(r,this.text)},e.prototype.insertText=function(t,e){var r;return this.text=this.text.slice(0,t)+e+this.text.slice(t),n.isTextNode(this.node)?n.setText(this.node,this.text):(r=this.node.ownerDocument.createTextNode(e),this.node.tagName===n.DEFAULT_BREAK_TAG?n.replaceNode(r,this.node):this.node.appendChild(r),this.node=r),this.length=this.text.length},e}(o.Node),e.exports=i},{"./dom":21,"./format":23,"./lib/linked-list":26,"./utils":45,lodash:"4HJaAd"}],25:[function(t,e){var n,r,i,o={}.hasOwnProperty,s=function(t,e){function n(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};r=t("../dom"),i=t("./picker"),n=function(t){function e(){e.__super__.constructor.apply(this,arguments),r.addClass(this.container,"sc-color-picker"),r.addClass(this.container.querySelector(".sc-picker-label"),"sc-format-button")}return s(e,t),e.prototype.buildItem=function(t,n,r){var i;return i=e.__super__.buildItem.call(this,t,n,r),i.style.backgroundColor=n.value,i},e}(i),e.exports=n},{"../dom":21,"./picker":27}],26:[function(t,e){var n,r;r=function(){function t(t){this.data=t,this.prev=this.next=null}return t}(),n=function(){function t(){this.length=0,this.first=this.last=null}return t.Node=r,t.prototype.append=function(t){return null!=this.first?(t.next=null,this.last.next=t):this.first=t,t.prev=this.last,this.last=t,this.length+=1},t.prototype.insertAfter=function(t,e){return e.prev=t,null!=t?(e.next=t.next,null!=t.next&&(t.next.prev=e),t.next=e,t===this.last&&(this.last=e)):(e.next=this.first,this.first.prev=e,this.first=e),this.length+=1},t.prototype.remove=function(t){return this.length>1?(null!=t.prev&&(t.prev.next=t.next),null!=t.next&&(t.next.prev=t.prev),t===this.first&&(this.first=t.next),t===this.last&&(this.last=t.prev)):this.first=this.last=null,t.prev=t.next=null,this.length-=1},t.prototype.toArray=function(){var t,e;for(t=[],e=this.first;null!=e;)t.push(e),e=e.next;return t},t}(),e.exports=n},{}],27:[function(t,e){var n,r,i,o;o=t("lodash"),n=t("../dom"),r=t("../normalizer"),i=function(){function t(t){this.select=t,this.container=this.select.ownerDocument.createElement("div"),this.buildPicker(),n.addClass(this.container,"sc-picker"),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),n.addEventListener(this.select.ownerDocument,"click",function(t){return function(){return t.close(),!0}}(this)),n.addEventListener(this.label,"click",function(t){return function(){return n.toggleClass(t.container,"sc-expanded"),!1}}(this)),n.addEventListener(this.select,"change",function(t){return function(){var e,r;return t.select.selectedIndex>-1&&(e=t.container.querySelectorAll(".sc-picker-item")[t.select.selectedIndex],r=t.select.options[t.select.selectedIndex]),t.selectItem(e,!1),n.toggleClass(t.label,"sc-active",r!==n.getDefaultOption(t.select))}}(this))}return t.TEMPLATE='<div class="sc-picker-label"></div> <div class="sc-picker-options"></div>',t.prototype.buildItem=function(t,e,r){var i;return i=this.select.ownerDocument.createElement("div"),i.setAttribute("data-value",e.getAttribute("value")),n.addClass(i,"sc-picker-item"),n.setText(i,n.getText(e)),this.select.selectedIndex===r&&this.selectItem(i,!1),n.addEventListener(i,"click",function(t){return function(){return t.selectItem(i,!0),t.close()}}(this)),i},t.prototype.buildPicker=function(){var e;return o.each(n.getAttributes(this.select),function(t){return function(e,n){return t.container.setAttribute(n,e)}}(this)),this.container.innerHTML=r.stripWhitespace(t.TEMPLATE),this.label=this.container.querySelector(".sc-picker-label"),e=this.container.querySelector(".sc-picker-options"),o.each(this.select.options,function(t){return function(n,r){var i;return i=t.buildItem(e,n,r),e.appendChild(i)}}(this))},t.prototype.close=function(){return n.removeClass(this.container,"sc-expanded")},t.prototype.selectItem=function(t,e){var r,i;return r=this.container.querySelector(".sc-selected"),null!=r&&n.removeClass(r,"sc-selected"),null!=t?(i=t.getAttribute("data-value"),n.addClass(t,"sc-selected"),n.setText(this.label,n.getText(t)),n.selectOption(this.select,i,e),this.label.setAttribute("data-value",i)):(this.label.innerHTML="&nbsp;",this.label.removeAttribute("data-value"))},t}(),e.exports=i},{"../dom":21,"../normalizer":39,lodash:"4HJaAd"}],28:[function(t,e){var n,r;r=t("lodash"),n=function(){function t(t,e){this.start=t,this.end=e}return t.compare=function(t,e){return t===e?!0:null==t||null==e?!1:t.equals(e)},t.prototype.equals=function(t){return null==t?!1:this.start===t.start&&this.end===t.end},t.prototype.shift=function(t,e){var n;return n=r.map([this.start,this.end],function(n){return n>=t?n+e:Math.min(t+e,n)}),this.start=n[0],this.end=n[1],n},t.prototype.isCollapsed=function(){return this.start===this.end},t}(),e.exports=n},{lodash:"4HJaAd"}],29:[function(t,e){var n,r,i,o,s,a,l,u,c,h={}.hasOwnProperty,f=function(t,e){function n(){this.constructor=t}for(var r in e)h.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};c=t("lodash"),n=t("./dom"),r=t("./format"),i=t("./leaf"),o=t("./line"),s=t("./lib/linked-list"),a=t("./normalizer"),u=t("./utils"),l=t("tandem-core"),o=function(t){function e(t,r){this.doc=t,this.node=r,this.id=c.uniqueId(e.ID_PREFIX),this.formats={},n.addClass(this.node,e.CLASS_NAME),this.rebuild(),e.__super__.constructor.call(this,this.node)}return f(e,t),e.CLASS_NAME="line",e.ID_PREFIX="line-",e.prototype.buildLeaves=function(t,e){return c.each(n.getChildNodes(t),function(t){return function(n){var r;return n=a.normalizeNode(n),r=c.clone(e),c.each(t.doc.formats,function(t,e){return t.match(n)?r[e]=t.value(n):void 0}),i.isLeafNode(n)?t.leaves.append(new i(n,r)):t.buildLeaves(n,r)}}(this))},e.prototype.deleteText=function(t,e){var n,r,i;if(e>0){for(i=this.findLeafAt(t),r=i[0],t=i[1];null!=r&&e>0;)n=Math.min(e,r.length-t),r.deleteText(t,n),e-=n,r=r.next,t=0;return this.rebuild()}},e.prototype.findLeaf=function(t){var e;for(e=this.leaves.first;null!=e;){if(e.node===t)return e;e=e.next}return null},e.prototype.findLeafAt=function(t,e){var n;if(null==e&&(e=!1),t>=this.length-1)return[this.leaves.last,this.leaves.last.length];for(n=this.leaves.first;null!=n;){if(n.length>t||t===n.length&&e)return[n,t];t-=n.length,n=n.next}return[this.leaves.last,t-this.leaves.last.length]},e.prototype.format=function(t,e){var n;return c.isObject(t)?n=t:(n={},n[t]=e),c.each(n,function(t){return function(e,n){var i;return i=t.doc.formats[n],i.isType(r.types.LINE)&&(t.node=i.add(t.node,e)),e?t.formats[n]=e:delete t.formats[n]}}(this)),this.resetContent()},e.prototype.formatText=function(t,e,n,i){var o,s,a,l,c,h,f,p,d,g;if(p=this.findLeafAt(t),s=p[0],a=p[1],o=this.doc.formats[n],null!=o&&o.config.type!==r.types.LINE){for(;null!=s&&e>0;){if(c=s.next,i&&s.formats[n]!==i||!i&&null!=s.formats[n]){if(f=s.node,null!=s.formats[n])for(u.splitAncestors(f,this.node);!o.match(f);)f=f.parentNode;a>0&&(d=u.splitNode(f,a),l=d[0],f=d[1]),s.length>a+e&&(g=u.splitNode(f,e),f=g[0],h=g[1]),o.add(f,i)}e-=s.length-a,a=0,s=c}return this.rebuild()}},e.prototype.insertText=function(t,e,n){var r,i,o,s,a,l,h;return null==n&&(n={}),e.length>0?(l=this.findLeafAt(t),r=l[0],i=l[1],c.isEqual(r.formats,n)?(r.insertText(i,e),this.resetContent()):(s=c.reduce(n,function(t){return function(e,n,r){return t.doc.formats[r].add(e,n)}}(this),this.node.ownerDocument.createTextNode(e)),h=u.splitNode(r.node,i),a=h[0],o=h[1],o&&(o=u.splitAncestors(o,this.node)),this.node.insertBefore(s,o),this.rebuild())):void 0},e.prototype.optimize=function(){return a.optimizeLine(this.node),this.rebuild()},e.prototype.rebuild=function(t){return null==t&&(t=!1),t||null==this.outerHTML||this.outerHTML!==this.node.outerHTML?(this.node=a.normalizeNode(this.node),0!==u.getNodeLength(this.node)||this.node.querySelector(n.DEFAULT_BREAK_TAG)||this.node.appendChild(this.node.ownerDocument.createElement(n.DEFAULT_BREAK_TAG)),this.leaves=new s,this.formats=c.reduce(this.doc.formats,function(t){return function(e,n,i){return n.isType(r.types.LINE)&&(n.match(t.node)?e[i]=n.value(t.node):delete e[i]),e}}(this),this.formats),this.buildLeaves(this.node,{}),this.resetContent(),!0):!1},e.prototype.resetContent=function(){var t;return this.node.id!==this.id&&(this.node.id=this.id),this.outerHTML=this.node.outerHTML,this.length=1,t=c.map(this.leaves.toArray(),function(t){return function(e){return t.length+=e.length,new l.InsertOp(e.text,e.formats)}}(this)),t.push(new l.InsertOp("\n",this.formats)),this.delta=new l.Delta(0,this.length,t)},e}(s.Node),e.exports=o},{"./dom":21,"./format":23,"./leaf":24,"./lib/linked-list":26,"./line":29,"./normalizer":39,"./utils":45,lodash:"4HJaAd","tandem-core":"38mxji"}],30:[function(t,e){var n,r,i,o,s;s=t("lodash"),r=t("../dom"),i=t("../format"),o=t("tandem-core"),n=function(){function t(t,e){this.quill=t,this.options=e,null!=this.options.button&&this.attachButton(this.options.button),this.options.enabled&&this.enable(),this.quill.addFormat("author",{"class":"author-"}),null!=this.options.authorId&&(this.quill.on(this.quill.constructor.events.PRE_EVENT,function(t){return function(e,n,r){var i,a;return e===t.quill.constructor.events.TEXT_CHANGE&&"user"===r?(s.each(n.ops,function(e){return o.InsertOp.isInsert(e)||s.keys(e.attributes).length>0?e.attributes.author=t.options.authorId:void 0}),a=new o.Delta(n.endLength,[new o.RetainOp(0,n.endLength)]),i={author:t.options.authorId},n.apply(function(t,e){return a=a.compose(o.Delta.makeRetainDelta(n.endLength,t,e.length,i))},function(){},function(t,e){return a=a.compose(o.Delta.makeRetainDelta(n.endLength,t,e,i))}),t.quill.updateContents(a,"silent")):void 0}}(this)),this.addAuthor(this.options.authorId,this.options.color))
}return t.DEFAULTS={authorId:null,color:"blue",enabled:!1},t.prototype.addAuthor=function(t,e){var n;return n={},n[".authorship .author-"+t]={"background-color":""+e},this.quill.addStyles(n)},t.prototype.attachButton=function(t){return r.addEventListener(t,"click",function(e){return function(){return r.toggleClass(t,"sc-on"),e.enable(r.hasClass(t,"sc-on"))}}(this))},t.prototype.enable=function(t){return null==t&&(t=!0),r.toggleClass(this.quill.root,"authorship",t)},t.prototype.disable=function(){return this.enable(!1)},t}(),e.exports=n},{"../dom":21,"../format":23,lodash:"4HJaAd","tandem-core":"38mxji"}],31:[function(t,e){var n,r,i,o,s={}.hasOwnProperty,a=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};o=t("lodash"),n=t("../dom"),i=t("./tooltip"),r=function(t){function e(t,r){this.quill=t,this.options=r,this.options.styles=o.defaults(this.options.styles,i.DEFAULTS.styles),this.options=o.defaults(this.options,i.DEFAULTS),e.__super__.constructor.call(this,this.quill,this.options),this.preview=this.container.querySelector(".preview"),this.textbox=this.container.querySelector(".input"),n.addClass(this.container,"image-tooltip-container"),this.initListeners()}return a(e,t),e.DEFAULTS={styles:{".image-tooltip-container":{margin:"25px",padding:"10px",width:"300px"},".image-tooltip-container:after":{clear:"both",content:'""',display:"table"},".image-tooltip-container .preview":{margin:"10px 0px",position:"relative",border:"1px dashed #000",height:"200px"},".image-tooltip-container .preview span":{display:"inline-block",position:"absolute","text-align":"center",top:"40%",width:"100%"},".image-tooltip-container img":{bottom:"0",left:"0",margin:"auto","max-height":"100%","max-width":"100%",position:"absolute",right:"0",top:"0"},".image-tooltip-container .input":{"box-sizing":"border-box",width:"100%"},".image-tooltip-container a":{border:"1px solid black","box-sizing":"border-box",display:"inline-block","float":"left",padding:"5px","text-align":"center",width:"50%"}},template:'<input class="input" type="textbox"> <div class="preview"> <span>Preview</span> </div> <a href="javascript:;" class="cancel">Cancel</a> <a href="javascript:;" class="insert">Insert</a>'},e.prototype.initListeners=function(){return n.addEventListener(this.container.querySelector(".insert"),"click",o.bind(this.insertImage,this)),n.addEventListener(this.container.querySelector(".cancel"),"click",o.bind(this.hide,this)),n.addEventListener(this.textbox,"input",o.bind(this._preview,this)),this.initTextbox(this.textbox,this.insertImage,this.hide),this.quill.onModuleLoad("toolbar",function(t){return function(e){return e.initFormat("image",o.bind(t._onToolbar,t))}}(this))},e.prototype.insertImage=function(){var t;return t=this._normalizeURL(this.textbox.value),null==this.range&&(this.range=new Range(0,0)),this.range&&(this.preview.innerHTML="<span>Preview</span>",this.textbox.value="",this.quill.insertEmbed(this.range.end,"image",t,"user"),this.quill.setSelection(this.range.end+1,this.range.end+1)),this.hide()},e.prototype._onToolbar=function(t,e){return e?(this.textbox.value||(this.textbox.value="http://"),this.show(),this.textbox.focus(),o.defer(function(t){return function(){return t.textbox.setSelectionRange(t.textbox.value.length,t.textbox.value.length)}}(this))):this.quill.deleteText(t,"user")},e.prototype._preview=function(){var t;return this._matchImageURL(this.textbox.value)?"IMG"===this.preview.firstChild.tagName?this.preview.firstChild.setAttribute("src",this.textbox.value):(t=this.preview.ownerDocument.createElement("img"),t.setAttribute("src",this.textbox.value),this.preview.replaceChild(t,this.preview.firstChild)):void 0},e.prototype._matchImageURL=function(t){return/^https?:\/\/.+\.(jp?g|gif|png)$/.test(t)},e.prototype._normalizeURL=function(t){return/^https?:\/\//.test(t)||(t="http://"+t),t},e}(i),e.exports=r},{"../dom":21,"./tooltip":37,lodash:"4HJaAd"}],32:[function(t,e){var n,r,i,o,s;s=t("lodash"),n=t("../dom"),i=t("../line"),o=t("tandem-core"),r=function(){function t(t){this.quill=t,this.hotkeys={},this._initListeners(),this._initHotkeys(),this._initDeletes()}return t.hotkeys={BOLD:{key:"B",metaKey:!0},INDENT:{key:n.KEYS.TAB,shiftKey:!1},ITALIC:{key:"I",metaKey:!0},OUTDENT:{key:n.KEYS.TAB,shiftKey:!0},UNDERLINE:{key:"U",metaKey:!0}},t.prototype.addHotkey=function(t,e){var n,r;return t=s.isObject(t)?s.clone(t):{key:t},t.callback=e,n=s.isNumber(t.key)?t.key:t.key.toUpperCase().charCodeAt(0),null==(r=this.hotkeys)[n]&&(r[n]=[]),this.hotkeys[n].push(t)},t.prototype.toggleFormat=function(t,e){var n,r,i;return n=t.isCollapsed()?this.quill.getContents(Math.max(0,t.start-1),t.end):this.quill.getContents(t),i=0===n.ops.length||!s.all(n.ops,function(t){return t.attributes[e]}),t.isCollapsed()?this.quill.prepareFormat(e,i):this.quill.formatText(t,e,i,"user"),r=this.quill.getModule("toolbar"),null!=r?r.setActive(e,i):void 0},t.prototype._initDeletes=function(){return s.each([n.KEYS.DELETE,n.KEYS.BACKSPACE],function(t){return function(e){return t.addHotkey(e,function(){return t.quill.getLength()>1})}}(this))},t.prototype._initHotkeys=function(){return this.addHotkey(t.hotkeys.INDENT,function(t){return function(e){return t._onTab(e,!1),!1}}(this)),this.addHotkey(t.hotkeys.OUTDENT,function(){return function(){return!1}}(this)),s.each(["bold","italic","underline"],function(e){return function(n){return e.addHotkey(t.hotkeys[n.toUpperCase()],function(t){return e.toggleFormat(t,n),!1})}}(this))},t.prototype._initListeners=function(){return n.addEventListener(this.quill.root,"keydown",function(t){return function(e){var n,r;return n=!1,r=t.quill.getSelection(),s.each(t.hotkeys[e.which],function(t){return null!=t.metaKey&&e.metaKey!==t.metaKey&&e.ctrlKey!==t.metaKey||null!=t.shiftKey&&e.shiftKey!==t.shiftKey?void 0:n=t.callback(r)===!1||n}),!n}}(this))},t.prototype._onTab=function(t,e){var n;return null==e&&(e=!1),n=o.Delta.makeDelta({startLength:this.quill.getLength(),ops:[{start:0,end:t.start},{value:"	"},{start:t.end,end:this.quill.getLength()}]}),this.quill.updateContents(n),this.quill.setSelection(t.start+1,t.start+1)},t}(),e.exports=r},{"../dom":21,"../line":29,lodash:"4HJaAd","tandem-core":"38mxji"}],33:[function(t,e){var n,r,i,o,s={}.hasOwnProperty,a=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};o=t("lodash"),n=t("../dom"),i=t("./tooltip"),r=function(t){function e(t,r){this.quill=t,this.options=r,this.options.styles=o.defaults(this.options.styles,i.DEFAULTS.styles),this.options=o.defaults(this.options,i.DEFAULTS),e.__super__.constructor.call(this,this.quill,this.options),n.addClass(this.container,"link-tooltip-container"),this.textbox=this.container.querySelector(".input"),this.link=this.container.querySelector(".url"),this.initListeners()}return a(e,t),e.DEFAULTS={maxLength:50,styles:{".link-tooltip-container":{padding:"5px 10px"},".link-tooltip-container input.input":{width:"170px"},".link-tooltip-container input.input, .link-tooltip-container a.done, .link-tooltip-container.editing a.url, .link-tooltip-container.editing a.change":{display:"none"},".link-tooltip-container.editing input.input, .link-tooltip-container.editing a.done":{display:"inline-block"}},template:'<span class="title">Visit URL:&nbsp;</span> <a href="#" class="url" target="_blank" href="about:blank"></a> <input class="input" type="text"> <span>&nbsp;&#45;&nbsp;</span> <a href="javascript:;" class="change">Change</a> <a href="javascript:;" class="done">Done</a>'},e.prototype.initListeners=function(){return this.quill.on(this.quill.constructor.events.SELECTION_CHANGE,function(t){return function(e){var n;return null!=e&&e.isCollapsed()?(n=t._findAnchor(e),n?(t.setMode(n.href,!1),t.show(n)):(t.range=null,t.hide())):void 0}}(this)),n.addEventListener(this.container.querySelector(".done"),"click",o.bind(this.saveLink,this)),n.addEventListener(this.container.querySelector(".change"),"click",function(t){return function(){return t.setMode(t.link.href,!0)}}(this)),this.initTextbox(this.textbox,this.saveLink,this.hide),this.quill.onModuleLoad("toolbar",function(t){return function(e){return e.initFormat("link",o.bind(t._onToolbar,t))}}(this))},e.prototype.saveLink=function(){var t;return t=this._normalizeURL(this.textbox.value),null!=this.range&&this.quill.formatText(this.range,"link",t,"user"),this.setMode(t,!1)},e.prototype.setMode=function(t,e){var r;return null==e&&(e=!1),e?(this.textbox.value=t,this.textbox.focus(),o.defer(function(e){return function(){return e.textbox.setSelectionRange(t.length,t.length)}}(this))):(this.link.href=t,r=t.length>this.options.maxLength?t.slice(0,this.options.maxLength)+"...":t,n.setText(this.link,r)),n.toggleClass(this.container,"editing",e)},e.prototype._findAnchor=function(t){var e,n,r,i;for(i=this.quill.editor.doc.findLeafAt(t.start,!0),e=i[0],r=i[1],null!=e&&(n=e.node);null!=n;){if("A"===n.tagName)return n;n=n.parentNode}return null},e.prototype._onToolbar=function(t,e){var n;return t&&!t.isCollapsed()?e?(this.setMode(this._suggestURL(t),!0),n=this.quill.editor.selection._getNativeRange(),this.show(n)):this.quill.formatText(t,"link",!1,"user"):void 0},e.prototype._normalizeURL=function(t){return/^https?:\/\//.test(t)||(t="http://"+t),t},e.prototype._suggestURL=function(t){var e;return e=this.quill.getText(t),this._normalizeURL(e)},e}(i),e.exports=r},{"../dom":21,"./tooltip":37,lodash:"4HJaAd"}],34:[function(t,e){var n,r,i,o,s,a={}.hasOwnProperty,l=function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};s=t("lodash"),r=t("eventemitter2").EventEmitter2,n=t("../dom"),o=t("../utils"),i=function(t){function e(t,e){this.quill=t,this.options=e,this.cursors={},this.container=this.quill.addContainer("cursor-container",!0),this.quill.addStyles({".cursor-container":{position:"absolute",left:"0",top:"0","z-index":"1000"},".cursor":{"margin-left":"-1px",position:"absolute"},".cursor-flag":{bottom:"100%",position:"absolute","white-space":"nowrap"},".cursor-name":{display:"inline-block",color:"white",padding:"2px 8px"},".cursor-caret":{height:"100%",position:"absolute",width:"2px"},".cursor.hidden .cursor-flag":{display:"none"},".cursor.top > .cursor-flag":{bottom:"auto",top:"100%"},".cursor.right > .cursor-flag":{right:"-2px"}}),this.quill.on(this.quill.constructor.events.TEXT_CHANGE,s.bind(this._applyDelta,this))}return l(e,t),e.DEFAULTS={template:'<span class="cursor-flag"> <span class="cursor-name"></span> </span> <span class="cursor-caret"></span>',timeout:2500},e.events={CURSOR_ADDED:"cursor-addded",CURSOR_MOVED:"cursor-moved",CURSOR_REMOVED:"cursor-removed"},e.prototype.clearCursors=function(){return s.each(s.keys(this.cursors),s.bind(this.removeCursor,this)),this.cursors={}},e.prototype.moveCursor=function(t,e,r){var i;return null==r&&(r=!0),i=this.cursors[t],i.index=e,i.dirty=!0,n.removeClass(i.elem,"hidden"),clearTimeout(i.timer),i.timer=setTimeout(function(){return function(){return n.addClass(i.elem,"hidden"),i.timer=null}}(this),this.options.timeout),r&&this._updateCursor(i),i},e.prototype.removeCursor=function(t){var n;return n=this.cursors[t],this.emit(e.events.CURSOR_REMOVED,n),n.elem.parentNode.removeChild(n.elem)in(null!=n),delete this.cursors[t]},e.prototype.setCursor=function(t,n,r,i,o){var a;return null==o&&(o=!0),null==this.cursors[t]&&(this.cursors[t]=a={userId:t,index:n,color:i,elem:this._buildCursor(r,i)},this.emit(e.events.CURSOR_ADDED,a)),s.defer(function(e){return function(){return e.moveCursor(t,n,o)}}(this)),this.cursors[t]},e.prototype.shiftCursors=function(t,e,n,r){return null==n&&(n=null),null==r&&(r=!0),s.each(this.cursors,function(){return function(r){return r&&(r.index>t||r.userId===n)?(r.index+=Math.max(e,t-r.index),r.dirty=!0):void 0}}(this)),r?this.update():void 0},e.prototype.update=function(t){return null==t&&(t=!1),s.each(this.cursors,function(e){return function(n){return null!=n&&(n.dirty||t)?e._updateCursor(n):void 0}}(this))},e.prototype._applyDelta=function(t){return t.apply(function(t){return function(e,n,r){return t.shiftCursors(e,n.length,r.author,!1)}}(this),function(t){return function(e,n){return t.shiftCursors(e,-1*n,null,!1)}}(this),function(t){return function(e){return t.shiftCursors(e,0,null,!1)}}(this)),this.update()},e.prototype._buildCursor=function(t,e){var r,i,o,s;return r=this.container.ownerDocument.createElement("span"),n.addClass(r,"cursor"),r.innerHTML=this.options.template,o=r.querySelector(".cursor-flag"),s=r.querySelector(".cursor-name"),n.setText(s,t),i=r.querySelector(".cursor-caret"),i.style.backgroundColor=s.style.backgroundColor=e,this.container.appendChild(r),r},e.prototype._moveCursor=function(t,r,i){var o,s;return null==i&&(i="left"),o=r.getBoundingClientRect(),t.elem.style.top=o.top+"px",t.elem.style.left=o[i]+"px",t.elem.style.height=o.height+"px",s=t.elem.querySelector(".cursor-flag"),n.toggleClass(t.elem,"top",parseInt(t.elem.style.top)<=s.offsetHeight),n.toggleClass(t.elem,"left",parseInt(t.elem.style.left)<=s.offsetWidth),n.toggleClass(t.elem,"right",this.quill.root.offsetWidth-parseInt(t.elem.style.left)<=s.offsetWidth),this.emit(e.events.CURSOR_MOVED,t)},e.prototype._updateCursor=function(t){var e,r,i,s,a,l,u,c;return u=this.quill.editor.doc.findLeafAt(t.index,!0),i=u[0],a=u[1],r=this.container.ownerDocument.createElement("span"),null!=i?(c=o.splitNode(i.node,a),s=c[0],l=c[1],e=c[2],n.setText(r,n.ZERO_WIDTH_NOBREAK_SPACE),i.node.parentNode.insertBefore(r,l)):(n.setText(r,n.NOBREAK_SPACE),this.quill.root.appendChild(r)),this._moveCursor(t,r),n.removeNode(r),e&&n.normalize(i.node.parentNode),t.dirty=!1},e}(r),e.exports=i},{"../dom":21,"../utils":45,eventemitter2:"x/3aRz",lodash:"4HJaAd"}],35:[function(t,e){var n,r,i,o,s;s=t("lodash"),n=t("../dom"),r=t("../document"),o=t("tandem-core"),i=function(){function t(t,e){this.quill=t,this.options=e,this.container=this.quill.addContainer("paste-container"),this.container.setAttribute("contenteditable",!0),this.quill.addStyles({".paste-container":{left:"-10000px",position:"absolute",top:"50%"}}),n.addEventListener(this.quill.root,"paste",s.bind(this._paste,this))}return t.prototype._paste=function(){var t,e;return t=this.quill.getLength(),e=this.quill.getSelection(),null!=e?(this.container.innerHTML="",this.container.focus(),s.defer(function(n){return function(){var i,s,a;return s=new r(n.container,n.quill.options),i=s.toDelta(),i=i.compose(o.Delta.makeDeleteDelta(i.endLength,i.endLength-1,1)),a=i.endLength,e.start>0&&i.ops.unshift(new o.RetainOp(0,e.start)),t>e.end&&i.ops.push(new o.RetainOp(e.end,t)),i.endLength+=n.quill.getLength()-(e.end-e.start),i.startLength=t,n.quill.updateContents(i,"user"),n.quill.focus(),n.quill.setSelection(e.start+a,e.start+a)}}(this))):void 0},t}(),e.exports=i},{"../document":20,"../dom":21,lodash:"4HJaAd","tandem-core":"38mxji"}],36:[function(t,e){var n,r,i,o;o=t("lodash"),n=t("../dom"),i=t("../utils"),r=function(){function t(e,r){if(this.quill=e,this.options=r,null==this.options.container)throw Error("container required for toolbar",this.options);this.container=o.isString(this.options.container)?document.querySelector(this.options.container):this.options.container,this.inputs={},this.preventUpdate=!1,this.triggering=!1,o.each(this.quill.options.formats,function(e){return function(n){return null==t.formats.TOOLTIP[n]?e.initFormat(n,function(r,i){return e.triggering?void 0:(r.isCollapsed()?e.quill.prepareFormat(n,i):null!=t.formats.LINE[n]?e.quill.formatLine(r,n,i,"user"):e.quill.formatText(r,n,i,"user"),e.setActive(n,i))}):void 0}}(this)),this.quill.on(this.quill.constructor.events.SELECTION_CHANGE,o.bind(this.updateActive,this)),n.addClass(this.container,"sc-toolbar-container"),n.isIOS()&&n.addClass(this.container,"ios"),(n.isIE(11)||n.isIOS())&&n.addEventListener(this.container,"mousedown",function(){return function(){return!1}}(this))}return t.DEFAULTS={container:null},t.formats={BUTTON:{bold:"bold",image:"image",italic:"italic",link:"link",strike:"strike",underline:"underline"},LINE:{align:"align"},SELECT:{align:"align",background:"background",color:"color",font:"font",size:"size"},TOOLTIP:{image:"image",link:"link"}},t.prototype.initFormat=function(e,r){var i,o,s;return s=".sc-"+e,null!=t.formats.SELECT[e]?(s="select"+s,i="change"):i="click",o=this.container.querySelector(s),null!=o?(this.inputs[e]=o,n.addEventListener(o,i,function(t){return function(){var e,s;return s="change"===i?n.getSelectValue(o):!n.hasClass(o,"sc-active"),t.preventUpdate=!0,t.quill.focus(),e=t.quill.getSelection(),null!=e&&r(e,s),t.preventUpdate=!1,!0}}(this))):void 0},t.prototype.setActive=function(t,e){var r,i;return r=this.inputs[t],null!=r?"SELECT"===r.tagName?(this.triggering=!0,i=n.getSelectValue(r),o.isArray(e)&&(e=""),e!==i&&(null!=e?n.selectOption(r,e):n.resetSelect(r)),this.triggering=!1):n.toggleClass(r,"sc-active",e||!1):void 0},t.prototype.updateActive=function(t){var e;return null==t||this.preventUpdate?void 0:(e=this._getActive(t),o.each(this.inputs,function(t){return function(n,r){return t.setActive(r,e[r]),!0}}(this)))},t.prototype._getActive=function(t){var e,n;return e=this._getLeafActive(t),n=this._getLineActive(t),o.defaults(e,n)},t.prototype._getLeafActive=function(t){var e,n,r;return t.isCollapsed()?(r=Math.max(0,t.start-1),e=this.quill.getContents(r,t.end)):e=this.quill.getContents(t),n=o.map(e.ops,"attributes"),this._intersectFormats(n)},t.prototype._getLineActive=function(t){var e,n,r,i,o,s,a;for(r=[],s=this.quill.editor.doc.findLineAt(t.start),e=s[0],o=s[1],a=this.quill.editor.doc.findLineAt(t.end),i=a[0],o=a[1],null!=i&&i===e&&(i=i.next);null!=e&&e!==i;)n={align:e.formats.align},r.push(e.formats),e=e.next;return this._intersectFormats(r)},t.prototype._intersectFormats=function(e){return o.reduce(e.slice(1),function(e,n){var r,i,s,a,l;return r=o.keys(e),s=o.keys(n),a=o.intersection(r,s),l=o.difference(r,s),i=o.difference(s,r),o.each(a,function(r){if(null!=t.formats.SELECT[r])if(o.isArray(e[r])){if(0>o.indexOf(e[r],n[r]))return e[r].push(n[r])}else if(e[r]!==n[r])return e[r]=[e[r],n[r]]}),o.each(l,function(n){return null!=t.formats.BUTTON[n]?delete e[n]:null==t.formats.SELECT[n]||o.isArray(e[n])?void 0:e[n]=[e[n]]}),o.each(i,function(r){return null!=t.formats.SELECT[r]?e[r]=[n[r]]:void 0}),e},e[0]||{})},t}(),e.exports=r},{"../dom":21,"../utils":45,lodash:"4HJaAd"}],37:[function(t,e){var n,r,i,o;o=t("lodash"),n=t("../dom"),r=t("../normalizer"),i=function(){function t(e,i){this.quill=e,this.options=i,this.quill.addStyles(this.options.styles),this.container=this.quill.addContainer("tooltip"),this.container.innerHTML=r.stripWhitespace(this.options.template),this.container.style.position="absolute",n.addEventListener(this.quill.root,"focus",o.bind(this.hide,this)),this.hide(),this.quill.on(this.quill.constructor.events.TEXT_CHANGE,function(e){return function(n,r){return"user"===r&&e.container.style.left!==t.HIDE_MARGIN?(e.range=null,e.hide()):void 0}}(this))}return t.DEFAULTS={offset:10,styles:{".tooltip":{"background-color":"#fff",border:"1px solid #000",top:"0px","white-space":"nowrap","z-index":"2000"},".tooltip a":{cursor:"pointer","text-decoration":"none"}},template:""},t.HIDE_MARGIN="-10000px",t.prototype.initTextbox=function(t,e,r){return n.addEventListener(t,"keyup",function(t){return function(i){switch(i.which){case n.KEYS.ENTER:return e.call(t);case n.KEYS.ESCAPE:return r.call(t);default:return!0}}}(this))},t.prototype.hide=function(){return this.container.style.left=t.HIDE_MARGIN,this.range&&this.quill.setSelection(this.range),this.range=null},t.prototype.show=function(t){var e,n,r,i;return this.range=this.quill.getSelection(),r=this._position(t),e=r[0],n=r[1],i=this._limit(e,n),e=i[0],n=i[1],e+=this.quill.root.ownerDocument.defaultView.window.pageXOffset,n+=this.quill.root.ownerDocument.defaultView.window.pageYOffset,this.container.style.left=""+e+"px",this.container.style.top=""+n+"px",this.container.focus()},t.prototype._getBounds=function(){var t,e,n;return t=this.quill.root.getBoundingClientRect(),e=this.quill.root.ownerDocument.defaultView.window.pageXOffset,n=this.quill.root.ownerDocument.defaultView.window.pageYOffset,{left:t.left+e,right:t.right+e,top:t.top+n,bottom:t.bottom+n,width:t.width,height:t.height}},t.prototype._limit=function(t,e){var n,r;return n=this._getBounds(),r=this.container.getBoundingClientRect(),t=Math.min(n.right-r.width,t),t=Math.max(n.left,t),e=Math.min(n.bottom-r.height,e),e=Math.max(n.top,e),[t,e]},t.prototype._position=function(t){var e,n,r,i,o;return i=this.container.getBoundingClientRect(),e=this._getBounds(),null!=t?(r=t.getBoundingClientRect(),n=r.left+r.width/2-i.width/2,o=r.top+r.height+this.options.offset,o+i.height>e.bottom&&(o=r.top-i.height-this.options.offset)):(n=e.left+e.width/2-i.width/2,o=e.top+e.height/2-i.height/2),[n,o]},t}(),e.exports=i},{"../dom":21,"../normalizer":39,lodash:"4HJaAd"}],38:[function(t,e){var n,r,i;i=t("lodash"),n=t("tandem-core"),r=function(){function t(t,e){this.quill=t,this.options=null!=e?e:{},this.lastRecorded=0,this.clear(),this.initListeners()}return t.DEFAULTS={delay:1e3,maxStack:100},t.hotkeys={UNDO:{key:"Z",metaKey:!0,shiftKey:!1},REDO:{key:"Z",metaKey:!0,shiftKey:!0}},t.prototype.initListeners=function(){return this.quill.onModuleLoad("keyboard",function(e){return function(n){return n.addHotkey(t.hotkeys.UNDO,function(){return e.undo(),!1}),n.addHotkey(t.hotkeys.REDO,function(){return e.redo(),!1})}}(this)),this.ignoringChanges=!1,this.quill.on(this.quill.constructor.events.TEXT_CHANGE,function(t){return function(e,n){return t.ignoringChanges&&"user"===n||t.record(e,t.oldDelta),t.oldDelta=t.quill.getContents()}}(this))},t.prototype.clear=function(){return this.stack={undo:[],redo:[]},this.oldDelta=this.quill.getContents()},t.prototype.record=function(t,e){var n,r,i,o;if(!t.isIdentity()){this.stack.redo=[];try{if(o=e.invert(t),i=(new Date).getTime(),this.lastRecorded+this.options.delay>i&&this.stack.undo.length>0?(n=this.stack.undo.pop(),o.canCompose(n.undo)&&n.redo.canCompose(t)?(o=o.compose(n.undo),t=n.redo.compose(t)):(this.clear(),this.lastRecorded=i)):this.lastRecorded=i,this.stack.undo.push({redo:t,undo:o}),this.stack.undo.length>this.options.maxStack)return this.stack.undo.unshift()}catch(s){return r=s,this.clear()}}},t.prototype.redo=function(){return this._change("redo","undo")},t.prototype.undo=function(){return this._change("undo","redo")},t.prototype._getLastChangeIndex=function(t){var e;return e=0,t.apply(function(t,n){return e=Math.max(t+n.length,e)},function(t){return e=Math.max(t,e)},function(t,n){return e=Math.max(t+n,e)}),e},t.prototype._change=function(t,e){var n;return this.stack[t].length>0?(n=this.stack[t].pop(),this.lastRecorded=0,this._ignoreChanges(function(e){return function(){var r;return e.quill.updateContents(n[t],"user"),r=e._getLastChangeIndex(n[t]),e.quill.setSelection(r,r)}}(this)),this.stack[e].push(n)):void 0},t.prototype._ignoreChanges=function(t){var e;return e=this.ignoringChanges,this.ignoringChanges=!0,t.call(this),this.ignoringChanges=e},t}(),e.exports=r},{lodash:"4HJaAd","tandem-core":"38mxji"}],39:[function(t,e){var n,r,i,o;o=t("lodash"),n=t("./dom"),i=t("./utils"),r={ALIASES:{STRONG:"B",EM:"I",DEL:"S",STRIKE:"S"},ATTRIBUTES:{color:"color",face:"fontFamily",size:"fontSize"},STYLES:{"background-color":"background-color",color:"color","font-family":"font-family","font-size":"font-size","text-align":"text-align"},TAGS:{P:"P",BR:"BR",SPAN:"SPAN",B:"B",I:"I",S:"S",U:"U",A:"A",IMG:"IMG"},handleBreaks:function(t){var e;return e=o.map(t.querySelectorAll(n.DEFAULT_BREAK_TAG)),o.each(e,function(){return function(e){return null==e.nextSibling||n.isIE(10)&&null==e.previousSibling?void 0:i.splitAncestors(e.nextSibling,t.parentNode)}}(this)),t},normalizeLine:function(t){return t=r.wrapInline(t),t=r.handleBreaks(t),r.pullBlocks(t),t=r.normalizeNode(t),r.unwrapText(t),t},normalizeNode:function(t){return n.isTextNode(t)?t:(o.each(r.ATTRIBUTES,function(e,n){var r;return t.hasAttribute(n)?(r=t.getAttribute(n),"size"===n&&(r=i.convertFontSize(r)),t.style[e]=r,t.removeAttribute(n)):void 0}),r.whitelistStyles(t),r.whitelistTags(t))},optimizeLine:function(t){var e,r,s,a;for(e=i.getNodeLength(t),s=n.getDescendants(t),a=[];s.length>0;)r=s.pop(),null!=(null!=r?r.parentNode:void 0)&&null==n.EMBED_TAGS[r.tagName]&&(r.tagName===n.DEFAULT_BREAK_TAG?a.push(0!==e?n.removeNode(r):void 0):0===i.getNodeLength(r)?(s.push(r.nextSibling),a.push(n.unwrap(r))):null!=r.previousSibling&&r.tagName===r.previousSibling.tagName&&o.isEqual(n.getAttributes(r),n.getAttributes(r.previousSibling))?(s.push(r.firstChild),n.moveChildren(r.previousSibling,r),n.normalize(r.previousSibling),a.push(n.removeNode(r))):a.push(void 0));return a},pullBlocks:function(t){var e,o;if(e=t.firstChild,null!=e){for(null!=n.BLOCK_TAGS[e.tagName]&&(null!=e.nextSibling&&i.splitAncestors(e.nextSibling,t.parentNode),n.unwrap(e),r.pullBlocks(t)),e=e.nextSibling,o=[];null!=e;){if(null!=n.BLOCK_TAGS[e.tagName]){t=i.splitAncestors(e,t.parentNode);break}o.push(e=e.nextSibling)}return o}},stripWhitespace:function(t){return t=t.replace(/^\s+/,"").replace(/\s+$/,""),t=t.replace(/\>\s+\</g,"><")},whitelistStyles:function(t){var e,i;return e=n.getStyles(t),i=o.omit(e,function(t,e){return null==r.STYLES[e]}),o.keys(i).length<o.keys(e).length?o.keys(i).length>0?n.setStyles(t,i):t.removeAttribute("style"):void 0},whitelistTags:function(t){return n.isElement(t)?(null!=r.ALIASES[t.tagName]&&(t=n.switchTag(t,r.ALIASES[t.tagName])),null==r.TAGS[t.tagName]&&(t=null!=n.BLOCK_TAGS[t.tagName]?n.switchTag(t,n.DEFAULT_BLOCK_TAG):t.hasAttributes()?n.switchTag(t,n.DEFAULT_INLINE_TAG):n.unwrap(t)),t):void 0},wrapInline:function(t){var e,r;if(null!=n.BLOCK_TAGS[t.tagName])return t;for(e=t.ownerDocument.createElement(n.DEFAULT_BLOCK_TAG),t.parentNode.insertBefore(e,t);null!=t&&null==n.BLOCK_TAGS[t.tagName];)r=t.nextSibling,e.appendChild(t),t=r;return e},unwrapText:function(t){var e;return e=o.map(t.querySelectorAll(n.DEFAULT_INLINE_TAG)),o.each(e,function(t){var e;return e=n.getAttributes(t),0===o.keys(e).length?n.unwrap(t):void 0})}},e.exports=r},{"./dom":21,"./utils":45,lodash:"4HJaAd"}],40:[function(t,e){var n,r,i,o,s,a,l,u,c,h,f,p={}.hasOwnProperty,d=function(t,e){function n(){this.constructor=t}for(var r in e)p.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},g=[].slice;f=t("lodash"),f.str=t("underscore.string"),h=t("../package.json"),i=t("eventemitter2").EventEmitter2,n=t("./dom"),r=t("./editor"),o=t("./format"),l=t("./lib/range"),u=t("tandem-core"),s={Authorship:t("./modules/authorship"),ImageTooltip:t("./modules/image-tooltip"),Keyboard:t("./modules/keyboard"),LinkTooltip:t("./modules/link-tooltip"),MultiCursor:t("./modules/multi-cursor"),PasteManager:t("./modules/paste-manager"),Toolbar:t("./modules/toolbar"),UndoManager:t("./modules/undo-manager")},c={Default:t("./themes/default"),Snow:t("./themes/snow")},a=function(t){function e(t,n){var i,o,s;if(null==n&&(n={}),f.isString(t)&&(t=document.querySelector(t)),null==t)throw Error("Invalid Quill container");o=f.defaults(n.modules||{},e.DEFAULTS.modules),i=t.innerHTML,this.options=f.defaults(n,e.DEFAULTS),this.options.modules=o,this.options.id=this.id="quill-"+(e.editors.length+1),this.options.emitter=this,this.modules={},this.editor=new r(t,this,this.options),this.root=this.editor.doc.root,e.editors.push(this),this.setHTML(i,e.sources.SILENT),s=f.str.capitalize(f.str.camelize(this.options.theme)),this.theme=new e.Theme[s](this,this.options),f.each(this.options.modules,function(t){return function(e,n){return t.addModule(n,e)}}(this))}return d(e,t),e.version=h.version,e.editors=[],e.Module=s,e.Theme=c,e.DEFAULTS={formats:["align","bold","italic","strike","underline","color","background","font","size","link","image"],modules:{keyboard:!0,"paste-manager":!0,"undo-manager":!0},pollInterval:100,readOnly:!1,theme:"default"},e.events={MODULE_INIT:"module-init",POST_EVENT:"post-event",PRE_EVENT:"pre-event",RENDER_UPDATE:"renderer-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},e.sources={API:"api",SILENT:"silent",USER:"user"},e.prototype.addContainer=function(t,e){return null==e&&(e=!1),this.editor.renderer.addContainer(t,e)},e.prototype.addFormat=function(t,e){return this.editor.doc.addFormat(t,e)},e.prototype.addModule=function(t,n){var r,i;if(r=f.str.capitalize(f.str.camelize(t)),i=e.Module[r],null==i)throw Error("Cannot load "+t+" module. Are you sure you included it?");return f.isObject(n)||(n={}),n=f.defaults(n,this.theme.constructor.OPTIONS[t]||{},i.DEFAULTS||{}),this.modules[t]=new i(this,n),this.emit(e.events.MODULE_INIT,t,this.modules[t]),this.modules[t]},e.prototype.addStyles=function(t){return this.editor.renderer.addStyles(t)},e.prototype.deleteText=function(t,n,r){var i,o,s;return null==r&&(r=e.sources.API),s=this._buildParams(t,n,{},r),t=s[0],n=s[1],o=s[2],r=s[3],n>t?(i=u.Delta.makeDeleteDelta(this.getLength(),t,n-t),this.editor.applyDelta(i,r)):void 0},e.prototype.emit=function(){var t,n;return n=arguments[0],t=arguments.length>=2?g.call(arguments,1):[],e.__super__.emit.apply(this,[e.events.PRE_EVENT,n].concat(g.call(t))),e.__super__.emit.apply(this,[n].concat(g.call(t))),e.__super__.emit.apply(this,[e.events.POST_EVENT,n].concat(g.call(t)))},e.prototype.focus=function(){return this.root.focus()},e.prototype.formatLine=function(t,e,n,r,i){var o,s,a,l,u;return l=this._buildParams(t,e,n,r,i),t=l[0],e=l[1],o=l[2],i=l[3],u=this.editor.doc.findLineAt(e),s=u[0],a=u[1],null!=s&&(e+=s.length-a),this.formatText(t,e,o,i)},e.prototype.formatText=function(t,e,n,r,i){var o,s,a;return a=this._buildParams(t,e,n,r,i),t=a[0],e=a[1],s=a[2],i=a[3],e>t?(s=f.reduce(s,function(t){return function(e,n,r){var i;return i=t.editor.doc.formats[r],n&&n!==i.config["default"]||(e[r]=null),e}}(this),s),o=u.Delta.makeRetainDelta(this.getLength(),t,e-t,s),this.editor.applyDelta(o,i)):void 0},e.prototype.getContents=function(t,e){var n;return null==t&&(t=0),null==e&&(e=null),f.isObject(t)?(e=t.end,t=t.start):null==e&&(e=this.getLength()),n=this.editor.getDelta().getOpsAt(t,e-t),new u.Delta(0,n)},e.prototype.getHTML=function(){return this.root.innerHTML},e.prototype.getLength=function(){return this.editor.getDelta().endLength},e.prototype.getModule=function(t){return this.modules[t]},e.prototype.getSelection=function(){return this.editor.checkUpdate(),this.editor.selection.getRange()},e.prototype.getText=function(t,e){return null==t&&(t=0),null==e&&(e=null),f.pluck(this.getContents(t,e).ops,"value").join("")},e.prototype.insertEmbed=function(t,e,r,i){return this.insertText(t,n.EMBED_TEXT,e,r,i)},e.prototype.insertText=function(t,e,n,r,i){var o,s,a,l;return l=this._buildParams(t,0,n,r,i),t=l[0],s=l[1],a=l[2],i=l[3],e.length>0?(o=u.Delta.makeInsertDelta(this.getLength(),t,e,a),this.editor.applyDelta(o,i)):void 0},e.prototype.onModuleLoad=function(t,n){return this.modules[t]?n(this.modules[t]):this.on(e.events.MODULE_INIT,function(e,r){return e===t?n(r):void 0})},e.prototype.prepareFormat=function(t,e){var n,r;return n=this.editor.doc.formats[t],null!=n&&(r=this.getSelection(),null!=r?r.isCollapsed():void 0)?n.prepare(e):void 0},e.prototype.setContents=function(t,n){return null==n&&(n=e.sources.API),f.isArray(t)?t=u.Delta.makeDelta({startLength:this.getLength(),ops:t}):(t=u.Delta.makeDelta(t),t.startLength=this.getLength()),this.editor.applyDelta(t,n)},e.prototype.setHTML=function(t,r){return null==r&&(r=e.sources.API),t||(t="<"+n.DEFAULT_BLOCK_TAG+"><"+n.DEFAULT_BREAK_TAG+"></"+n.DEFAULT_BLOCK_TAG+">"),this.editor.doc.setHTML(t),this.editor.checkUpdate(r)},e.prototype.setSelection=function(t,n,r){var i;return null==r&&(r=e.sources.API),f.isNumber(t)&&f.isNumber(n)?i=new l(t,n):(i=t,r=n||r),this.editor.selection.setRange(i,r)},e.prototype.updateContents=function(t,n){return null==n&&(n=e.sources.API),this.editor.applyDelta(t,n)
},e.prototype._buildParams=function(){var t,n;return n=arguments.length>=1?g.call(arguments,0):[],f.isObject(n[0])&&n.splice(0,1,n[0].start,n[0].end),f.isString(n[2])&&(t={},t[n[2]]=n[3],n.splice(2,2,t)),null==n[3]&&(n[3]=e.sources.API),n},e}(i),e.exports=a},{"../package.json":19,"./dom":21,"./editor":22,"./format":23,"./lib/range":28,"./modules/authorship":30,"./modules/image-tooltip":31,"./modules/keyboard":32,"./modules/link-tooltip":33,"./modules/multi-cursor":34,"./modules/paste-manager":35,"./modules/toolbar":36,"./modules/undo-manager":38,"./themes/default":43,"./themes/snow":44,eventemitter2:"x/3aRz",lodash:"4HJaAd","tandem-core":"38mxji","underscore.string":"Fq7WE+"}],41:[function(t,e){var n,r,i,o,s,a,l,u;u=t("lodash"),r=t("./dom"),a=t("./utils"),o=t("./normalizer"),n={html:{height:"100%",width:"100%"},body:{"box-sizing":"border-box",cursor:"text","font-family":"'Helvetica', 'Arial', sans-serif","font-size":"13px",height:"100%","line-height":"1.42",margin:"0px","overflow-x":"hidden","overflow-y":"auto",padding:"12px 15px"},".editor-container":{height:"100%",outline:"none",position:"relative","tab-size":"4","white-space":"pre-wrap"},".editor-container p":{margin:"0",padding:"0"},".editor-container a":{"text-decoration":"underline"},".editor-container b":{"font-weight":"bold"},".editor-container i":{"font-style":"italic"},".editor-container s":{"text-decoration":"line-through"},".editor-container u":{"text-decoration":"underline"},".editor-container img":{"max-width":"100%"},".editor-container blockquote":{margin:"0 0 0 2em",padding:"0"},".editor-container ol":{margin:"0 0 0 2em",padding:"0","list-style-type":"decimal"},".editor-container ul":{margin:"0 0 0 2em",padding:"0","list-style-type":"disc"}},i=["decimal","lower-alpha","lower-roman"],l=".editor-container ol > li",u.each([1,2,3,4,5,6,7,8,9],function(t){return l+=" > ol",n[l]={"list-style-type":i[t%3]},l+=" > li"}),a.isIE(10)&&(n[r.DEFAULT_BREAK_TAG]={display:"none"}),s=function(){function t(e,i,o){var s;this.container=e,this.emitter=i,this.options=null!=o?o:{},this.container.innerHTML="",s=t.buildFrame(this.container),this.root=s[0],this.iframe=s[1],this.root.id=this.options.id,r.addClass(this.root,"editor-container"),r.addClass(this.container,"sc-container"),r.addEventListener(this.container,"focus",function(t){return function(){return t.root.focus()}}(this)),this.addStyles(n),null!=this.options.styles&&u.defer(u.bind(this.addStyles,this,this.options.styles))}return t.objToCss=function(t){return u.map(t,function(t,e){var n;return n=u.map(t,function(t,e){return""+e+": "+t+";"}).join(" "),""+e+" { "+n+" }"}).join("\n")},t.buildFrame=function(t){var e,n,r;return e=t.ownerDocument.createElement("iframe"),e.setAttribute("frameBorder","0"),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("title","Quill Rich Text Editor"),e.setAttribute("role","presentation"),t.appendChild(e),n=e.contentWindow.document,n.open(),n.write("<!DOCTYPE html>"),n.close(),r=n.createElement("div"),n.body.appendChild(r),[r,e]},t.prototype.addContainer=function(t,e){var n,i;return null==e&&(e=!1),i=e?this.root:null,n=this.root.ownerDocument.createElement("div"),r.addClass(n,t),this.root.parentNode.insertBefore(n,i),n},t.prototype.addStyles=function(e){var n;return n=this.root.ownerDocument.createElement("style"),n.type="text/css",u.isString(e)||(e=t.objToCss(e)),null!=n.styleSheet?n.styleSheet.cssText=e:n.appendChild(this.root.ownerDocument.createTextNode(e)),u.defer(function(t){return function(){return t.root.ownerDocument.querySelector("head").appendChild(n),null!=t.emitter?t.emitter.emit(t.emitter.constructor.events.RENDER_UPDATE,e):void 0}}(this))},t}(),e.exports=s},{"./dom":21,"./normalizer":39,"./utils":45,lodash:"4HJaAd"}],42:[function(t,e){var n,r,i,o,s;s=t("lodash"),n=t("./dom"),r=t("./leaf"),i=t("./lib/range"),o=function(){function t(t,e){this.doc=t,this.emitter=e,this.document=this.doc.root.ownerDocument,this.range=this.getRange(),this.nullDelay=!1}return t.prototype.checkFocus=function(){return this.document.activeElement===this.doc.root},t.prototype.getRange=function(){var t,e,n;return this.checkFocus()?(e=this._getNativeRange(),null==e?null:(n=this._positionToIndex(e.startContainer,e.startOffset),t=e.endContainer!==e.startContainer?this._positionToIndex(e.endContainer,e.endOffset):n-e.startOffset+e.endOffset,new i(Math.min(n,t),Math.max(n,t)))):null},t.prototype.preserve=function(t){var e,n,r,i,o,s,a,l,u;return r=this._getNativeRange(),null!=r&&this.checkFocus()?(s=this._encodePosition(r.startContainer,r.startOffset),i=s[0],o=s[1],a=this._encodePosition(r.endContainer,r.endOffset),e=a[0],n=a[1],t(),l=this._decodePosition(i,o),i=l[0],o=l[1],u=this._decodePosition(e,n),e=u[0],n=u[1],this._setNativeRange(i,o,e,n)):t()},t.prototype.setRange=function(t,e){var n,r,i,o,s,a,l;return null!=t?(s=this._indexToPosition(t.start),i=s[0],o=s[1],t.isCollapsed()?(a=[i,o],n=a[0],r=a[1]):(l=this._indexToPosition(t.end),n=l[0],r=l[1]),this._setNativeRange(i,o,n,r)):this._setNativeRange(null),this.update(e)},t.prototype.shiftAfter=function(t,e,n){var r;return r=this.getRange(),n(),null!=r?(r.shift(t,e),this.setRange(r,"silent")):void 0},t.prototype.update=function(t){var e,n;return n=this.getRange(),e="silent"!==t&&!i.compare(n,this.range),null!==n||"user"!==t||this.nullDelay?(this.nullDelay=!1,this.range=n,e?this.emitter.emit(this.emitter.constructor.events.SELECTION_CHANGE,n,t):void 0):this.nullDelay=!0},t.prototype._decodePosition=function(t,e){var r;return n.isElement(t)&&(r=s.indexOf(n.getChildNodes(t.parentNode),t),e+=r,t=t.parentNode),[t,e]},t.prototype._encodePosition=function(t,e){for(;;){if(n.isTextNode(t)||t.tagName===n.DEFAULT_BREAK_TAG||null!=n.EMBED_TAGS[t.tagName])return[t,e];if(t.childNodes.length>e)t=t.childNodes[e],e=0;else{if(0===t.childNodes.length)return[t,0];t=t.lastChild,e=t.childNodes.length+1}}},t.prototype._getNativeSelection=function(){return null!=this.document.getSelection?this.document.getSelection():null},t.prototype._getNativeRange=function(){var t;return t=this._getNativeSelection(),(null!=t?t.rangeCount:void 0)>0?t.getRangeAt(0):null},t.prototype._indexToPosition=function(t){var e,n,r;return 0===this.doc.lines.length?[this.doc.root,0]:(r=this.doc.findLeafAt(t,!0),e=r[0],n=r[1],this._decodePosition(e.node,n))},t.prototype._positionToIndex=function(t,e){var n,r,i,o,s,a;if(a=this._encodePosition(t,e),r=a[0],e=a[1],o=this.doc.findLine(r),null==o)return 0;for(n=o.findLeaf(r),s=0;null!=o.prev;)o=o.prev,s+=o.length;if(null==n)return s;for(i=0;null!=n.prev;)n=n.prev,i+=n.length;return s+i+e},t.prototype._setNativeRange=function(t,e,n,r){var i,o;return(o=this._getNativeSelection())?null==t?(o.removeAllRanges(),this.doc.root.blur()):(this.doc.root.focus(),i=this._getNativeRange(),null==i||t!==i.startContainer||e!==i.startOffset||n!==i.endContainer||r!==i.endOffset?(null!=i&&o.removeAllRanges(),o.removeAllRanges(),i=this.document.createRange(),i.setStart(t,e),i.setEnd(n,r),o.addRange(i),this.doc.root.focus()):void 0):void 0},t}(),e.exports=o},{"./dom":21,"./leaf":24,"./lib/range":28,lodash:"4HJaAd"}],43:[function(t,e){var n;n=function(){function t(t){this.quill=t,this.editor=this.quill.editor,this.editorContainer=this.editor.root}return t.OPTIONS={},t}(),e.exports=n},{}],44:[function(t,e){var n,r,i,o,s,a,l={}.hasOwnProperty,u=function(t,e){function n(){this.constructor=t}for(var r in e)l.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};a=t("lodash"),n=t("../../lib/color-picker"),i=t("../default"),r=t("../../dom"),o=t("../../lib/picker"),s=function(t){function e(t){this.quill=t,e.__super__.constructor.apply(this,arguments),this.quill.addStyles(e.STYLES),this.pickers=[],this.quill.on(this.quill.constructor.events.SELECTION_CHANGE,function(t){return function(e){return null!=e?a.invoke(t.pickers,"close"):void 0}}(this)),r.addClass(this.quill.root.ownerDocument.body,"snow"),this.quill.onModuleLoad("multi-cursor",a.bind(this.extendMultiCursor,this)),this.quill.onModuleLoad("toolbar",a.bind(this.extendToolbar,this))}return u(e,t),e.COLORS=["#000000","#e60000","#ff9900","#ffff00","#008A00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],e.OPTIONS={"multi-cursor":{template:'<span class="cursor-flag"> <span class="cursor-triangle top"></span> <span class="cursor-name"></span> <span class="cursor-triangle bottom"></span> </span> <span class="cursor-caret"></span>'}},e.STYLES={".snow .image-tooltip-container a":{border:"1px solid #06c"},".snow .image-tooltip-container a.insert":{"background-color":"#06c",color:"#fff"},".snow .cursor-name":{"border-radius":"4px","font-size":"11px","font-family":"Arial","margin-left":"-50%",padding:"4px 10px"},".snow .cursor-triangle":{"border-left":"4px solid transparent","border-right":"4px solid transparent",height:"0px","margin-left":"-3px",width:"0px"},".snow .cursor.left .cursor-name":{"margin-left":"-8px"},".snow .cursor.right .cursor-flag":{right:"auto"},".snow .cursor.right .cursor-name":{"margin-left":"-100%","margin-right":"-8px"},".snow .cursor-triangle.bottom":{"border-top":"4px solid transparent",display:"block","margin-bottom":"-1px"},".snow .cursor-triangle.top":{"border-bottom":"4px solid transparent",display:"none","margin-top":"-1px"},".snow .cursor.top .cursor-triangle.bottom":{display:"none"},".snow .cursor.top .cursor-triangle.top":{display:"block"},".snow a":{color:"#06c"},".snow .tooltip":{border:"1px solid #ccc","box-shadow":"0px 0px 5px #ddd",color:"#222"},".snow .tooltip a":{color:"#06c"},".snow .tooltip .input":{border:"1px solid #ccc",margin:"0px",padding:"5px"},".snow .image-tooltip-container .preview":{"border-color":"#ccc",color:"#ccc"},".snow .link-tooltip-container a, .snow .link-tooltip-container span":{display:"inline-block","line-height":"25px"}},e.prototype.extendMultiCursor=function(t){return t.on(t.constructor.events.CURSOR_ADDED,function(t){var e,n;return e=t.elem.querySelector(".cursor-triangle.bottom"),n=t.elem.querySelector(".cursor-triangle.top"),e.style.borderTopColor=n.style.borderBottomColor=t.color})},e.prototype.extendToolbar=function(t){return a.each(["color","background","font","size","align"],function(e){return function(i){var s,l;if(l=t.container.querySelector(".sc-"+i),null!=l){switch(i){case"font":case"size":s=new o(l);break;case"align":s=new o(l),r.addClass(s.container.querySelector(".sc-picker-label"),"sc-format-button"),a.each(s.container.querySelectorAll(".sc-picker-item"),function(t){return r.addClass(t,"sc-format-button")});break;case"color":case"background":s=new n(l),a.each(s.container.querySelectorAll(".sc-picker-item"),function(t,e){return 7>e?r.addClass(t,"sc-primary-color"):void 0})}return null!=s?e.pickers.push(s):void 0}}}(this))},e}(i),e.exports=s},{"../../dom":21,"../../lib/color-picker":25,"../../lib/picker":27,"../default":43,lodash:"4HJaAd"}],45:[function(t,e){var n,r,i;i=t("lodash"),n=t("./dom"),r={convertFontSize:function(t){var e,r,o,s;i.isString(t)&&t.indexOf("px")>-1?(o=i.keys(n.FONT_SIZES),s=i.values(n.FONT_SIZES)):(s=i.keys(n.FONT_SIZES),o=i.values(n.FONT_SIZES));for(e in o)if(r=o[e],parseInt(t)<=parseInt(r))return s[e];return i.last(s)},getChildAtOffset:function(t,e){var n,i;for(n=t.firstChild,i=r.getNodeLength(n);null!=n&&!(i>e);)e-=i,n=n.nextSibling,i=r.getNodeLength(n);return null==n&&(n=t.lastChild,e=r.getNodeLength(n)),[n,e]},getNodeLength:function(t){var e;return null==t?0:(e=n.getText(t).length,n.isElement(t)&&(e+=t.querySelectorAll(i.keys(n.EMBED_TAGS).join(",")).length),e)},isIE:function(t){var e;return e=document.documentMode,e&&t>=e},splitAncestors:function(t,e,n){var i,o,s;if(null==n&&(n=!1),t===e||t.parentNode===e)return t;if(null!=t.previousSibling||n){for(s=t.parentNode,o=s.cloneNode(!1),s.parentNode.insertBefore(o,s.nextSibling);null!=t;)i=t.nextSibling,o.appendChild(t),t=i;return r.splitAncestors(o,e)}return r.splitAncestors(t.parentNode,e)},splitNode:function(t,e,i){var o,s,a,l,u,c,h,f,p,d;if(null==i&&(i=!1),h=r.getNodeLength(t),e=Math.max(0,e),e=Math.min(e,h),!i&&0===e)return[t.previousSibling,t,!1];if(!i&&e===h)return[t,t.nextSibling,!1];if(t.nodeType===n.TEXT_NODE)return o=t.splitText(e),[t,o,!0];for(u=t,f=t.cloneNode(!1),t.parentNode.insertBefore(f,u.nextSibling),p=r.getChildAtOffset(t,e),s=p[0],e=p[1],d=r.splitNode(s,e),a=d[0],l=d[1];null!==l;)c=l.nextSibling,f.appendChild(l),l=c;return[u,f,!0]}},e.exports=r},{"./dom":21,lodash:"4HJaAd"}]},{},[1])(1)}),window&&!window.InflectionJS&&(window.InflectionJS=null),InflectionJS={uncountable_words:["equipment","information","rice","money","species","series","fish","sheep","moose","deer","news"],plural_rules:[[RegExp("(m)an$","gi"),"$1en"],[RegExp("(pe)rson$","gi"),"$1ople"],[RegExp("(child)$","gi"),"$1ren"],[RegExp("^(ox)$","gi"),"$1en"],[RegExp("(ax|test)is$","gi"),"$1es"],[RegExp("(octop|vir)us$","gi"),"$1i"],[RegExp("(alias|status)$","gi"),"$1es"],[RegExp("(bu)s$","gi"),"$1ses"],[RegExp("(buffal|tomat|potat)o$","gi"),"$1oes"],[RegExp("([ti])um$","gi"),"$1a"],[RegExp("sis$","gi"),"ses"],[RegExp("(?:([^f])fe|([lr])f)$","gi"),"$1$2ves"],[RegExp("(hive)$","gi"),"$1s"],[RegExp("([^aeiouy]|qu)y$","gi"),"$1ies"],[RegExp("(x|ch|ss|sh)$","gi"),"$1es"],[RegExp("(matr|vert|ind)ix|ex$","gi"),"$1ices"],[RegExp("([m|l])ouse$","gi"),"$1ice"],[RegExp("(quiz)$","gi"),"$1zes"],[RegExp("s$","gi"),"s"],[RegExp("$","gi"),"s"]],singular_rules:[[RegExp("(m)en$","gi"),"$1an"],[RegExp("(pe)ople$","gi"),"$1rson"],[RegExp("(child)ren$","gi"),"$1"],[RegExp("([ti])a$","gi"),"$1um"],[RegExp("((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$","gi"),"$1$2sis"],[RegExp("(hive)s$","gi"),"$1"],[RegExp("(tive)s$","gi"),"$1"],[RegExp("(curve)s$","gi"),"$1"],[RegExp("([lr])ves$","gi"),"$1f"],[RegExp("([^fo])ves$","gi"),"$1fe"],[RegExp("([^aeiouy]|qu)ies$","gi"),"$1y"],[RegExp("(s)eries$","gi"),"$1eries"],[RegExp("(m)ovies$","gi"),"$1ovie"],[RegExp("(x|ch|ss|sh)es$","gi"),"$1"],[RegExp("([m|l])ice$","gi"),"$1ouse"],[RegExp("(bus)es$","gi"),"$1"],[RegExp("(o)es$","gi"),"$1"],[RegExp("(shoe)s$","gi"),"$1"],[RegExp("(cris|ax|test)es$","gi"),"$1is"],[RegExp("(octop|vir)i$","gi"),"$1us"],[RegExp("(alias|status)es$","gi"),"$1"],[RegExp("^(ox)en","gi"),"$1"],[RegExp("(vert|ind)ices$","gi"),"$1ex"],[RegExp("(matr)ices$","gi"),"$1ix"],[RegExp("(quiz)zes$","gi"),"$1"],[RegExp("s$","gi"),""]],non_titlecased_words:["and","or","nor","a","an","the","so","but","to","of","at","by","from","into","on","onto","off","out","in","over","with","for"],id_suffix:RegExp("(_ids|_id)$","g"),underbar:RegExp("_","g"),space_or_underbar:RegExp("[ _]","g"),uppercase:RegExp("([A-Z])","g"),underbar_prefix:RegExp("^_"),apply_rules:function(t,e,n,r){if(r)t=r;else{var i=n.indexOf(t.toLowerCase())>-1;if(!i)for(var o=0;e.length>o;o++)if(t.match(e[o][0])){t=t.replace(e[o][0],e[o][1]);break}}return t}},Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e,n){e||(e=-1);for(var r=-1,i=e;this.length>i;i++)if(this[i]===t||n&&n(this[i],t)){r=i;break}return r}),String.prototype._uncountable_words||(String.prototype._uncountable_words=InflectionJS.uncountable_words),String.prototype._plural_rules||(String.prototype._plural_rules=InflectionJS.plural_rules),String.prototype._singular_rules||(String.prototype._singular_rules=InflectionJS.singular_rules),String.prototype._non_titlecased_words||(String.prototype._non_titlecased_words=InflectionJS.non_titlecased_words),String.prototype.pluralize||(String.prototype.pluralize=function(t){return InflectionJS.apply_rules(this,this._plural_rules,this._uncountable_words,t)}),String.prototype.singularize||(String.prototype.singularize=function(t){return InflectionJS.apply_rules(this,this._singular_rules,this._uncountable_words,t)}),String.prototype.camelize||(String.prototype.camelize=function(t){for(var e=this.toLowerCase(),n=e.split("/"),r=0;n.length>r;r++){for(var i=n[r].split("_"),o=t&&r+1===n.length?1:0,s=o;i.length>s;s++)i[s]=i[s].charAt(0).toUpperCase()+i[s].substring(1);n[r]=i.join("")}return e=n.join("::")}),String.prototype.underscore||(String.prototype.underscore=function(){for(var t=this,e=t.split("::"),n=0;e.length>n;n++)e[n]=e[n].replace(InflectionJS.uppercase,"_$1"),e[n]=e[n].replace(InflectionJS.underbar_prefix,"");return t=e.join("/").toLowerCase()}),String.prototype.humanize||(String.prototype.humanize=function(t){var e=this.toLowerCase();return e=e.replace(InflectionJS.id_suffix,""),e=e.replace(InflectionJS.underbar," "),t||(e=e.capitalize()),e}),String.prototype.capitalize||(String.prototype.capitalize=function(){var t=this.toLowerCase();return t=t.substring(0,1).toUpperCase()+t.substring(1)}),String.prototype.dasherize||(String.prototype.dasherize=function(){var t=this;return t=t.replace(InflectionJS.space_or_underbar,"-")}),String.prototype.titleize||(String.prototype.titleize=function(){var t=this.toLowerCase();t=t.replace(InflectionJS.underbar," ");for(var e=t.split(" "),n=0;e.length>n;n++){for(var r=e[n].split("-"),i=0;r.length>i;i++)0>this._non_titlecased_words.indexOf(r[i].toLowerCase())&&(r[i]=r[i].capitalize());e[n]=r.join("-")}return t=e.join(" "),t=t.substring(0,1).toUpperCase()+t.substring(1)}),String.prototype.demodulize||(String.prototype.demodulize=function(){var t=this,e=t.split("::");return t=e[e.length-1]}),String.prototype.tableize||(String.prototype.tableize=function(){var t=this;return t=t.underscore().pluralize()}),String.prototype.classify||(String.prototype.classify=function(){var t=this;return t=t.camelize().singularize()}),String.prototype.foreign_key||(String.prototype.foreign_key=function(t){var e=this;return e=e.demodulize().underscore()+(t?"":"_")+"id"}),String.prototype.ordinalize||(String.prototype.ordinalize=function(){for(var t=this,e=t.split(" "),n=0;e.length>n;n++){var r=parseInt(e[n]);if(0/0===r){var i=e[n].substring(e[n].length-2),o=e[n].substring(e[n].length-1),s="th";"11"!=i&&"12"!=i&&"13"!=i&&("1"===o?s="st":"2"===o?s="nd":"3"===o&&(s="rd")),e[n]+=s}}return t=e.join(" ")});var Settings={timeout:null,registerSettings:function(){this.nanoscroller(),this.inputChange()},inputChange:function(){var t=this;$("form :input").change(function(){t.changeEvent()}),$("form :input").keyup(function(){t.changeEvent()})},changeEvent:function(){var t=this,e=$.parseJSON(localStorage.getItem("ciims"));clearTimeout(this.timeout),this.timeout=setTimeout(function(){$.ajax({url:t.getRoute(),data:t.getAttributes(),type:"POST",headers:{"X-Auth-Email":e.email,"X-Auth-Token":e.token},beforeSend:function(){if($("#nav-icon").removeClass("fa-ellipsis-v"),0==$("#nav-icon").find("span").length){var t=$("<span>").addClass("fa fa-spinner fa-spin active");$("#nav-icon").append($(t))}},complete:function(){setTimeout(function(){$("#nav-icon").addClass("fa-ellipsis-v"),$("#nav-icon").find("span").remove()},1e3)}})},500)},getRoute:function(){var t=(window.location.origin,window.location.pathname),e=t.split("/"),n=e[2].singularize();return e[1]="api",e[2]=n,e.join("/")},nanoscroller:function(){return $(".nano").nanoScroller({iOSNativeScrolling:!0})},getAttributes:function(){var t=$("form :input"),e={};return $(t).each(function(){e[this.name]="checkbox"==$(this).attr("type")?1==$(this).prop("checked")?1:0:$(this).val()}),e}},Users={ciims:{},page:1,query:null,users:[],registerUsers:function(){this.ciims=$.parseJSON(localStorage.getItem("ciims")),this.list(!1,this.query,this.page),this.bindSearch(),this.bindInvite(),this.bindRegister()},bindRegister:function(){},ajaxBeforeSend:function(){if($("#nav-icon").removeClass("fa-ellipsis-v"),0==$("#nav-icon").find("span").length){var t=$("<span>").addClass("fa fa-spinner fa-spin active");$("#nav-icon").append($(t))}},ajaxCompleted:function(){setTimeout(function(){$("#nav-icon").addClass("fa-ellipsis-v"),$("#nav-icon").find("span").remove()},1e3)},bindInvite:function(){var t=this;$("#InvitationForm_Submit").click(function(){return $("#invitation-form").submit()}),$("#invitation-form").submit(function(){return $.ajax({url:window.location.origin+"/api/user/invite",type:"POST",headers:{"X-Auth-Email":t.ciims.email,"X-Auth-Token":t.ciims.token},data:{email:$("#InvitationForm_email").val()},beforeSend:function(){$("#InvitationForm_email").removeClass("error"),$("#invitation-form").find(".alert").remove(),t.ajaxBeforeSend()},error:function(t){$("#InvitationForm_email").addClass("error");var e=$("<div>").addClass("alert alert-error").text($.parseJSON(t.responseText).response.email[0]);$("#invitation-form").prepend($(e))},success:function(e){$("#InvitationForm_email").val(""),t.renderLi(e.response,$(".paginated_results ul"),!0),Users.clickBehavior(),t.nanoscroller()},completed:t.ajaxCompleted()}),!1})},renderLi:function(t,e,n){this.users[t.id]=t,void 0==n&&(n=!1);var r=$("<li>").attr("userId",t.id),i=$("<div>");$(i).addClass("user-info"),$(i).append($("<h6>").text(t.name)),$(i).append($("<span>").text(t.email)).attr("title",t.email),$(i).append($("<span>").text(t.displayName)),$(r).addClass(t.role.name),$(r).append($("<img>").addClass("user-image").attr("src","https://www.gravatar.com/avatar/"+md5(t.email)+"?s=40")),$(r).append($(i)),n?$(e).prepend($(r)):$(e).append($(r))},bindSearch:function(){this.query=$(":input").val()},clickBehavior:function(){$(".paginated_results ul li").unbind("click"),$(".paginated_results ul li").click(function(){$(".paginated_results ul li").removeClass("active"),$("#invite_form, #register_form").hide(),console.log(Users.users[$(this).attr("userId")]),$(this).addClass("active")})},list:function(t,e,n){var r=this;$.ajax({url:window.location.origin+"/api/user?page="+n+(null==e?"":"&User[displayName]="+e),type:"GET",headers:{"X-Auth-Email":r.ciims.email,"X-Auth-Token":r.ciims.token},beforeSend:function(){t&&$(".paginated_results ul").empty(),r.ajaxBeforeSend()},success:function(t){this.page++;var e=$(".paginated_results ul");$(t.response).each(function(){r.renderLi(this,e)}),Users.clickBehavior(),r.nanoscroller()},completed:r.ajaxCompleted()})},nanoscroller:function(){return $(".nano").nanoScroller({destroy:!0}),$(".nano").nanoScroller({iOSNativeScrolling:!0})}};